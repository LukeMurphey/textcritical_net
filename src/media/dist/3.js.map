{"version":3,"sources":["webpack:///./src/components/URLs/index.jsx","webpack:///./src/components/Endpoints/index.js","webpack:///./src/components/ErrorMessage/index.jsx","webpack:///./src/components/PopupDialog/PopupDialog.scss?1847","webpack:///./src/components/PopupDialog/PopupDialog.scss","webpack:///./src/components/Reader/Chapter.scss?d12e","webpack:///./src/components/Reader/Chapter.scss","webpack:///./src/components/WordInformation/WordLemma.css?af8a","webpack:///./src/components/WordInformation/WordLemma.css","webpack:///./src/components/Reader/index.scss?c721","webpack:///./src/components/Reader/index.scss","webpack:///./src/components/AboutDialog/index.jsx","webpack:///./src/components/Settings/index.js","webpack:///./src/components/PopupDialog/index.jsx","webpack:///./src/components/Reader/Chapter.jsx","webpack:///./src/components/AboutWorkDialog/index.jsx","webpack:///./src/components/WorkDownloadDialog/index.jsx","webpack:///./src/components/WordInformation/WordLemma.jsx","webpack:///./src/components/WordInformation/index.jsx","webpack:///./src/components/WordInformation/ExternalLookupLinks.jsx","webpack:///./src/components/WordInformation/WordInformationPopup.jsx","webpack:///./src/components/FootnotePopup/index.jsx","webpack:///./src/components/LazyImage/index.jsx","webpack:///./src/components/BookSelection/index.jsx","webpack:///./src/components/Reader/NoWorkSelected.jsx","webpack:///./src/components/Icons/Library.svg","webpack:///./src/components/FavoriteWorks/WorkCard.jsx","webpack:///./src/components/Utils/index.jsx","webpack:///./src/components/FavoriteWorks/index.jsx","webpack:///./src/components/Reader/index.jsx","webpack:///./src/App.jsx"],"names":["START_PAGE","READ_WORK","work","divisionReference","divisions","divisionsFiltered","filter","entry","length","join","SEARCH","ignoreDiacritics","searchRelatedForms","page","url","GOOGLE_SEARCH","PERSEUS_WORD_LOOKUP","LOGEION_WORD_LOOKUP","config","getHostConfig","origin","window","location","hostname","ENDPOINT_READ_WORK","ENDPOINT_WORK_INFO","ENDPOINT_WORK_IMAGE","width","ENDPOINT_WORK_DOWNLOAD","format","ENDPOINT_RESOLVE_REFERENCE","reference","ENDPOINT_WORD_PARSE","word","ENDPOINT_WORKS_LISTS","ENDPOINT_SEARCH","query","relatedFormsConverted","ignoreDiacriticsConverted","encodeURIComponent","i","ErrorMessage","title","description","message","inverted","color","as","style","marginBottom","propTypes","PropTypes","string","isRequired","bool","defaultProps","api","content","__esModule","default","module","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","AboutDialog","Component","Table","Row","Cell","link","linkName","prefix","target","rel","href","onClose","this","props","Modal","defaultOpen","closeIcon","Header","icon","Content","basic","celled","collapsing","Body","getInfoRow","getInfoLinkRow","Actions","Button","onClick","func","LAST_READ_HISTORY","getWorksLastRead","lastReadHistory","localStorage","getItem","JSON","parse","workTitleSlug","err","console","warn","setWorkProgress","storage","type","x","setItem","removeItem","e","DOMException","code","name","index","findIndex","lastReadEntry","slice","splice","stringify","getPositionRecommendation","event","clientX","innerWidth","clientY","innerHeight","PopupDialog","isSmallMode","getContent","Segment","className","positionBelow","segmentStyleTinyBelow","segmentStyleTinyTop","segmentStyle","padding","Icon","closeButtonStyle","children","footer","footerStyle","y","positionRight","float","cursor","marginRight","position","maxHeight","overflowY","zIndex","top","left","bottom","height","Portal","open","number","element","Chapter","clickListener","t","highlightOverridden","handleClick","addHandler","removeHandler","nodeType","textContent","childEntries","Array","from","childNodes","reduce","accum","child","concat","getText","highlightedVerse","options","replace","attribs","data-verse","data-verse-descriptor","id","domToReact","reactElement","ref","wrapper","handler","current","addEventListener","removeEventListener","onWordClick","layerX","layerY","getElementsByClassName","map","highlight","classList","remove","verse","find","attributes","nodeValue","parentElement","toggle","setTimeout","highlightVerse","preventDefault","verseDescriptorElem","verseDescriptor","verseElem","onVerseClick","contentsElem","document","getElementById","contents","onNoteClick","onClickAway","includes","handleClickWord","handleClickVerse","handleClickEmpty","handleClickNote","createRef","getChapterContent","AboutWorkDialog","state","data","error","loadInfo","fetch","then","res","json","setState","toString","size","scrolling","display","Image","src","language","source","marginTop","source_description","wiki_info","summary","Placeholder","image","Line","Paragraph","EPUB_FORMAT","WorkDownloadDialog","value","stryle","Form","Field","Radio","label","checked","onChange","d","handleChange","primary","download","WordLemma","lexiconEntries","Message","warning","lexiconEntry","key","lemma_lexical_form","dangerouslySetInnerHTML","__html","definition","arrayOf","shape","WordInformation","loading","wordInfo","activeIndex","to","getWordInfo","prevProps","titleProps","newIndex","mode","ignoring_diacritics","Accordion","fluid","Fragment","form","Title","active","lemma","meaning","lexicon_entries","getSearchLinks","ExternalLookupLinks","WordInformationDialog","FootnoteDialog","notes","note","LazyImage","show","Visibility","onOnScreen","showImage","Loader","data-testid","inline","object","ClickStyle","BookSelection","c","works","search","toLowerCase","title_slug","author","editor","onSelectWork","lazyLoad","onLargeScreen","loadedWork","isRelated","isRelatedWork","isSameAuthor","isLoadedWork","paddingRight","Label","circular","empty","relatedWorks","relatedWork","authors","sort","a","b","sortWorks","searchLowerCase","onChangeDebounced","AwesomeDebouncePromise","onSearchChange","Input","placeholder","workMatchesSearch","getWorkRow","NoWorkSelected","info","WorkCard","history","useState","setData","setError","useEffect","titleSlug","workData","str","Card","floated","lineHeight","overflow","textOverflow","work_title","substring","maxLength","Meta","division_title","extra","workUrl","withRouter","FavoriteWorks","recentlyRead","setValue","Group","itemsPerRow","NextPageStyle","right","PriorPageStyle","ContainerStyle","paddingTop","SidebarStyle","resolveReferenceDebounced","Reader","modal","errorTitle","errorMessage","errorDescription","referenceValid","referenceValue","selectedWord","popupX","popupY","redirectedFrom","redirectedTo","sidebarVisible","lastSetReference","verseReferences","longNames","accumulator","division","full_title","test","descriptor","useTitles","descriptorsAreNames","txt","charAt","toUpperCase","substr","hasLongDivisionNames","areDescriptorsNames","text","getDivisionText","queryLower","opt","defaultWork","division0","division1","division2","division3","division4","leftovers","loadChapter","match","existingChapter","pathname","chapter","full_descriptor","params","highlightedVerseRef","addVerseToHistoryList","popupPositionRight","popupPositionBelow","selectedNote","related_works","navigateToChapter","goToReference","closeModal","FootnotePopup","bookSelectionOpen","visible","updateHistory","Promise","all","status","reference_descriptor","verse_to_highlight","preloadNextChapter","setErrorState","next_chapter","previous_chapter","preloadPriorChapter","q","referenceInfo","referenceDescription","classNameSuffix","Menu","fixed","Container","Item","setSidebarVisible","Popup","on","pinned","setBookSelectionOpen","onOpen","trigger","LibraryIcon","alt","action","disabled","changeReference","onKeyPress","onKeyPressed","marginLeft","Responsive","minWidth","Dropdown","direction","openAboutModal","openStartPage","goToPriorChapter","goToNextChapter","Sidebar","animation","onHide","vertical","openWorkInfoModal","openDownloadModal","openSearch","Pushable","Pusher","getDialogs","getPopups","Grid","Column","parent_division","floating","deburr","workSearch","convertDivisionsToOptions","changeChapter","paddingLeft","textAlign","warnings","header","total_chapters","total_chapters_in_book","horizontal","border","completed_chapters_in_book","Math","round","progress_in_book","Progress","margin","percent","getPlaceholder","App","includeMenu","attached","backgroundColor"],"mappings":"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","file":"3.bundle.js","sourcesContent":["/**\n * This page provides helper functions for creating URLs for the website.\n */\n\nexport function START_PAGE() {\n  return '/';\n}\n\nexport function READ_WORK(work = '', ...divisions) {\n  let divisionReference = '';\n\n  const divisionsFiltered = divisions.filter((entry) => entry);\n\n  if (divisions.length > 0 && work) {\n    divisionReference = divisionsFiltered.join('/');\n    return `/work/${work}/${divisionReference}`;\n  }\n\n  return `/work/${work}`;\n}\n\nexport function SEARCH(\n  q = '',\n  ignoreDiacritics = false,\n  searchRelatedForms = false,\n  page = '',\n) {\n  let url = `/search?q=${q}`;\n\n  if (page) {\n    url += `&page=${page}`;\n  }\n\n  if (ignoreDiacritics) {\n    url += '&ignore_diacritics=1';\n  }\n\n  if (searchRelatedForms) {\n    url += '&include_related=1';\n  }\n\n  return url;\n}\n\nexport function GOOGLE_SEARCH(q = '') {\n  return `https://www.google.com/search?q=${q}`;\n}\n\nexport function PERSEUS_WORD_LOOKUP(word = '') {\n  return `http://www.perseus.tufts.edu/hopper/morph?l=${word}&la=greek`;\n}\n\nexport function LOGEION_WORD_LOOKUP(word = '') {\n  return `https://logeion.uchicago.edu/${word}`;\n}\n","\n/**\n * The following provides a way to map REST calls to another service (for development).\n */\nconst config = {\n  // localhost: 'http://localhost:8080',\n};\n\n/**\n * This function determines what host to use for REST calls based on the hostname.\n * @param {*} origin The host to find the REST call domain for\n */\nexport function getHostConfig(origin = window.location.hostname) {\n  if (origin in config) {\n    return config[origin];\n  }\n\n  return '';\n}\n\nexport function ENDPOINT_READ_WORK(work = '', ...divisions) {\n\n  let divisionReference = '';\n\n  if (divisions.length > 0 && work) {\n    divisionReference = divisions.join('/');\n    return `${getHostConfig()}/api/work/${work}/${divisionReference}`;\n  }\n\n  return `${getHostConfig()}/api/work/${work}`;\n}\n\nexport function ENDPOINT_WORK_INFO(work) {\n  return `${getHostConfig()}/api/work_info/${work}`;\n}\n\nexport function ENDPOINT_WORK_IMAGE(work, width = 100) {\n  return `${getHostConfig()}/api/work_image/${work}?width=${width}`;\n}\n\nexport function ENDPOINT_WORK_DOWNLOAD(work, format = 'epub') {\n  return `${getHostConfig()}/api/download/work/${work}?format=${format}`;\n}\n\nexport function ENDPOINT_RESOLVE_REFERENCE(work, reference) {\n  return `${getHostConfig()}/api/resolve_reference/?work=${work}&ref=${reference}`;\n}\n\nexport function ENDPOINT_WIKI_INFO(search, search2 = null, search3 = null) {\n  const searchParams = [search, search2, search3].filter((e) => e != null);\n  return `${getHostConfig()}/api/wikipedia_info/${searchParams.join('/')}`;\n}\n\nexport function ENDPOINT_WORD_PARSE(word) {\n  return `${getHostConfig()}/api/word_parse/${word}`;\n}\n\nexport function ENDPOINT_WORKS_LISTS() {\n  return `${getHostConfig()}/api/works`;\n}\n\nexport function ENDPOINT_VERSION_INFO() {\n  return `${getHostConfig()}/api/version_info`;\n}\n\nexport function ENDPOINT_SEARCH(query, page = 1, relatedForms = false, ignoreDiacritics = false) {\n  let relatedFormsConverted = 0;\n  if (relatedForms) {\n    relatedFormsConverted = 1;\n  }\n\n  let ignoreDiacriticsConverted = 0;\n  if (ignoreDiacritics) {\n    ignoreDiacriticsConverted = 1;\n  }\n\n  return `${getHostConfig()}/api/search/${encodeURIComponent(query)}?page=${page}&related_forms=${relatedFormsConverted}&ignore_diacritics=${ignoreDiacriticsConverted}`;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Header, Segment } from 'semantic-ui-react';\n\n/**\n * This class renders the content of chapter of a work.\n */\nfunction ErrorMessage({\n  title, description, message, inverted,\n}) {\n  return (\n    <Segment color=\"red\" inverted={inverted}>\n      <Header as=\"h3\">{title}</Header>\n      {description && (\n        description\n      )}\n      {message && description && (\n        <div style={{ marginBottom: 12 }} />\n      )}\n      { message }\n    </Segment>\n  );\n}\n\nErrorMessage.propTypes = {\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  message: PropTypes.string.isRequired,\n  inverted: PropTypes.bool,\n};\n\nErrorMessage.defaultProps = {\n  description: null,\n  inverted: false,\n};\n\nexport default ErrorMessage;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./PopupDialog.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ui.inverted.segment.popupDialog{background-color:#2B2B2E;border:1px solid #444;-webkit-box-shadow:0 15px 20px rgba(0,0,0,0.5);box-shadow:0 15px 20px rgba(0,0,0,0.5)}.popupDialog{z-index:100}.ui.inverted.segment.popupDialogFooter{border-top:1px solid #202023;background-color:#202023}.ui.segment.popupDialogFooter{border-top:1px solid #DDD;background-color:#F6F6F6}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./Chapter.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".view_read_work .speaker{font-weight:bold;display:block;margin-top:12px}.view_read_work .milestone{color:#999999}.view_read_work [data-rend=italics]{font-style:italic}.view_read_work .milestone[data-n].milestone[data-unit]:after{font-size:smaller;margin:3px;content:\\\"[\\\" attr(data-unit) \\\" \\\" attr(data-n) \\\"]\\\"}.view_read_work .milestone[data-unit=para]{display:block;padding-top:12px}.view_read_work .l{display:block;margin-left:24px}.view_read_work .gap{content:\\\"...\\\"}.view_read_work .quote,.view_read_work .q{font-style:italic}.view_read_work .bibl{margin-left:3px;margin-right:3px;font-weight:bold}.view_read_work .bibl::before{content:\\\"[\\\"}.view_read_work .bibl::after{content:\\\"]\\\"}.view_read_work .docauthor{display:block;padding-bottom:16px}.view_read_work .label:not(.block) .label{margin-left:8px;margin-right:4px}.view_read_work .note-tag{margin-left:4px;margin-right:2px;cursor:hand;cursor:pointer}.view_read_work .read-more{margin-top:16px;display:block}.view_read_work .lb{display:block}.view_read_work .div3{padding-top:16px;display:block}.view_read_work .quote>.title{font-weight:bold;display:block}.view_read_work .castlist:before{content:\\\"Cast list: \\\"}.view_read_work .castlist>.castitem:after{content:\\\", \\\"}.view_read_work .castlist>.castitem:last-child:after{content:\\\"\\\"}.view_read_work .argument{font-style:italic}.view_read_work .p{margin-bottom:16px;display:block}.view_read_work .lemma{text-decoration:underline;font-weight:bold}.view_read_work .orth{font-weight:bold;font-size:14pt;display:block}.view_read_work .etym{display:block;margin-top:12px;font-weight:bold}.view_read_work .sense{display:block;margin-left:32px}.view_read_work .hide{display:none}.view_read_work{font-family:\\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif}.view_read_work .icon-info-sign{font-family:\\\"Icons\\\";font-style:normal}.view_read_work .icon-info-sign:before{content:\\\"\\\\f129\\\"}.verse.number{font-weight:bold}.inverted .verse.number{color:white}.verse-container{display:inline;line-height:25px}.block{display:block;margin-top:12px}.verse-link{padding:0 4px}.verse-link:visited{color:#EEE}.verse-link:active{color:#EEE}.verse-link:link{color:#EEE}.verse-link:hover{color:#08C}.verse-link.highlighted{background-color:red;border-radius:2px}.verse-link.highlighted .verse.number{color:white}.inverted{background-color:#2B2B2E;color:#F9F9FA}.no_definition_entries{font-style:italic}.word.highlighted,.word.searched{border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;color:white}.word.highlighted{background-color:#49AFCD}.word.searched{background-color:#468847}.division-2{padding-left:24px}.division-3{padding-left:48px}.division-4{padding-left:72px}.division-5{padding-left:96px}.verse .word{cursor:pointer;cursor:hand}.verse .word:hover{text-decoration:underline}@media print{.view_read_work .note-tag{display:none}}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./WordLemma.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".view_lexicon .speaker {\\n  font-weight: bold;\\n  display: block;\\n  margin-top: 12px;\\n}\\n.view_lexicon .milestone {\\n  color: #999999;\\n}\\n.view_lexicon [data-rend=\\\"italics\\\"] {\\n  font-style: italic;\\n}\\n.view_lexicon .milestone[data-n].milestone[data-unit]:after {\\n  font-size: smaller;\\n  margin: 3px;\\n  content: \\\"[\\\" attr(data-unit) \\\" \\\" attr(data-n) \\\"]\\\";\\n}\\n.view_lexicon .milestone[data-unit=\\\"para\\\"] {\\n  display: block;\\n  padding-top: 12px;\\n}\\n.view_lexicon .l {\\n  display: block;\\n  margin-left: 24px;\\n}\\n.view_lexicon .gap {\\n  content: \\\"...\\\";\\n}\\n.view_lexicon .quote,\\n.view_lexicon .q {\\n  font-style: italic;\\n}\\n.view_lexicon .bibl {\\n  margin-left: 3px;\\n  margin-right: 3px;\\n  font-weight: bold;\\n}\\n.view_lexicon .bibl::before {\\n  content: \\\"[\\\";\\n}\\n.view_lexicon .bibl::after {\\n  content: \\\"]\\\";\\n}\\n.view_lexicon .docauthor {\\n  display: block;\\n  padding-bottom: 16px;\\n}\\n.view_lexicon .label:not(.block) .label {\\n  margin-left: 8px;\\n  margin-right: 4px;\\n}\\n.view_lexicon .note-tag {\\n  margin-left: 4px;\\n  margin-right: 2px;\\n  cursor: hand;\\n  cursor: pointer;\\n}\\n.view_lexicon .read-more {\\n  margin-top: 16px;\\n  display: block;\\n}\\n\\n.view_lexicon .lb {\\n  display: block;\\n}\\n\\n.view_lexicon .div3 {\\n  padding-top: 16px;\\n  display: block;\\n}\\n\\n.view_lexicon .quote > .title {\\n  font-weight: bold;\\n  display: block;\\n}\\n\\n.view_lexicon .p {\\n  margin-bottom: 16px;\\n  display: block;\\n}\\n\\n.view_lexicon .lemma {\\n  text-decoration: underline;\\n  font-weight: bold;\\n}\\n\\n.view_lexicon .orth {\\n  font-weight: bold;\\n  display: block;\\n}\\n\\n.view_lexicon .etym {\\n  display: block;\\n  margin-top: 12px;\\n  font-weight: bold;\\n}\\n\\n/**\\n * Style the sense entries so that they are nested accordingly\\n */\\n.view_lexicon .sense {\\n  display: block;\\n  margin-left: 15px;\\n  margin-top: 8px;\\n}\\n\\n/**\\n * Set the margins\\n */\\n.view_lexicon .sense[data-level=\\\"2\\\"] {\\n  margin-left: 30px;\\n}\\n\\n.view_lexicon .sense[data-level=\\\"3\\\"] {\\n  margin-left: 45px;\\n}\\n\\n.view_lexicon .sense[data-level=\\\"4\\\"] {\\n  margin-left: 60px;\\n}\\n\\n.view_lexicon .sense[data-level=\\\"5\\\"] {\\n  margin-left: 75px;\\n}\\n\\n.view_lexicon .sense[data-level=\\\"6\\\"] {\\n  margin-left: 90px;\\n}\\n\\n/**\\n * Show the N indicator (\\\"1.\\\", \\\"2.\\\", etc.)\\n */\\n.view_lexicon .sense[data-level]:before {\\n  content: \\\"\\\" attr(data-n) \\\". \\\";\\n}\\n\\n.view_lexicon .sense[data-level=\\\"0\\\"]:before {\\n  content: \\\"\\\";\\n}\\n\\n/* -----------------------------------------\\n     Read work\\n     ----------------------------------------- */\\n.verse.number {\\n  font-weight: bold;\\n  color: black;\\n  /*\\n  border: white solid 1px;\\n  padding: 1px 4px 1px 4px;\\n  background-color: white;\\n  */\\n}\\n\\n.verse-container {\\n  display: inline;\\n  line-height: 25px;\\n}\\n\\n.block {\\n  display: block;\\n  margin-top: 12px;\\n}\\n\\n.no_definition_entries {\\n  font-style: italic;\\n}\\n\\n.verse .word {\\n  cursor: pointer;\\n  cursor: hand;\\n}\\n.verse .word:hover {\\n  text-decoration: underline;\\n}\\n\\n.view_lexicon .tr {\\n  font-style: italic;\\n  font-weight: bold;\\n}\\n\\n@media print {\\n  .view_lexicon .note-tag {\\n    display: none;\\n  }\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media print{.ui.top.menu{display:none}.underMenu{margin-top:0}}@media screen{.underMenu{margin-top:60px}}@media only screen{.ui.inverted.action.input.referenceJumpInput>input{width:130px}}@media only screen and (min-width: 767px){.ui.inverted.action.input.referenceJumpInput>input{width:180px}}.menu.control.inverted{background-color:#202023;border-bottom:1px solid #202023}.pushable.inverted>.pusher,.pushable.inverted>.pusher,.underMenu.inverted{background-color:#2B2B2E}.otherVersions>.menu>.item>.text{margin-right:64px}.bookProgress.ui.progress>.bar,.bookProgress.ui.progress{border-radius:0}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import React, { Component } from 'react';\nimport {\n  Button, Header, Modal, Table,\n} from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n\nclass AboutDialog extends Component {\n  static getInfoRow(title, description) {\n    return (\n      <Table.Row>\n        <Table.Cell>\n          <strong>{title}</strong>\n        </Table.Cell>\n        <Table.Cell>{description}</Table.Cell>\n      </Table.Row>\n    );\n  }\n\n  static getInfoLinkRow(title, link, linkName, prefix = '') {\n    return (\n      <Table.Row>\n        <Table.Cell>\n          <strong>{title}</strong>\n        </Table.Cell>\n        <Table.Cell>\n          {prefix}\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href={link}>\n            {linkName}\n          </a>\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n\n  render() {\n    const { onClose } = this.props;\n    return (\n      <Modal defaultOpen onClose={onClose} closeIcon>\n        <Header icon=\"info\" content=\"About TextCritical.net\" />\n        <Modal.Content>\n          <p>\n            TextCritical.net is a website that provides ancient Greek texts and\n            useful analysis tools.\n          </p>\n          <Table basic=\"very\" celled collapsing>\n            <Table.Body>\n              {AboutDialog.getInfoRow('Version', '4.0')}\n              {AboutDialog.getInfoLinkRow(\n                'Sources of the works',\n                'https://lukemurphey.net/projects/ancient-text-reader/wiki/Content_Sources',\n                'LukeMurphey.net',\n                'Available at ',\n              )}\n              {AboutDialog.getInfoLinkRow(\n                'Source Code',\n                'https://github.com/LukeMurphey/textcritical_net',\n                'Github.com',\n                'Available at ',\n              )}\n              {AboutDialog.getInfoLinkRow(\n                'Components used',\n                'https://lukemurphey.net/projects/ancient-text-reader/wiki/Dependencies',\n                'LukeMurphey.net',\n                'Available at ',\n              )}\n            </Table.Body>\n          </Table>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={onClose}>Close</Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nAboutDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default AboutDialog;\n","const LAST_READ_HISTORY = \"lastReadHistory\";\nexport function maxHistoryCount() {\n  return 5;\n}\n\nexport function storageAvailable(type) {\n  let storage;\n  try {\n    storage = window[type];\n    const x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return (\n      e instanceof DOMException &&\n      // everything except Firefox\n      (e.code === 22 ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === \"QuotaExceededError\" ||\n        // Firefox\n        e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\n      // acknowledge QuotaExceededError only if there's something already stored\n      storage &&\n      storage.length !== 0\n    );\n  }\n}\n\nexport function getWorksLastRead(storageOverride = null) {\n  const storage = storageOverride || localStorage;\n\n  const lastReadHistory = storage.getItem(LAST_READ_HISTORY);\n\n  if (lastReadHistory) {\n    try {\n      const lastReadHistoryParsed = JSON.parse(lastReadHistory);\n\n      // Make sure that the list is an array and has the necesary properties.\n      return lastReadHistoryParsed.filter((entry) => {\n        return entry.workTitleSlug;\n      });\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn(\"The list of last read works could not be loaded\");\n      return null; // The list could not be loaded\n    }\n  }\n\n  return null;\n}\n\nexport function setWorkProgress(\n  workTitleSlug,\n  divisions,\n  divisionReference,\n  storageOverride = null\n) {\n  const storage = storageOverride || localStorage;\n\n  if (storageAvailable(\"localStorage\")) {\n    // See if the entry exists already\n    let lastReadHistory = getWorksLastRead(storage);\n\n    // Initialize the history object if we don't have one yet\n    if (lastReadHistory === null) {\n      lastReadHistory = [];\n    }\n\n    // Find the existing index if it exists\n    const index = lastReadHistory.findIndex(\n      (entry) => entry.workTitleSlug === workTitleSlug\n    );\n\n    // Get the existing entry or initial it\n    const lastReadEntry = index >= 0 ? lastReadHistory[index] : {};\n\n    // Update the history to remove the existing entry\n    if (index >= 0) {\n      lastReadHistory = [\n        ...lastReadHistory.slice(0, index),\n        ...lastReadHistory.slice(index + 1),\n      ];\n    }\n\n    // Set the entry\n    lastReadEntry.workTitleSlug = workTitleSlug;\n    lastReadEntry.divisions = divisions;\n    lastReadEntry.divisionReference = divisionReference;\n\n    // Splice it in\n    lastReadHistory.splice(0, 0, lastReadEntry);\n\n    // Shorten the list to the limit\n    if (lastReadHistory.length > maxHistoryCount()) {\n      lastReadHistory = lastReadHistory.slice(0, maxHistoryCount());\n    }\n\n    // Update the history\n    storage.setItem(LAST_READ_HISTORY, JSON.stringify(lastReadHistory));\n  }\n}\n\nexport function clearWorksLastRead(storageOverride = null) {\n  const storage = storageOverride || localStorage;\n  storage.removeItem(LAST_READ_HISTORY);\n}\n","import React from 'react';\nimport { Segment, Icon, Portal } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport './PopupDialog.scss';\n\n/**\n * Determines a recommendation about where to show a popup.\n *\n * @param {object} event The event from the handler with the dimensions\n */\nexport const getPositionRecommendation = (event) => {\n  const positionRight = event.clientX < (window.innerWidth / 2);\n  const positionBelow = event.clientY < (window.innerHeight / 2);\n\n  return [positionRight, positionBelow];\n};\n\nconst PopupDialog = (props) => {\n  const {\n    children, onClose, x, y, positionBelow, positionRight, footer, inverted,\n  } = props;\n\n  /**\n   * This is done to get rid of the outline around the close button and get it to show up at the\n   * right of the screen.\n   */\n  const closeButtonStyle = {\n    float: 'right',\n    cursor: 'pointer',\n    marginRight: 0,\n  };\n\n  // Correct for the cases where the dialog is off of the bottom of the screen.\n  const segmentStyle = {\n    position: 'absolute',\n    width: 500,\n    maxHeight: 300,\n    overflowY: 'auto',\n    padding: 0,\n    zIndex: 103,\n  };\n\n  const segmentStyleTinyTop = {\n    ...segmentStyle,\n    ...{\n      top: 45,\n      left: 5,\n      width: 'calc(100% - 10px)',\n      position: 'fixed',\n    },\n  };\n\n  const segmentStyleTinyBelow = {\n    ...segmentStyle,\n    ...{\n      bottom: 5,\n      left: 5,\n      width: 'calc(100% - 10px)',\n      position: 'fixed',\n    },\n  };\n\n  // Determine if we ought to enter the mode for mobile devices\n  const isSmallMode = () => window.innerWidth < 1024;\n\n  // Get the style appropriate for the segment to appear\n  const getSegmentStyle = () => {\n    if (isSmallMode()) {\n      if (positionBelow) {\n        return segmentStyleTinyBelow;\n      }\n      return segmentStyleTinyTop;\n    }\n\n    return segmentStyle;\n  };\n\n  // This applies to the footer\n  const footerStyle = {\n    position: 'sticky',\n    bottom: 0,\n    width: '100%',\n  };\n\n  // Get the main content for the popuo\n  const getContent = () => (\n    <Segment className=\"popupDialog\" inverted={inverted} style={getSegmentStyle()}>\n      <div style={{ padding: 15 }}>\n        <Icon style={closeButtonStyle} onClick={onClose}>&#10005;</Icon>\n        {children}\n      </div>\n      {footer && (\n        <Segment className=\"popupDialogFooter\" inverted={inverted} basic style={footerStyle}>{footer}</Segment>\n      )}\n    </Segment>\n  );\n\n  // Determine the height of the dialog\n  const height = segmentStyle.height ? segmentStyle.height : 200;\n\n  // Calculate the vertical position\n  if (positionBelow) {\n    segmentStyle.top = y;\n  } else {\n    segmentStyle.top = y - height - 20;\n  }\n\n  // Calculate the horizontal position\n  if (positionRight) {\n    segmentStyle.left = x;\n  } else {\n    segmentStyle.left = x - segmentStyle.width - 10;\n  }\n\n  // If we are running in small mode, run it as a portal so that it can appear in a fixed location\n  if (isSmallMode()) {\n    return (\n      <Portal open>\n        {getContent()}\n      </Portal>\n    );\n  }\n\n  // Otherwise, run it inline so that it is fixed in the rest of the content\n  return getContent();\n};\n\nPopupDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  positionBelow: PropTypes.bool,\n  positionRight: PropTypes.bool,\n  children: PropTypes.element.isRequired,\n  footer: PropTypes.element,\n  inverted: PropTypes.bool,\n};\n\nPopupDialog.defaultProps = {\n  positionBelow: true,\n  positionRight: true,\n  footer: null,\n  inverted: false,\n};\n\nexport default PopupDialog;\n","import React, { createRef, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport parse, { domToReact } from 'html-react-parser';\nimport { getPositionRecommendation } from '../PopupDialog';\nimport './Chapter.scss';\n\n/**\n * This class renders the content of chapter of a work.\n *\n * render() is going to parse some HTML it gets from the server and then present it.\n * The reason is that the works are persisted in a preformatted state in order to improve\n * performance. The alternative is to parse the XML on the client-side and process it into\n * HTML. This would mean that the content could not be cached. Right now, the server preprocesses\n * the content into HTML chunks and then caches so that it can be loaded quickly.\n */\nclass Chapter extends Component {\n  constructor(props) {\n    super(props);\n\n    // We need to track the event listener with the bind call so that it can be removed\n    // See https://dev.to/em4nl/function-identity-in-javascript-or-how-to-remove-event-listeners-properly-1ll3\n    this.clickListener = null;\n\n    // We need to track when a verse was selected for highlight\n    this.highlightOverridden = false;\n  }\n\n  /**\n   * Wire up handlers for the clicking of the words and verses.\n   */\n  componentDidMount() {\n    this.clickListener = (event) => this.handleClick(event);\n    this.addHandler(this.clickListener);\n  }\n\n  /**\n   * Un wire the handlers to save memory.\n   */\n  componentWillUnmount() {\n    this.removeHandler(this.clickListener);\n  }\n\n  /**\n   * Get the text for the node separated into lines.\n   *\n   * @param {object} element The element to get the text from\n   */\n  getText(element) {\n    try {\n      const children = [];\n\n      // If the node is text, then add the line\n      if (element.nodeType === 3) {\n        if (element.textContent && element.textContent.length > 0) {\n          children.push(element.textContent);\n        }\n      }\n\n      // Accumulate the children entries\n      const childEntries = Array.from(element.childNodes).reduce(\n        (accum, child) => accum.concat(...this.getText(child)),\n        [],\n      );\n\n      children.push(...childEntries);\n\n      // Return the content\n      if (children) {\n        return children;\n      }\n    } catch (err) {\n      // If an exception happens, then just use the text content\n      return [element.textContent];\n    }\n\n    return [element.textContent];\n  }\n\n  /**\n   * Get the chapter content\n   * @param {string} className The class name to put the content under\n   */\n  getChapterContent(className) {\n    const { content, highlightedVerse } = this.props;\n\n    // These options will process the nodes such that the node gets a tag indicating that it is\n    // highlighted\n    const options = {\n      replace: ({ attribs, children }) => {\n        if (!attribs) return undefined;\n\n        if (attribs && attribs['data-verse'] === highlightedVerse) {\n          return (\n            <a\n              className=\"verse-link highlighted\"\n              href={attribs.href}\n              data-verse={attribs['data-verse']}\n              data-verse-descriptor={attribs['data-verse-descriptor']}\n              id={attribs.id}\n            >\n              {domToReact(children, options)}\n            </a>\n          );\n        }\n\n        return undefined;\n      },\n    };\n\n    const reactElement = parse(content, options);\n\n    return (\n      <div\n        className={className}\n        ref={this.wrapper}\n      >\n        {reactElement}\n      </div>\n    );\n  }\n\n  addHandler(handler, type = 'click') {\n    if (this.wrapper.current) {\n      this.wrapper.current.addEventListener(type, (event) => handler(event));\n    }\n  }\n\n  removeHandler(handler, type = 'click') {\n    if (this.wrapper.current) {\n      this.wrapper.current.removeEventListener(type, (event) => handler(event));\n    }\n  }\n\n  /**\n   * Handle the clicking of a word.\n   *\n   * @param {*} event The event object\n   */\n  handleClickWord(event) {\n    const word = event.target.textContent;\n    const { onWordClick } = this.props;\n\n    const [positionRight, positionBelow] = getPositionRecommendation(event);\n\n    onWordClick(word, event.layerX, event.layerY, positionRight, positionBelow);\n  }\n\n  /**\n   * Unhighlight existing verses.\n   */\n  unhighlistVerses() {\n    if (this.wrapper && this.wrapper.current) {\n      const highlights = Array.from(this.wrapper.current.getElementsByClassName('highlighted'));\n      highlights.map((highlight) => highlight.classList.remove('highlighted'));\n    }\n  }\n\n  /**\n   * Highlight the verse.\n   * @param {string} verse The ID of the verse.\n   */\n  highlightVerse(verse) {\n    if (this.wrapper && this.wrapper.current) {\n      const verses = Array.from(this.wrapper.current.getElementsByClassName('verse-link'));\n\n      // Find the element with the verse\n      const target = verses.find((element) => {\n        if (element.attributes['data-verse'] && element.attributes['data-verse'].nodeValue === verse) {\n          return true;\n        }\n        return false;\n      });\n\n      // Mark it if we found it\n      if (target) {\n        target.parentElement.classList.toggle('highlighted');\n      }\n    } else {\n      setTimeout(() => this.highlightVerse(verse), 100);\n    }\n  }\n\n  /**\n   * Handle the clicking of a verse.\n   *\n   * @param {*} event The event object\n   */\n  handleClickVerse(event) {\n    // Don't follow the link\n    event.preventDefault();\n\n    // Get the target containing the verse info\n    const target = event.target.parentElement;\n\n    // Get the descriptor of the verse\n    const verseDescriptorElem = Array.from(target.attributes).find((element) => element.name === 'data-verse-descriptor');\n    const verseDescriptor = verseDescriptorElem ? verseDescriptorElem.nodeValue : null;\n\n    // Get the ID\n    const { id } = target;\n\n    // Get the the href\n    let href;\n\n    if (target.attributes.href) {\n      href = target.attributes.href.nodeValue;\n    } else {\n      href = null;\n    }\n\n    // Get the verse number\n    const verseElem = Array.from(target.attributes).find((element) => element.name === 'data-verse');\n    const verse = verseElem ? verseElem.nodeValue : null;\n\n    // Stop if we didn't get what we needed to continue\n    if (!verseDescriptor) {\n      return;\n    }\n\n    this.highlightOverridden = true;\n\n    // Fire off the handler\n    const { onVerseClick } = this.props;\n    onVerseClick(verseDescriptor, verse, id, href, event.x, event.y);\n\n    // Unhighlight existing verses\n    // this.unhighlistVerses();\n\n    // Highlight the verse\n    // target.parentElement.classList.toggle('highlighted');\n  }\n\n  /**\n   * handle the clicking of a note.\n   */\n  handleClickNote(event) {\n    // Get the ID\n    const { id } = event.target;\n\n    // Get the contents for the given ID\n    const contentsElem = document.getElementById(`content_for_${id}`);\n    let contents = ['Note content could not be found'];\n\n    if (contentsElem) {\n      contents = [contentsElem.textContent];\n    }\n\n    const [positionRight, positionBelow] = getPositionRecommendation(event);\n\n    // Fire off the handler\n    const { onNoteClick } = this.props;\n    onNoteClick(contents, id, event.layerX, event.layerY, positionRight, positionBelow);\n  }\n\n  handleClickEmpty() {\n    const { onClickAway } = this.props;\n    onClickAway();\n  }\n\n  handleClick(event) {\n    // Determine if we are clicking a word, verse, note, or just empty space\n    if (event.target.className.includes('word')) {\n      this.handleClickWord(event);\n    } else if (event.target.className.includes('verse')) {\n      this.handleClickVerse(event);\n      this.handleClickEmpty();\n    } else if (event.target.className.includes('note-tag')) {\n      this.handleClickNote(event);\n    } else {\n      this.handleClickEmpty();\n    }\n  }\n\n  render() {\n    const { inverted } = this.props;\n\n    // Determine the class name\n    let className = 'view_read_work';\n\n    if (inverted) {\n      className = 'view_read_work inverted';\n    }\n\n    // We are keeping a reference to the wrapper so that math can be done regarding client rectangle\n    // See https://medium.com/trabe/getting-rid-of-finddomnode-method-in-your-react-application-a0d7093b2660\n    this.wrapper = createRef();\n    return (\n      <>\n        {this.getChapterContent(className)}\n      </>\n    );\n  }\n}\n\nChapter.propTypes = {\n  content: PropTypes.string.isRequired,\n  highlightedVerse: PropTypes.string,\n  onVerseClick: PropTypes.func,\n  onWordClick: PropTypes.func,\n  onClickAway: PropTypes.func,\n  onNoteClick: PropTypes.func,\n  inverted: PropTypes.bool,\n};\n\nChapter.defaultProps = {\n  highlightedVerse: null,\n  onVerseClick: () => { },\n  onWordClick: () => { },\n  onClickAway: () => { },\n  onNoteClick: () => { },\n  inverted: false,\n};\n\nexport default Chapter;\n","import React, { Component } from 'react';\nimport {\n  Button, Header, Modal, Table, Placeholder, Image,\n} from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport { ENDPOINT_WORK_INFO, ENDPOINT_WORK_IMAGE } from '../Endpoints';\nimport ErrorMessage from '../ErrorMessage';\n\nclass AboutWorkDialog extends Component {\n  static getInfoRow(title, description) {\n    return (\n      <Table.Row>\n        <Table.Cell>\n          <strong>{title}</strong>\n        </Table.Cell>\n        <Table.Cell>{description}</Table.Cell>\n      </Table.Row>\n    );\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    const { work } = this.props;\n    this.loadInfo(work);\n  }\n\n  loadInfo(work) {\n    fetch(ENDPOINT_WORK_INFO(work))\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({ data });\n      })\n      .catch((e) => {\n        this.setState({\n          error: e.toString(),\n        });\n      });\n  }\n\n  render() {\n    const { onClose, work } = this.props;\n    const { data, error } = this.state;\n\n    return (\n      <Modal size=\"small\" defaultOpen onClose={onClose} closeIcon>\n        {!data && (\n          <Header icon=\"info\" content=\"About this Book\" />\n        )}\n        {data && (\n          <Header icon=\"info\" content={`About ${data.title}`} />\n        )}\n        <Modal.Content scrolling>\n          {error && (\n            <ErrorMessage\n              title=\"Unable to load work information\"\n              description=\"Unable to get information about the work from the server\"\n              message={error}\n            />\n          )}\n          {!error && data && (\n            <>\n              <div style={{ display: 'inline-block', marginRight: 16 }}>\n                <Image src={ENDPOINT_WORK_IMAGE(work)} />\n              </div>\n              <div style={{ display: 'inline-block' }}>\n                <Table basic=\"very\" celled collapsing>\n                  <Table.Body>\n                    {AboutWorkDialog.getInfoRow('Title', data.title)}\n                    {AboutWorkDialog.getInfoRow('Language', data.language)}\n                    {AboutWorkDialog.getInfoRow('Source', data.source)}\n                  </Table.Body>\n                </Table>\n              </div>\n              <div style={{ marginTop: 16 }}>\n                {data.source_description && (\n                  data.source_description\n                )}\n              </div>\n              {data.wiki_info && (\n                <div style={{ marginTop: 16 }}>\n                  {data.wiki_info.summary}\n                </div>\n              )}\n            </>\n          )}\n          {!error && !data && (\n            <Placeholder>\n              <Placeholder.Header image>\n                <Placeholder.Line />\n                <Placeholder.Line />\n              </Placeholder.Header>\n              <Placeholder.Paragraph>\n                <Placeholder.Line />\n                <Placeholder.Line />\n                <Placeholder.Line />\n                <Placeholder.Line />\n              </Placeholder.Paragraph>\n            </Placeholder>\n          )}\n        </Modal.Content>\n        <Modal.Actions>\n          {data && data.wiki_info && (\n            <a target=\"_blank\" style={{ marginTop: 10, float: 'left' }} rel=\"noopener noreferrer\" href={data.wiki_info.url}>View on wikipedia</a>\n          )}\n          <Button onClick={onClose}>Close</Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nAboutWorkDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  work: PropTypes.string.isRequired,\n};\n\nexport default AboutWorkDialog;\n","import React, { Component } from 'react';\nimport {\n  Button, Header, Modal, Radio, Form,\n} from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport { ENDPOINT_WORK_DOWNLOAD } from '../Endpoints';\n\nconst MOBI_FORMAT = 'mobi';\nconst EPUB_FORMAT = 'epub';\n\nclass WorkDownloadDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      format: EPUB_FORMAT,\n    };\n  }\n\n  handleChange(event, data) {\n    this.setState({\n      format: data.value,\n    });\n  }\n\n  download() {\n    const { format } = this.state;\n    const { work } = this.props;\n    document.location = ENDPOINT_WORK_DOWNLOAD(work, format);\n  }\n\n  render() {\n    const { onClose } = this.props;\n    const { format } = this.state;\n\n    return (\n      <Modal size=\"tiny\" defaultOpen onClose={onClose} closeIcon>\n        <Header icon=\"info\" content=\"Download Book\" />\n        <Modal.Content>\n          <div stryle={{ marginBottom: 12 }}>Select which format you would like to download:</div>\n          <Form>\n            <Form.Field>\n              <Radio\n                label=\"ePUB Format (Recommended)\"\n                name=\"radioGroup\"\n                value={EPUB_FORMAT}\n                checked={format === EPUB_FORMAT}\n                onChange={(e, d) => this.handleChange(e, d)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Radio\n                label=\"MOBI Format (Amazon Kindle)\"\n                name=\"radioGroup\"\n                value={MOBI_FORMAT}\n                checked={format === MOBI_FORMAT}\n                onChange={(e, d) => this.handleChange(e, d)}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={onClose}>Close</Button>\n          <Button primary onClick={() => this.download()}>Download</Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nWorkDownloadDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  work: PropTypes.string.isRequired,\n};\n\nexport default WorkDownloadDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Message, Icon } from 'semantic-ui-react';\nimport './WordLemma.css';\n\nconst WordLemma = (props) => {\n  const {\n    lexiconEntries, inverted,\n  } = props;\n\n  let className = '';\n\n  if (inverted) {\n    className = 'inverted';\n  }\n\n  return (\n    <>\n      {lexiconEntries.length === 0 && (\n        <Message warning className={className}>\n          <Icon name=\"warning\" />\n          No definition available from Liddel and Scott.\n        </Message>\n      )}\n      {lexiconEntries && (\n        lexiconEntries.map((lexiconEntry) => (\n          <div\n            key={lexiconEntry.lemma_lexical_form}\n            className=\"view_lexicon\"\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{ __html: lexiconEntry.definition }}\n          />\n        ))\n      )}\n    </>\n  );\n};\n\nWordLemma.propTypes = {\n  lexiconEntries: PropTypes.arrayOf(PropTypes.shape),\n  inverted: PropTypes.bool,\n};\n\nWordLemma.defaultProps = {\n  lexiconEntries: null,\n  inverted: false,\n};\n\nexport default WordLemma;\n","import React, { Component } from 'react';\nimport { Placeholder, Accordion, Icon } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { ENDPOINT_WORD_PARSE } from '../Endpoints';\nimport { SEARCH } from '../URLs';\nimport ErrorMessage from '../ErrorMessage';\nimport WordLemma from './WordLemma';\n\nconst MODE_LOADING = 0;\nconst MODE_ERROR = 1;\nconst MODE_DONE = 2;\n\nclass WordInformation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      wordInfo: null,\n      error: null,\n      activeIndex: null,\n    };\n  }\n\n  static getSearchLinks(word, work) {\n    if (work) {\n      return (\n        <>\n          Search for\n          {' '}\n          {word}\n          {' '}\n          in\n          {' '}\n          <Link to={SEARCH(`work:${work} ${word}`)}>this work</Link>\n          {' '}\n          or\n          {' '}\n          <Link to={SEARCH(word)}>all works</Link>\n        </>\n      );\n    }\n    return (\n      <>\n        Search for\n        {' '}\n        <Link to={SEARCH(word)}>{word}</Link>\n      </>\n    );\n  }\n\n  componentDidMount() {\n    const { word } = this.props;\n    this.getWordInfo(word);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { word } = this.props;\n    if (word !== prevProps.word) {\n      this.getWordInfo(word);\n    }\n  }\n\n  /**\n   * Get information for the given word.\n   *\n   * @param {string} word The word to get information on\n   */\n  getWordInfo(word) {\n    this.setState({ loading: true });\n\n    fetch(ENDPOINT_WORD_PARSE(word))\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({\n          wordInfo: data,\n          loading: false,\n          error: null,\n          activeIndex: null,\n        });\n      })\n      .catch((e) => {\n        this.setState({\n          error: e.toString(),\n          loading: false,\n        });\n      });\n  }\n\n  handleClick(e, titleProps) {\n    const { index } = titleProps;\n    const { activeIndex } = this.state;\n    const newIndex = activeIndex === index ? -1 : index;\n\n    this.setState({ activeIndex: newIndex });\n  }\n\n  render() {\n    const { word, inverted, work } = this.props;\n    const {\n      wordInfo, loading, error, activeIndex,\n    } = this.state;\n\n    let mode = MODE_LOADING;\n    if (!loading && wordInfo) {\n      mode = MODE_DONE;\n    }\n    else if (!loading && error) {\n      mode = MODE_ERROR;\n    }\n\n    return (\n      <>\n        {mode === MODE_DONE && (\n          <div>\n            Found\n            {' '}\n            {wordInfo.length}\n            {' '}\n            {wordInfo.length !== 1 && (\n              <>parses for</>\n            )}\n            {wordInfo.length === 1 && (\n              <>parse for</>\n            )}\n            {' '}\n            {word}\n            .\n            {wordInfo && wordInfo.length > 0 && wordInfo[0].ignoring_diacritics && (\n              <>\n                {' '}\n                An exact match could not be found, so similar words with different diacritical marks\n                are being returned.\n              </>\n            )}\n            <Accordion inverted={inverted} style={{ marginTop: 18 }} fluid>\n              {wordInfo.map((entry, index) => (\n                <React.Fragment key={`${entry.form}::${entry.description}`}>\n                  <Accordion.Title\n                    active={activeIndex === index}\n                    index={index}\n                    onClick={(e, titleProps) => this.handleClick(e, titleProps)}\n                  >\n                    <Icon name=\"dropdown\" />\n                    {entry.lemma}\n                    {' '}\n                    (\n                    {entry.description}\n                    ):\n                    {' '}\n                    {entry.meaning}\n                  </Accordion.Title>\n                  <Accordion.Content\n                    active={activeIndex === index}\n                  >\n                    <WordLemma\n                      lexiconEntries={entry.lexicon_entries}\n                      inverted={inverted}\n                    />\n                  </Accordion.Content>\n                </React.Fragment>\n              ))}\n            </Accordion>\n            <div style={{ marginTop: 12 }}>\n              {WordInformation.getSearchLinks(word, work)}\n            </div>\n          </div>\n        )}\n        {mode === MODE_ERROR && (\n          <div>\n            <ErrorMessage\n              inverted={inverted}\n              title=\"Unable to get word information\"\n              description=\"Information for the given word could not be obtained.\"\n              message={error}\n            />\n          </div>\n        )}\n        {mode === MODE_LOADING && (\n          <Placeholder inverted={inverted} style={{ marginTop: 32 }}>\n            <Placeholder.Header>\n              <Placeholder.Line />\n            </Placeholder.Header>\n            <Placeholder.Paragraph>\n              <Placeholder.Line />\n            </Placeholder.Paragraph>\n          </Placeholder>\n        )}\n      </>\n    );\n  }\n}\n\nWordInformation.propTypes = {\n  word: PropTypes.string.isRequired,\n  work: PropTypes.string,\n  inverted: PropTypes.bool,\n};\n\nWordInformation.defaultProps = {\n  inverted: false,\n  work: null,\n};\n\nexport default WordInformation;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { GOOGLE_SEARCH, PERSEUS_WORD_LOOKUP, LOGEION_WORD_LOOKUP } from '../URLs';\n\nfunction ExternalLookupLinks({ word }) {\n  return (\n    <div>\n      Look up at\n      {' '}\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={PERSEUS_WORD_LOOKUP(word)}>\n        Perseus\n      </a>\n      ,\n      {' '}\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={LOGEION_WORD_LOOKUP(word)}>\n        Logeion\n      </a>\n      , or\n      {' '}\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={GOOGLE_SEARCH(word)}>\n        Google\n      </a>\n    </div>\n  );\n}\n\nExternalLookupLinks.propTypes = {\n  word: PropTypes.string.isRequired,\n};\n\nexport default ExternalLookupLinks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport WordInformation from '.';\nimport PopupDialog from '../PopupDialog';\nimport ExternalLookupLinks from './ExternalLookupLinks';\n\nconst WordInformationDialog = (props) => {\n  const {\n    word, onClose, x, y, positionBelow, positionRight, inverted, work,\n  } = props;\n\n  return (\n    <PopupDialog\n      onClose={onClose}\n      inverted={inverted}\n      x={x}\n      y={y}\n      positionBelow={positionBelow}\n      positionRight={positionRight}\n      footer={<ExternalLookupLinks word={word} />}\n    >\n      <WordInformation work={work} word={word} inverted={inverted} />\n    </PopupDialog>\n  );\n};\n\nWordInformationDialog.propTypes = {\n  word: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  positionBelow: PropTypes.bool,\n  positionRight: PropTypes.bool,\n  inverted: PropTypes.bool,\n  work: PropTypes.string,\n};\n\nWordInformationDialog.defaultProps = {\n  positionBelow: true,\n  positionRight: true,\n  inverted: true,\n  work: null,\n};\n\nexport default WordInformationDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PopupDialog from '../PopupDialog';\n\nconst FootnoteDialog = (props) => {\n  const {\n    notes, onClose, x, y, positionBelow, positionRight, inverted,\n  } = props;\n\n  return (\n    <PopupDialog\n      onClose={onClose}\n      inverted={inverted}\n      x={x}\n      y={y}\n      positionBelow={positionBelow}\n      positionRight={positionRight}\n    >\n      <div>\n        {notes.map((note, index) => (\n          // eslint-disable-next-line react/no-array-index-key\n          <div key={index}>{note}</div>\n        ))}\n      </div>\n    </PopupDialog>\n  );\n};\n\nFootnoteDialog.propTypes = {\n  notes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onClose: PropTypes.func.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  positionBelow: PropTypes.bool,\n  positionRight: PropTypes.bool,\n  inverted: PropTypes.bool,\n};\n\nFootnoteDialog.defaultProps = {\n  positionBelow: true,\n  positionRight: true,\n  inverted: false,\n};\n\nexport default FootnoteDialog;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Visibility, Image, Loader } from 'semantic-ui-react';\n\nclass LazyImage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n    };\n  }\n\n  showImage() {\n    this.setState({\n      show: true,\n    });\n  }\n\n  render() {\n    const { show } = this.state;\n    const {\n      size, children, src, style,\n    } = this.props;\n\n    if (!show) {\n      return (\n        <Visibility as=\"span\" onOnScreen={() => this.showImage()}>\n          {children && children}\n          {!children && <Loader data-testid=\"loader\" active inline=\"centered\" size={size} />}\n        </Visibility>\n      );\n    }\n    return <Image style={style} src={src} />;\n  }\n}\n\nLazyImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  size: PropTypes.string,\n  children: PropTypes.element,\n  // eslint-disable-next-line react/forbid-prop-types\n  style: PropTypes.object,\n};\n\nLazyImage.defaultProps = {\n  size: 'tiny',\n  children: null,\n  style: {},\n};\n\nexport default LazyImage;\n","import React, { Component } from 'react';\nimport {\n  Table, Placeholder, Image, Input, Label,\n} from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n// regeneratorRuntime is needed for AwesomeDebouncePromise\n// eslint-disable-next-line no-unused-vars\nimport regeneratorRuntime from 'regenerator-runtime';\nimport AwesomeDebouncePromise from 'awesome-debounce-promise';\nimport { ENDPOINT_WORKS_LISTS, ENDPOINT_WORK_IMAGE } from '../Endpoints';\nimport LazyImage from '../LazyImage';\nimport ErrorMessage from '../ErrorMessage';\n\nconst ClickStyle = {\n  cursor: 'pointer',\n};\n\nclass BookSelection extends Component {\n  static workMatchesSearch(work, search) {\n    return work.title.toLowerCase().includes(search)\n    || work.title_slug.toLowerCase().includes(search)\n    || work.author.toLowerCase().includes(search)\n    || work.editor.toLowerCase().includes(search)\n    || work.language.toLowerCase().includes(search);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      works: null,\n      error: null,\n      search: '',\n    };\n  }\n\n  componentDidMount() {\n    this.loadInfo();\n  }\n\n  onSearchChange(data) {\n    this.setState({\n      search: data.value,\n    });\n  }\n\n  getWorkRow(work, lazyLoad = true, onLargeScreen = true) {\n    const { onSelectWork, loadedWork } = this.props;\n    const handler = () => { onSelectWork(work.title_slug); };\n    const isRelated = this.isRelatedWork(work);\n    const isSameAuthor = this.isSameAuthor(work);\n    const isLoadedWork = (loadedWork && loadedWork === work.title_slug);\n\n    return (\n      <Table.Row key={work.title_slug}>\n        { onLargeScreen && (\n          <Table.Cell className=\"workImage\" style={ClickStyle} onClick={handler}>\n            { lazyLoad && (\n              <LazyImage style={{ width: 32 }} src={ENDPOINT_WORK_IMAGE(work.title_slug, 64)}>\n                <Image style={{ width: 32 }} src=\"/book-cover-small.png\" />\n              </LazyImage>\n            )}\n            { !lazyLoad && (\n              <Image style={{ width: 32 }} src={ENDPOINT_WORK_IMAGE(work.title_slug, 64)} />\n            )}\n          </Table.Cell>\n        )}\n        <Table.Cell style={ClickStyle} onClick={handler}>\n          <div>\n            {work.title}\n            <div style={{ display: 'inline-block', float: 'right', paddingRight: 4 }}>\n              {isRelated && onLargeScreen && (\n                <Label as=\"a\" color=\"red\">Related Work</Label>\n              )}\n              {isSameAuthor && !isLoadedWork && onLargeScreen && (\n                <Label as=\"a\" color=\"blue\">Same Author</Label>\n              )}\n              {isLoadedWork && onLargeScreen && (\n                <Label as=\"a\" color=\"green\">This work</Label>\n              )}\n              {isRelated && !onLargeScreen && (\n                <Label as=\"a\" color=\"red\" circular empty />\n              )}\n              {isSameAuthor && !isLoadedWork && !onLargeScreen && (\n                <Label as=\"a\" color=\"blue\" circular empty />\n              )}\n            </div>\n          </div>\n          <div style={{ color: '#888' }}>\n            {work.language}\n            {work.author && ` by ${work.author}`}\n            {work.editor && ` (${work.editor})`}\n          </div>\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n\n  /**\n   * Determine if the work is a related work.\n   *\n   * @param {object} work The work to see if it is a related work\n   */\n  isRelatedWork(work) {\n    const { relatedWorks } = this.props;\n\n    const found = relatedWorks.find((relatedWork) => relatedWork.title_slug === work.title_slug);\n    if (found) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Determine if the work is by the same author\n   *\n   * @param {object} work The work to see if it is a related work\n   */\n  isSameAuthor(work) {\n    const { authors } = this.props;\n\n    if (!authors || !work.author) {\n      return false;\n    }\n\n    const found = authors.find((author) => author.name === work.author);\n\n    if (found) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Sort the list of works.\n   *\n   * @param {array} works The works to sort\n   */\n  sortWorks(works) {\n    works.sort((a, b) => {\n      if (this.isRelatedWork(a) && !this.isRelatedWork(b)) {\n        return -1;\n      }\n      if (this.isRelatedWork(b) && !this.isRelatedWork(a)) {\n        return 1;\n      }\n      return a.title > b.title;\n    });\n\n    return works;\n  }\n\n  loadInfo() {\n    fetch(ENDPOINT_WORKS_LISTS())\n      .then((res) => res.json())\n      .then((works) => {\n        this.setState({ works: this.sortWorks(works) });\n      })\n      .catch((e) => {\n        this.setState({\n          error: e.toString(),\n        });\n      });\n  }\n\n  render() {\n    const { works, error, search } = this.state;\n    const searchLowerCase = search.toLowerCase();\n\n    const onChange = (event, data) => { this.onSearchChange(data); };\n    const onChangeDebounced = AwesomeDebouncePromise(onChange, 500);\n\n    const onLargeScreen = window.innerWidth > 767;\n\n    // Change the width on small screens\n    const width = onLargeScreen ? 500 : 250;\n\n    return (\n      <>\n        {!error && works && (\n        <div>\n          <Input onChange={onChangeDebounced} style={{ width: '100%' }} placeholder=\"Search...\" />\n        </div>\n        )}\n        <div style={{ maxHeight: 400, width, overflowY: 'auto' }}>\n          {error && (\n          <ErrorMessage\n            title=\"Unable to load the list of works\"\n            description=\"Unable to get the list of works from the server\"\n            message={error}\n          />\n          )}\n          {!error && works && (\n          <Table basic=\"very\" celled collapsing>\n            <Table.Body>\n              {works\n                .filter((work) => BookSelection.workMatchesSearch(work, searchLowerCase))\n                .map((work, index) => (\n                  this.getWorkRow(work, index > 15, onLargeScreen)\n                ))}\n            </Table.Body>\n          </Table>\n          )}\n          {!error && !works && (\n          <Placeholder>\n            <Placeholder.Paragraph>\n              <Placeholder.Line />\n              <Placeholder.Line />\n              <Placeholder.Line />\n            </Placeholder.Paragraph>\n          </Placeholder>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nBookSelection.propTypes = {\n  onSelectWork: PropTypes.func.isRequired,\n  relatedWorks: PropTypes.arrayOf(PropTypes.shape),\n  authors: PropTypes.arrayOf(PropTypes.string),\n  loadedWork: PropTypes.string,\n};\n\nBookSelection.defaultProps = {\n  relatedWorks: [],\n  authors: [],\n  loadedWork: null,\n};\n\nexport default BookSelection;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Message, Button } from 'semantic-ui-react';\n\nconst NoWorkSelected = ({ inverted, onClick }) => (\n  <Message info className={inverted ? 'inverted' : ''}>\n    <Message.Header>No Book Selected</Message.Header>\n    <p>\n      Choose a book above to begin reading.\n    </p>\n    {onClick && (\n      <p>\n        <Button onClick={() => onClick()} inverted={inverted}>Open Library</Button>\n      </p>\n    )}\n  </Message>\n);\n\nNoWorkSelected.propTypes = {\n  onClick: PropTypes.func,\n  inverted: PropTypes.bool,\n};\n\nNoWorkSelected.defaultProps = {\n  inverted: false,\n  onClick: null,\n};\n\nexport default NoWorkSelected;\n","export default __webpack_public_path__ + \"images/5a0a1a6aa2a65b08197971f38a43cf6c-Library.svg\";","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Card, Image, Button, Loader, Icon } from \"semantic-ui-react\";\nimport { withRouter } from \"react-router-dom\";\nimport { ENDPOINT_RESOLVE_REFERENCE, ENDPOINT_WORK_IMAGE } from \"../Endpoints\";\nimport { READ_WORK } from \"../URLs\";\nimport { truncate } from \"../Utils\";\n\nconst MODE_LOADING = 0;\nconst MODE_ERROR = 1;\nconst MODE_DONE = 2;\n\nconst WorkCard = ({\n  inverted,\n  work,\n  divisions,\n  divisionReference,\n  history,\n}) => {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n\n  const loadInfo = (titleSlug) => {\n    fetch(ENDPOINT_RESOLVE_REFERENCE(titleSlug, divisionReference))\n      .then((res) => res.json())\n      .then((workData) => {\n        setData(workData);\n      })\n      .catch((e) => {\n        setError(e.toString());\n      });\n  };\n\n  useEffect(() => {\n    if (!data && !error) loadInfo(work);\n  });\n\n  const onLoadWork = () => {\n    // Get the URL\n    const workUrl = READ_WORK(work, ...divisions);\n    history.push(workUrl);\n  };\n\n  // Determine the mode\n  let mode = MODE_LOADING;\n\n  if (error) {\n    mode = MODE_ERROR;\n  } else if (data) {\n    mode = MODE_DONE;\n  }\n\n  // Determine the classname\n  const className = inverted ? 'inverted' : '';\n\n  return (\n    <Card className={className}>\n      <Card.Content>\n        <Image floated=\"right\" size=\"mini\" src={ENDPOINT_WORK_IMAGE(work)} />\n        {mode === MODE_DONE && (\n          <>\n            <Card.Header\n              style={{\n                lineHeight: \"1.2em\",\n                maxHeight: \"2.4em\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n              }}\n            >\n              {truncate(data.work_title, 20)}\n            </Card.Header>\n            <Card.Meta>{data.division_title}</Card.Meta>\n          </>\n        )}\n        {mode === MODE_LOADING && <Loader active />}\n        {mode === MODE_ERROR && (\n          <Icon color=\"red\" name=\"attention\" size=\"large\" title={error} />\n        )}\n      </Card.Content>\n      <Card.Content extra>\n        <div className=\"ui two buttons\">\n          <Button basic color=\"green\" onClick={onLoadWork}>\n            Read now\n          </Button>\n        </div>\n      </Card.Content>\n    </Card>\n  );\n};\n\nWorkCard.propTypes = {\n  inverted: PropTypes.bool,\n  work: PropTypes.string.isRequired,\n  divisionReference: PropTypes.string,\n  divisions: PropTypes.arrayOf(PropTypes.string),\n  // eslint-disable-next-line react/forbid-prop-types\n  history: PropTypes.object.isRequired,\n};\n\nWorkCard.defaultProps = {\n  inverted: false,\n  divisionReference: null,\n  divisions: [],\n};\n\nexport default withRouter(WorkCard);\n","export function toTitleCase(str) {\n  return str.replace(/\\w\\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\n}\n\nexport function truncate(str, maxLength) {\n    return str.length > maxLength ? `${str.substring(0, (maxLength-3))}...` : str;\n}\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Card, Header, Button } from \"semantic-ui-react\";\nimport {\n  getWorksLastRead,\n  maxHistoryCount,\n  clearWorksLastRead,\n} from \"../Settings\";\nimport WorkCard from \"./WorkCard\";\n\nconst FavoriteWorks = ({ inverted }) => {\n  const recentlyRead = getWorksLastRead();\n  const [value, setValue] = useState(0); // Using an integer as a state\n\n  return (\n    <div>\n      {((recentlyRead && recentlyRead.length > 0) || value > 0) && (\n        <>\n          <Header inverted={inverted} as=\"h3\">\n            Most Recently Read\n            {recentlyRead && recentlyRead.length > 0 && (\n            <Button\n              floated=\"right\"\n              onClick={() => {\n                clearWorksLastRead();\n                setValue(value + 1);\n              }}\n            >\n              Clear this list\n            </Button>\n            )}\n          </Header>\n          {recentlyRead && recentlyRead.length > 0 && (\n          <Card.Group itemsPerRow={maxHistoryCount()}>\n            {recentlyRead.map((work) => (\n              <WorkCard\n                key={work.workTitleSlug}\n                work={work.workTitleSlug}\n                divisions={work.divisions}\n                divisionReference={work.divisionReference}\n              />\n            ))}\n          </Card.Group>\n          )}\n          {(!recentlyRead || recentlyRead.length === 0) && value > 0 && (\n            <>No works in the list of recently read works</>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nFavoriteWorks.propTypes = {\n  inverted: PropTypes.bool,\n};\n\nFavoriteWorks.defaultProps = {\n  inverted: false,\n};\n\nexport default FavoriteWorks;\n","import React, { Component } from \"react\";\nimport {\n  Button,\n  Input,\n  Icon,\n  Dropdown,\n  Container,\n  Header,\n  Grid,\n  Placeholder,\n  Segment,\n  Message,\n  Menu,\n  Popup,\n  Sidebar,\n  Image,\n  Progress,\n  Responsive,\n} from \"semantic-ui-react\";\nimport { withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport AwesomeDebouncePromise from \"awesome-debounce-promise\";\nimport {\n  ENDPOINT_READ_WORK,\n  ENDPOINT_RESOLVE_REFERENCE,\n  ENDPOINT_WORK_IMAGE,\n} from \"../Endpoints\";\nimport { setWorkProgress } from \"../Settings\";\nimport { SEARCH, READ_WORK, START_PAGE } from \"../URLs\";\nimport { toTitleCase } from \"../Utils\";\nimport Chapter from \"./Chapter\";\nimport ErrorMessage from \"../ErrorMessage\";\nimport AboutWorkDialog from \"../AboutWorkDialog\";\nimport AboutDialog from \"../AboutDialog\";\nimport WorkDownloadDialog from \"../WorkDownloadDialog\";\nimport WordInformation from \"../WordInformation/WordInformationPopup\";\nimport FootnotePopup from \"../FootnotePopup\";\nimport BookSelection from \"../BookSelection\";\nimport NoWorkSelected from \"./NoWorkSelected\";\nimport LibraryIcon from \"../Icons/Library.svg\";\nimport \"./index.scss\";\nimport FavoriteWorks from \"../FavoriteWorks\";\n\n/**\n * Below are some notes about how this works:\n *   * componentDidUpdate() will trigger the fetch of the work as necessary when the URL changes.\n *   * loadChapter() will fetch the chapter and load it into the UI.\n */\n\nconst MODE_LOADING = 0;\nconst MODE_ERROR = 1;\nconst MODE_DONE = 2;\nconst MODE_NOT_READY = 3;\n\nconst NextPageStyle = {\n  bottom: \"20px\",\n  right: \"20px\",\n  position: \"fixed\",\n};\n\nconst PriorPageStyle = {\n  bottom: \"20px\",\n  left: \"20px\",\n  position: \"fixed\",\n};\n\nconst ContainerStyle = {\n  paddingTop: 60,\n};\n\nconst SidebarStyle = {\n  height: \"100vh\",\n  marginTop: 0,\n};\n\nconst resolveReferenceDebounced = AwesomeDebouncePromise(\n  (titleSlug, reference) =>\n    fetch(ENDPOINT_RESOLVE_REFERENCE(titleSlug, reference)),\n  500\n);\n\n/**\n * Defines how long a division name can get before it is considered long.\n */\nconst LONG_DIVISION_NAME = 30;\n\nclass Reader extends Component {\n  /**\n   * Determine if the divisions tend to have long names. This is useful for determining if we ought\n   * to use the titles or the shorter descriptors.\n   *\n   * @param {array} divisions The list of divisions.\n   */\n  static hasLongDivisionNames(divisions) {\n    const countLongNames = (accumulator, division) =>\n      division.full_title && division.full_title.length > LONG_DIVISION_NAME\n        ? accumulator + 1\n        : accumulator;\n    const longNames = divisions.reduce(countLongNames, 0);\n\n    return longNames > 5 || longNames === divisions.length;\n  }\n\n  /**\n   * Determine if the division descriptors appear to be names.\n   *\n   * @param {array} divisions The list of divisions.\n   */\n  static areDescriptorsNames(divisions) {\n    const countIndicators = (accumulator, division) =>\n      /^([0-9]+|[IVX]+|[A-Z])$/i.test(division.descriptor)\n        ? accumulator + 1\n        : accumulator;\n    const indicators = divisions.reduce(countIndicators, 0);\n    return indicators !== divisions.length;\n  }\n\n  /**\n   * Get the the division descriptor.\n   *\n   * @param {array} division The list of divisions.\n   * @param {*} useTitles Whether titles ought to be used.\n   * @param {*} descriptorsAreNames Whether descriptors appear to be names.\n   */\n  static getDivisionText(division, useTitles, descriptorsAreNames) {\n    // Use the title (from the full_title of the division)\n    if (useTitles) {\n      return toTitleCase(division.label);\n    }\n    // Are the descriptors names (like \"Matthew\" insread of \"1\")\n    if (descriptorsAreNames) {\n      return division.descriptor;\n    }\n    return `${division.type} ${division.descriptor}`;\n  }\n\n  /**\n   * Convert the list of divisions to options that can be processed by the dropdown menu.\n   *\n   * @param {array} divisions The list of divisions.\n   */\n  static convertDivisionsToOptions(divisions) {\n    const useTitles = !Reader.hasLongDivisionNames(divisions);\n    const descriptorsAreNames = Reader.areDescriptorsNames(divisions);\n\n    return divisions.map((d) => ({\n      key: d.description,\n      text: Reader.getDivisionText(d, useTitles, descriptorsAreNames),\n      value: d.descriptor,\n    }));\n  }\n\n  /**\n   * This function looks for the chapter the user entered. It looks both in the description as well\n   * as the key.\n   * This is useful because the works often use a Greek name as the description but an English\n   * description too and we want both to be searchable (don't want users to have to type ).\n   * @param {array} options List of dropdown options\n   * @param {string} query The string that the user entered that we are searching for\n   */\n  static workSearch(options, query) {\n    const queryLower = query.toLowerCase();\n    return options.filter(\n      (opt) =>\n        opt.text.toLowerCase().includes(queryLower) ||\n        opt.key.toLowerCase().includes(queryLower)\n    );\n  }\n\n  /**\n   * Get a placeholder for the content.\n   */\n  static getPlaceholder(inverted = false) {\n    return (\n      <div style={{ paddingTop: 16 }}>\n        <Placeholder inverted={inverted}>\n          <Placeholder.Header>\n            <Placeholder.Line />\n          </Placeholder.Header>\n          <Placeholder.Paragraph>\n            <Placeholder.Line />\n            <Placeholder.Line />\n            <Placeholder.Line />\n            <Placeholder.Line />\n          </Placeholder.Paragraph>\n          <Placeholder.Paragraph>\n            <Placeholder.Line />\n            <Placeholder.Line />\n            <Placeholder.Line />\n            <Placeholder.Line />\n            <Placeholder.Line />\n          </Placeholder.Paragraph>\n          <Placeholder.Paragraph>\n            <Placeholder.Line />\n            <Placeholder.Line />\n            <Placeholder.Line />\n          </Placeholder.Paragraph>\n        </Placeholder>\n      </div>\n    );\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: null,\n      data: null,\n      errorTitle: null,\n      errorMessage: null,\n      errorDescription: null,\n      loading: false,\n      divisions: null,\n      loadedWork: null,\n      referenceValid: true,\n      referenceValue: \"\",\n      selectedWord: null,\n      popupX: null,\n      popupY: null,\n      redirectedFrom: null,\n      redirectedTo: null,\n      sidebarVisible: false,\n    };\n\n    // This will store the last reference set so that we make sure not to replace the reference\n    // we did a reference resolution check against the server for.\n    this.lastSetReference = null;\n\n    // Keep a list of the verses so that we can know what chapter the verse is assopciated with.\n    // This is needed so that we don't force a reload just to get the same chapter.\n    this.verseReferences = {};\n  }\n\n  componentDidMount() {\n    const {\n      defaultWork,\n      division0,\n      division1,\n      division2,\n      division3,\n      division4,\n      leftovers,\n    } = this.props;\n\n    const divisions = [\n      division0,\n      division1,\n      division2,\n      division3,\n      division4,\n      leftovers,\n    ].filter((entry) => entry);\n\n    if (defaultWork) {\n      this.loadChapter(defaultWork, ...divisions);\n    }\n  }\n\n  /**\n   * Handle a component update in order to load a new chapter if the user changed navigation\n   * based on the browsers back/forward buttons.\n   *\n   * @param {object} prevProps The previous properties\n   */\n  componentDidUpdate(prevProps) {\n    const { location, match } = this.props;\n    const { redirectedTo, data, highlightedVerse, loadedWork } = this.state;\n\n    // See if we know that this is a reference to this chapter\n    const existingChapter = this.verseReferences[location.pathname];\n\n    // Check if the chapter we have loaded already\n    // This needs to check the loaded work too, since we need to recognize if we the reference is\n    // the same reference but in a different work.\n    if (\n      data &&\n      data.chapter &&\n      existingChapter &&\n      existingChapter.chapter === data.chapter.full_descriptor &&\n      loadedWork &&\n      loadedWork === match.params.work\n    ) {\n      // Get the highlighted verse\n      const highlightedVerseRef = existingChapter.verse;\n\n      if (highlightedVerse !== highlightedVerseRef) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          highlightedVerse: highlightedVerseRef,\n          referenceValue: existingChapter.referenceValue,\n        });\n      }\n\n      // Don't load the new one, we already have it on the page\n      return;\n    }\n\n    // Determine if the page changed\n    if (\n      location.pathname !== prevProps.location.pathname &&\n      redirectedTo !== location.pathname\n    ) {\n      const divisions = [\n        match.params.division0,\n        match.params.division1,\n        match.params.division2,\n        match.params.division3,\n        match.params.division4,\n        match.params.leftovers,\n      ].filter((entry) => entry);\n      this.loadChapter(match.params.work, ...divisions);\n    }\n  }\n\n  /**\n   * Handle the clicking of a verse.\n   *\n   * @param {string} verseDescriptor A descripion of the verse (e.g. \"John 8:4\")\n   * @param {string} verse The verse number (e.g. \"4\")\n   * @param {string} id An ID that designates the verse in the HTML DOM\n   * @param {string} href A href for the verse (e.g. \"/work/new-testament/John/8/4\")\n   * @param {int} x The x coordinate of the verse marker\n   * @param {int} y The y coordinate of the verse marker\n   */\n  onVerseClick(verseDescriptor, verse, id, href) {\n    const { data } = this.state;\n\n    // Add the verse to the list\n    this.addVerseToHistoryList(\n      href,\n      data.chapter.full_descriptor,\n      verse,\n      verseDescriptor\n    );\n\n    this.setState({\n      referenceValue: verseDescriptor,\n      referenceValid: true,\n    });\n\n    const { history } = this.props;\n\n    history.push(href);\n  }\n\n  /**\n   * Handle the clicking of a word.\n   *\n   * @param {string} word The word to get information on\n   * @param {int} x The x coordinate designating where to show the popup\n   * @param {int} y The y coordinate designating where to show the popup\n   * @param {bool} positionRight Indicates it is best to show the popup to the right of the offset\n   * @param {bool} positionBelow Indicates it is best to show the popup below the offset\n   */\n  onWordClick(word, x, y, positionRight, positionBelow) {\n    this.setState({\n      selectedWord: word,\n      modal: \"word\",\n      popupX: x,\n      popupY: y,\n      popupPositionRight: positionRight,\n      popupPositionBelow: positionBelow,\n    });\n  }\n\n  /**\n   * Handle the clicking of a note.\n   *\n   * @param {string} note The note's contents\n   * @param {string} id The ID of the note\n   * @param {int} x The x coordinate designating where to show the popup\n   * @param {int} y The y coordinate designating where to show the popup\n   * @param {bool} positionRight Indicates it is best to show the popup to the right of the offset\n   * @param {bool} positionBelow Indicates it is best to show the popup below the offset\n   */\n  onNoteClick(note, id, x, y, positionRight, positionBelow) {\n    this.setState({\n      selectedNote: note,\n      modal: \"note\",\n      popupX: x,\n      popupY: y,\n      popupPositionRight: positionRight,\n      popupPositionBelow: positionBelow,\n    });\n  }\n\n  /**\n   * Handle the selection of a work.\n   * @param {string} work the title slug of a work to load\n   */\n  onSelectWork(work) {\n    const { data, divisions } = this.state;\n    let isRelated = false;\n\n    // See if this is a related work\n    if (data && data.related_works) {\n      isRelated = data.related_works.find(\n        (relatedWork) => relatedWork.title_slug === work\n      );\n    }\n\n    // If this is related work, then use the same divisions\n    if (isRelated) {\n      this.navigateToChapter(work, ...divisions);\n    } else {\n      this.navigateToChapter(work);\n    }\n  }\n\n  /**\n   * Accept the enter key as a jumop to execute the reference jump.\n   * @param {object} event The event from the key press.\n   */\n  onKeyPressed(event) {\n    if (event.key === \"Enter\") {\n      this.goToReference();\n    }\n  }\n\n  /**\n   * Get the dialogs that ought to be rendered.\n   */\n  getDialogs() {\n    const { modal, data, loading, loadedWork } = this.state;\n\n    return (\n      <>\n        {data && !loading && modal === \"aboutWork\" && (\n          <AboutWorkDialog\n            work={loadedWork}\n            onClose={() => this.closeModal()}\n          />\n        )}\n        {data && !loading && modal === \"downloadWork\" && (\n          <WorkDownloadDialog\n            work={loadedWork}\n            onClose={() => this.closeModal()}\n          />\n        )}\n      </>\n    );\n  }\n\n  /**\n   * Get the popups.\n   */\n  getPopups() {\n    const {\n      modal,\n      data,\n      loading,\n      selectedWord,\n      popupX,\n      popupY,\n      popupPositionRight,\n      popupPositionBelow,\n      selectedNote,\n      loadedWork,\n    } = this.state;\n\n    const { inverted } = this.props;\n\n    return (\n      <>\n        {data && !loading && modal === \"word\" && (\n          <WordInformation\n            inverted={inverted}\n            positionBelow={popupPositionBelow}\n            positionRight={popupPositionRight}\n            x={popupX}\n            y={popupY}\n            word={selectedWord}\n            work={loadedWork}\n            onClose={() => this.closeModal()}\n          />\n        )}\n        {data && !loading && modal === \"note\" && (\n          <FootnotePopup\n            inverted={inverted}\n            positionBelow={popupPositionBelow}\n            positionRight={popupPositionRight}\n            x={popupX}\n            y={popupY}\n            notes={selectedNote}\n            onClose={() => this.closeModal()}\n          />\n        )}\n      </>\n    );\n  }\n\n  /**\n   * Open or close the book selection dialog.\n   * @param {bool} open Whether the dialog for selecting a book ought to be open.\n   */\n  setBookSelectionOpen(open = true) {\n    this.setState({\n      bookSelectionOpen: open,\n    });\n  }\n\n  /**\n   * Set an error state.\n   *\n   * @param {string} errorTitle The title\n   * @param {string} errorDescription The description\n   * @param {string} errorMessage The detailed error message (like from an AJAX call)\n   */\n  setErrorState(errorTitle, errorDescription = \"\", errorMessage = null) {\n    this.setState({\n      errorMessage,\n      errorDescription,\n      errorTitle,\n    });\n  }\n\n  /**\n   * Opens or closes the sidebar.\n   * @param {bool} visible Whether the sidebad should be open.\n   */\n  setSidebarVisible(visible = true) {\n    this.setState({\n      sidebarVisible: visible,\n    });\n  }\n\n  /**\n   * Add the href to the list so that we can remember what URL is capable of loading it.\n   * @param {string} href The partial URL of the page (e.g. \"/work/new-testament/John/8/4\")\n   * @param {string} chapter The chapter descriptor (e.g. \"John/9\")\n   */\n  addVerseToHistoryList(href, chapter, verse, referenceValue) {\n    this.verseReferences[href] = {\n      chapter,\n      verse,\n      referenceValue,\n    };\n  }\n\n  /**\n   * Update the history but only if it has changed.\n   *\n   * @param {str} work The title slug of the work\n   * @param  {...any} divisions The list of division indicators\n   */\n  updateHistory(work, ...divisions) {\n    const { history, location } = this.props;\n\n    // Get the URL\n    const workUrl = READ_WORK(work, ...divisions);\n\n    // Determine if the URL is already set\n    // Note that we need to check redirectedFrom because the URL might not match because we were\n    // redirected since a work had been renamed.\n    if (workUrl === location.pathname) {\n      return false;\n    }\n\n    history.push(workUrl);\n    return true;\n  }\n\n  /**\n   * Navigate to chapter.\n   *\n   * @param {string} work The title slug of the work\n   * @param {array} divisions The list of division indicators\n   */\n  navigateToChapter(work, ...divisions) {\n    this.updateHistory(work, ...divisions);\n  }\n\n  /**\n   * Load the given chapter.\n   *\n   * @param {string} work The title slug of the work\n   * @param {array} divisions The list of division indicators\n   */\n  loadChapter(work, ...divisions) {\n    // Load the start page if there is no work to load\n    if (!work) {\n      this.setState({\n        bookSelectionOpen: false,\n        modal: null,\n        errorTitle: null,\n        errorMessage: null,\n        errorDescription: null,\n        redirectedFrom: null,\n        redirectedTo: null,\n        highlightedVerse: null,\n        data: null,\n        loading: false,\n        loadedWork: null,\n        divisions: null,\n        referenceValue: null,\n        referenceValid: true,\n      });\n\n      return;\n    }\n\n    // Reset the state to show that we are loading\n    this.setState({\n      loading: true,\n      bookSelectionOpen: false,\n      modal: null,\n      errorTitle: null,\n      errorMessage: null,\n      errorDescription: null,\n      redirectedFrom: null,\n      redirectedTo: null,\n      highlightedVerse: null,\n    });\n\n    fetch(ENDPOINT_READ_WORK(work, ...divisions))\n      .then((res) => Promise.all([res.status, res.json()]))\n      .then(([status, data]) => {\n        if (status >= 200 && status < 300) {\n          let redirectedFrom = null;\n          let redirectedTo = null;\n\n          // If the work alias didn't match, then update the URL accordingly\n          if (data.work.title_slug !== work) {\n            redirectedFrom = READ_WORK(work, ...divisions);\n            redirectedTo = READ_WORK(data.work.title_slug, ...divisions);\n          }\n\n          this.setState({\n            data,\n            loading: false,\n            loadedWork: data.work.title_slug,\n            divisions,\n            referenceValue: data.reference_descriptor,\n            referenceValid: true,\n            redirectedFrom,\n            redirectedTo,\n            highlightedVerse: data.verse_to_highlight,\n          });\n\n          // Remember that we read this work\n          setWorkProgress(work, divisions, data.reference_descriptor);\n\n          // Add the verse to the list\n          this.addVerseToHistoryList(\n            READ_WORK(work, ...divisions),\n            data.chapter.full_descriptor,\n            data.verse_to_highlight,\n            data.chapter.description\n          );\n\n          // Update the URL if we were redirected\n          if (redirectedFrom) {\n            this.updateHistory(data.work.title_slug, ...divisions);\n          }\n\n          // Preload the next chapter so that it is cached\n          this.preloadNextChapter();\n        } else {\n          this.setErrorState(\n            \"Work could not be found\",\n            \"Yikes. The given work is not recognized as a valid work.\"\n          );\n        }\n      })\n      .catch((e) => {\n        this.setErrorState(\n          \"Unable to load the content\",\n          \"The given chapter could not be loaded from the server\",\n          e.toString()\n        );\n      });\n  }\n\n  /**\n   * Preload the next chapter.\n   */\n  preloadNextChapter() {\n    const { data, loadedWork } = this.state;\n\n    if (data.next_chapter) {\n      fetch(\n        ENDPOINT_READ_WORK(`${loadedWork}/${data.next_chapter.full_descriptor}`)\n      );\n    }\n  }\n\n  /**\n   * Preload the prior chapter.\n   */\n  preloadPriorChapter() {\n    const { data, loadedWork } = this.state;\n\n    if (data.previous_chapter) {\n      fetch(\n        ENDPOINT_READ_WORK(\n          `${loadedWork}/${data.previous_chapter.full_descriptor}`\n        )\n      );\n    }\n  }\n\n  /**\n   * Open the about modal.\n   */\n  openAboutModal() {\n    this.setState({ modal: \"about\" });\n  }\n\n  /**\n   * Open the start page.\n   */\n  openStartPage() {\n    const { history } = this.props;\n    history.push(START_PAGE());\n  }\n\n  /**\n   * Preload the next and prior chapter\n   */\n  preloadChapters() {\n    this.preloadNextChapter();\n    this.preloadPriorChapter();\n  }\n\n  /**\n   * Close any open modal.\n   */\n  closeModal() {\n    this.setState({ modal: null });\n  }\n\n  /**\n   * Open the info modal.\n   */\n  openWorkInfoModal() {\n    this.setState({ modal: \"aboutWork\" });\n  }\n\n  /**\n   * Go to the search page.\n   */\n  openSearch() {\n    const { history } = this.props;\n    const { divisions, loadedWork } = this.state;\n\n    const q = `work:${loadedWork}`;\n    history.push(SEARCH(q), {\n      work: loadedWork,\n      divisions,\n    });\n  }\n\n  /**\n   * Open the modal for downloading a work.\n   */\n  openDownloadModal() {\n    this.setState({ modal: \"downloadWork\" });\n  }\n\n  /**\n   * Change the work to another related work.\n   *\n   * @param {*} event React's original SyntheticEvent.\n   * @param {*} info All props.\n   */\n  changeWork(work) {\n    const { divisions } = this.state;\n    this.navigateToChapter(work, ...divisions);\n  }\n\n  /**\n   * Handle the selection of the division.\n   *\n   * @param {*} event React's original SyntheticEvent.\n   * @param {*} info All props.\n   */\n  changeChapter(event, info) {\n    const { loadedWork } = this.state;\n    this.navigateToChapter(loadedWork, info.value);\n  }\n\n  /**\n   * Handle a change in the reference input.\n   *\n   * @param {*} event React's original SyntheticEvent.\n   * @param {*} info All props.\n   */\n  changeReference(event, info) {\n    const { loadedWork } = this.state;\n\n    // Stop if we have nothing to lookup\n    if (!loadedWork || !info.value) {\n      return;\n    }\n\n    this.setState({\n      referenceValue: info.value,\n      referenceValid: true,\n    });\n\n    // Store this entry so that we can avoid updating the reference if the user entered another\n    // reference before the server's response came back\n    this.lastSetReference = info.value;\n\n    resolveReferenceDebounced(loadedWork, info.value)\n      .then((res) => Promise.all([res.status, res.json()]))\n      .then(([status, referenceInfo]) => {\n        // If the user already changed the value again, just ignore it\n        if (this.lastSetReference !== info.value) {\n          return;\n        }\n\n        if (status === 200) {\n          this.setState({\n            divisions: referenceInfo.divisions,\n            referenceValue: info.value,\n            referenceValid: true,\n          });\n        } else {\n          this.setState({\n            referenceValue: info.value,\n            referenceValid: false,\n          });\n        }\n      })\n      .catch((e) => {\n        this.setErrorState(\n          \"Unable to load the content\",\n          \"The given chapter could not be loaded from the server\",\n          e.toString()\n        );\n      });\n  }\n\n  /**\n   * Go to the reference defined in the input box.\n   */\n  goToReference() {\n    const { loadedWork, referenceValue } = this.state;\n\n    // Stop if we have no where to go\n    if (!loadedWork || !referenceValue) {\n      return;\n    }\n\n    // Verify the reference is valid before going to it\n    fetch(ENDPOINT_RESOLVE_REFERENCE(loadedWork, referenceValue))\n      .then((res) => Promise.all([res.status, res.json()]))\n      .then(([status, referenceInfo]) => {\n        if (status === 200) {\n          this.setState({\n            divisions: referenceInfo.divisions,\n            referenceValue,\n            referenceValid: true,\n          });\n\n          this.navigateToChapter(loadedWork, ...referenceInfo.divisions);\n        } else {\n          this.setState({\n            referenceValue,\n            referenceValid: false,\n          });\n        }\n      })\n      .catch((e) => {\n        this.setErrorState(\n          \"Unable to load the content\",\n          \"The given chapter could not be loaded from the server\",\n          e.toString()\n        );\n      });\n  }\n\n  /**\n   * Go to the next chapter.\n   */\n  goToNextChapter() {\n    const { data, loadedWork } = this.state;\n    if (data.next_chapter) {\n      this.navigateToChapter(loadedWork, data.next_chapter.full_descriptor);\n    }\n  }\n\n  /**\n   * Go to the prior chapter.\n   */\n  goToPriorChapter() {\n    const { data, loadedWork } = this.state;\n    if (data.previous_chapter) {\n      this.navigateToChapter(loadedWork, data.previous_chapter.full_descriptor);\n    }\n  }\n\n  render() {\n    const {\n      modal,\n      data,\n      errorDescription,\n      loading,\n      referenceValid,\n      referenceValue,\n      bookSelectionOpen,\n      errorTitle,\n      errorMessage,\n      redirectedFrom,\n      sidebarVisible,\n      loadedWork,\n      highlightedVerse,\n    } = this.state;\n\n    const { inverted } = this.props;\n\n    const onVerseClick = (verseDescriptor, verse, id, href, x, y) => {\n      this.onVerseClick(verseDescriptor, verse, id, href, x, y);\n    };\n\n    const onWordClick = (word, x, y, positionRight, positionBelow) => {\n      this.onWordClick(word, x, y, positionRight, positionBelow);\n    };\n\n    const onNoteClick = (word, x, y, positionRight, positionBelow) => {\n      this.onNoteClick(word, x, y, positionRight, positionBelow);\n    };\n\n    // Figure out a description for the chapter\n    let description = \"\";\n    let referenceDescription = referenceValue;\n\n    if (data) {\n      description = data.chapter.description;\n\n      if (referenceValue === \"\") {\n        referenceDescription = description;\n      }\n    }\n\n    // Create a custom className for signaling the desire to switch to inverted\n    let classNameSuffix = \"\";\n\n    if (inverted) {\n      classNameSuffix = \" inverted\";\n    }\n\n    // Determine what we ought to be rendering\n    let mode = MODE_LOADING;\n\n    if (data && !loading) {\n      mode = MODE_DONE;\n    } else if (errorTitle) {\n      mode = MODE_ERROR;\n    } else if (loading && !errorTitle) {\n      mode = MODE_LOADING;\n    } else {\n      mode = MODE_NOT_READY;\n    }\n\n    // Get the list of related works so that the book selector can put the related ones at the top\n    const relatedWorks = data && data.related_works ? data.related_works : [];\n    const authors =\n      data && data.authors ? data.authors.map((author) => author.name) : null;\n\n    return (\n      <>\n        <Menu\n          inverted={inverted}\n          style={{ zIndex: 103 }}\n          className={`control ${classNameSuffix}`}\n          fixed=\"top\"\n        >\n          <Container>\n            <Menu.Item\n              name=\"works\"\n              onClick={() => this.setSidebarVisible(true)}\n            >\n              <Icon name=\"bars\" />\n            </Menu.Item>\n            <Popup\n              content={(\n                <BookSelection\n                  relatedWorks={relatedWorks}\n                  authors={authors}\n                  onSelectWork={(work) => this.onSelectWork(work)}\n                  loadedWork={loadedWork}\n                />\n              )}\n              on=\"click\"\n              position=\"bottom left\"\n              pinned\n              onClose={() => this.setBookSelectionOpen(false)}\n              onOpen={() => this.setBookSelectionOpen(true)}\n              open={bookSelectionOpen}\n              trigger={(\n                <Menu.Item name=\"Library\">\n                  <img style={{ width: 16 }} src={LibraryIcon} alt=\"Library\" />\n                </Menu.Item>\n              )}\n            />\n            <Menu.Item>\n              <Input\n                inverted={inverted}\n                className=\"referenceJumpInput\"\n                action={(\n                  <Button\n                    disabled={!referenceValid}\n                    inverted={inverted}\n                    onClick={() => this.goToReference()}\n                    basic\n                  >\n                    Go\n                  </Button>\n                )}\n                placeholder=\"Jump to reference...\"\n                value={referenceDescription}\n                error={!referenceValid}\n                onChange={(e, d) => this.changeReference(e, d)}\n                onKeyPress={(e, d) => this.onKeyPressed(e, d)}\n              />\n            </Menu.Item>\n            <div style={{ float: \"right\", marginLeft: \"auto\", marginTop: 11 }}>\n              <Responsive minWidth={768}>\n                <Dropdown icon=\"ellipsis vertical\" direction=\"left\">\n                  <Dropdown.Menu>\n                    <Dropdown.Item\n                      text=\"About TextCritical.net\"\n                      onClick={() => this.openAboutModal()}\n                    />\n                    <Dropdown.Item\n                      text=\"Go to Start Page\"\n                      onClick={() => this.openStartPage()}\n                    />\n                  </Dropdown.Menu>\n                </Dropdown>\n              </Responsive>\n            </div>\n          </Container>\n          {mode === MODE_DONE && (\n            <>\n              <Button\n                icon\n                inverted={inverted}\n                style={PriorPageStyle}\n                className={`priorPage ${classNameSuffix}`}\n                disabled={data.previous_chapter === null}\n                onClick={() => this.goToPriorChapter()}\n              >\n                <Icon name=\"left chevron\" />\n              </Button>\n              <Button\n                icon\n                inverted={inverted}\n                style={NextPageStyle}\n                className={`nextPage ${classNameSuffix}`}\n                disabled={data.next_chapter === null}\n                onClick={() => this.goToNextChapter()}\n              >\n                <Icon name=\"right chevron\" />\n              </Button>\n            </>\n          )}\n        </Menu>\n        {mode === MODE_DONE && (\n          <>\n            <Sidebar\n              as={Menu}\n              animation=\"overlay\"\n              icon=\"labeled\"\n              style={{ width: 200, paddingTop: 50 }}\n              inverted\n              visible={sidebarVisible}\n              onHide={() => this.setSidebarVisible(false)}\n              vertical\n              width=\"thin\"\n            >\n              <Image src={ENDPOINT_WORK_IMAGE(loadedWork, 400)} />\n              <Menu.Item as=\"a\" onClick={() => this.openWorkInfoModal()}>\n                Information\n              </Menu.Item>\n              <Menu.Item as=\"a\" onClick={() => this.openDownloadModal()}>\n                Download\n              </Menu.Item>\n              <Menu.Item as=\"a\" onClick={() => this.openSearch()}>\n                Search\n              </Menu.Item>\n            </Sidebar>\n            <Sidebar.Pushable\n              as={Segment}\n              basic\n              style={SidebarStyle}\n              className={`${classNameSuffix}`}\n            >\n              <Sidebar.Pusher>\n                <Container className={`underMenu ${classNameSuffix}`}>\n                  {this.getDialogs()}\n                  {this.getPopups()}\n                  <Grid inverted={inverted}>\n                    <Grid.Row>\n                      <Grid.Column width={8}>\n                        <Header inverted={inverted} floated=\"left\" as=\"h3\">\n                          {data.chapter.parent_division && (\n                            <>\n                              <Dropdown\n                                inline\n                                floating\n                                deburr\n                                scrolling\n                                search={Reader.workSearch}\n                                options={Reader.convertDivisionsToOptions(\n                                  data.divisions\n                                )}\n                                value={data.chapter.parent_division.descriptor}\n                                onChange={(event, info) =>\n                                  this.changeChapter(event, info)}\n                              />\n                              <div\n                                style={{\n                                  display: \"inline-block\",\n                                  paddingLeft: 6,\n                                }}\n                              >\n                                {data.chapter.type}\n                                {` ${data.chapter.descriptor}`}\n                              </div>\n                            </>\n                          )}\n                        </Header>\n                      </Grid.Column>\n                      <Grid.Column width={8}>\n                        <Container textAlign=\"right\">\n                          <Header inverted={inverted} floated=\"right\" as=\"h3\">\n                            {data.work.title}\n                          </Header>\n                        </Container>\n                      </Grid.Column>\n                    </Grid.Row>\n                  </Grid>\n                  <div style={{ marginTop: 6 }} />\n                  {data &&\n                    data.warnings.map((warning) => (\n                      <Message\n                        className={classNameSuffix}\n                        warning\n                        key={warning[0]}\n                        header={warning[0]}\n                        content={warning[1]}\n                      />\n                    ))}\n                  {redirectedFrom && (\n                    <Message info className={classNameSuffix}>\n                      <p>\n                        The URL you were using was old so you were redirected to\n                        the new one. You may want to update your shortcuts.\n                      </p>\n                    </Message>\n                  )}\n                  {data.total_chapters > 1 && data.total_chapters_in_book > 1 && (\n                    <>\n                      <Segment.Group\n                        horizontal\n                        style={{ border: 0, marginBottom: 4 }}\n                        className={`${classNameSuffix}`}\n                      >\n                        <Segment basic inverted style={{ padding: 0 }}>\n                          {data.completed_chapters_in_book}\n                          {' '}\n                          of\n                          {\" \"}\n                          {data.total_chapters_in_book}\n                          {' '}\n                          chapters\n                          {\" \"}\n                        </Segment>\n                        <Segment\n                          basic\n                          inverted\n                          style={{ textAlign: \"right\", padding: 0 }}\n                        >\n                          {Math.round(data.progress_in_book)}\n                          % through the book\n                        </Segment>\n                      </Segment.Group>\n                      <Progress\n                        className=\"bookProgress\"\n                        color=\"blue\"\n                        style={{ margin: \"0 0 8px 0\" }}\n                        percent={data.progress_in_book}\n                        size=\"tiny\"\n                      />\n                    </>\n                  )}\n\n                  <Chapter\n                    chapter={data.chapter}\n                    content={data.content}\n                    work={data.work}\n                    onVerseClick={onVerseClick}\n                    onWordClick={onWordClick}\n                    onNoteClick={onNoteClick}\n                    onClickAway={() => this.closeModal()}\n                    highlightedVerse={highlightedVerse}\n                    inverted={inverted}\n                  />\n                </Container>\n              </Sidebar.Pusher>\n            </Sidebar.Pushable>\n          </>\n        )}\n        {mode === MODE_ERROR && (\n          <Container style={ContainerStyle} className={`${classNameSuffix}`}>\n            <ErrorMessage\n              inverted={inverted}\n              title={errorTitle}\n              description={errorDescription}\n              message={errorMessage}\n            />\n          </Container>\n        )}\n        {mode === MODE_LOADING && (\n          <Container style={ContainerStyle} className={`${classNameSuffix}`}>\n            {Reader.getPlaceholder(inverted)}\n          </Container>\n        )}\n        {mode === MODE_NOT_READY && (\n          <Container style={ContainerStyle} className={`${classNameSuffix}`}>\n            <div style={{ paddingTop: 24 }}>\n              <NoWorkSelected\n                onClick={() => this.setBookSelectionOpen()}\n                inverted={inverted}\n              />\n              <FavoriteWorks inverted={inverted} />\n            </div>\n          </Container>\n        )}\n        {modal === \"about\" && <AboutDialog onClose={() => this.closeModal()} />}\n      </>\n    );\n  }\n}\n\nReader.propTypes = {\n  inverted: PropTypes.bool,\n  defaultWork: PropTypes.string,\n  division0: PropTypes.string,\n  division1: PropTypes.string,\n  division2: PropTypes.string,\n  division3: PropTypes.string,\n  division4: PropTypes.string,\n  leftovers: PropTypes.string,\n  // eslint-disable-next-line react/forbid-prop-types\n  location: PropTypes.object.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  history: PropTypes.object.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  match: PropTypes.object.isRequired,\n};\n\nReader.defaultProps = {\n  inverted: false,\n  defaultWork: null,\n  division0: null,\n  division1: null,\n  division2: null,\n  division3: null,\n  division4: null,\n  leftovers: null,\n};\n\nexport default withRouter(Reader);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Menu, Container } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport AboutDialog from './components/AboutDialog/index';\nimport Reader from './components/Reader/index';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { modal: null };\n  }\n\n  closeModal() {\n    this.setState({ modal: null });\n  }\n\n  openAboutModal() {\n    this.setState({ modal: 'about' });\n  }\n\n  render() {\n    const { modal } = this.state;\n    const { inverted, includeMenu, match } = this.props;\n    const {\n      work: defaultWork,\n      division0,\n      division1,\n      division2,\n      division3,\n      division4,\n      leftovers,\n    } = match.params;\n\n    return (\n      <>\n        { includeMenu && (\n          <Menu inverted={!inverted} attached=\"top\">\n            <Container>\n              <Menu.Item style={{ backgroundColor: '#009ec2' }}>\n                <img alt=\"\" style={{ width: 22, height: 22 }} src=\"book.png\" />\n              </Menu.Item>\n              <Menu.Item\n                name=\"about\"\n                active={false}\n                content=\"About\"\n                onClick={() => this.openAboutModal()}\n              />\n\n              <Menu.Menu position=\"right\">\n                <div className=\"ui right aligned category search item\">\n                  <div className=\"ui transparent icon input\">\n                    <input\n                      className=\"prompt\"\n                      type=\"text\"\n                      placeholder=\"Search works...\"\n                    />\n                    <i className=\"search link icon\" />\n                  </div>\n                  <div className=\"results\" />\n                </div>\n              </Menu.Menu>\n            </Container>\n          </Menu>\n        )}\n        {modal === 'about' && (\n          <AboutDialog onClose={() => this.closeModal()} />\n        )}\n        <Reader\n          defaultWork={defaultWork}\n          inverted={inverted}\n          division0={division0}\n          division1={division1}\n          division2={division2}\n          division3={division3}\n          division4={division4}\n          leftovers={leftovers}\n        />\n      </>\n    );\n  }\n}\n\nApp.propTypes = {\n  inverted: PropTypes.bool,\n  includeMenu: PropTypes.bool,\n  match: PropTypes.object,\n  location: PropTypes.object,\n  history: PropTypes.object,\n};\n\nApp.defaultProps = {\n  inverted: false,\n  includeMenu: false,\n  match: null,\n  location: null,\n  history: null,\n};\n\nexport default withRouter(App);\n"],"sourceRoot":""}