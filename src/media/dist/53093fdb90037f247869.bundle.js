(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{716:function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n(0),o=n.n(r),a=n(659),i=n(42),l=n(715),c=n(2),u=n.n(c);n(724);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){return[e.clientX<window.innerWidth/2,e.clientY<window.innerHeight/2]},h=function(e){var t=e.children,n=e.onClose,r=e.x,c=e.y,u=e.positionBelow,s=e.positionRight,f=e.footer,p=e.width,h=e.maxHeight,m=e.inverted,g=e.frameless,v={float:"right",cursor:"pointer",marginRight:0},b={position:"absolute",width:p,maxHeight:h,overflowY:"auto",padding:0,zIndex:103},y=d(d({},b),{top:45,left:5,width:"calc(100% - 10px)",position:"fixed"}),w=d(d({},b),{bottom:5,left:5,width:"calc(100% - 10px)",position:"fixed"}),k=function(){return window.innerWidth<1024?u?w:y:b},E={position:"sticky",bottom:0,width:"100%"},x=b.height?b.height:h;return b.top=u?c:c-x,b.left=s?r:r-p,o.a.createElement(l.a,{open:!0},o.a.createElement(a.a,{className:"popupDialog",inverted:m,style:k()},o.a.createElement("div",{style:{padding:g?0:15}},!g&&o.a.createElement(i.a,{style:v,onClick:n},"✕"),t),f&&o.a.createElement(a.a,{className:"popupDialogFooter",inverted:m,basic:!0,style:E},f)))};h.propTypes={onClose:u.a.func.isRequired,x:u.a.number.isRequired,y:u.a.number.isRequired,positionBelow:u.a.bool,positionRight:u.a.bool,width:u.a.number,maxHeight:u.a.number,children:u.a.element.isRequired,footer:u.a.element,inverted:u.a.bool,frameless:u.a.bool},h.defaultProps={positionBelow:!0,positionRight:!0,width:500,maxHeight:300,footer:null,inverted:!1,frameless:!1},t.a=h},717:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i}));var r=0,o=1,a=2,i=3},722:function(e,t,n){var r=n(30),o=n(723);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},723:function(e,t,n){(t=n(31)(!1)).push([e.i,'.view_lexicon .speaker {\n  font-weight: bold;\n  display: block;\n  margin-top: 12px;\n}\n.view_lexicon .milestone {\n  color: #999999;\n}\n.view_lexicon [data-rend="italics"] {\n  font-style: italic;\n}\n.view_lexicon .milestone[data-n].milestone[data-unit]:after {\n  font-size: smaller;\n  margin: 3px;\n  content: "[" attr(data-unit) " " attr(data-n) "]";\n}\n.view_lexicon .milestone[data-unit="para"] {\n  display: block;\n  padding-top: 12px;\n}\n.view_lexicon .l {\n  display: block;\n  margin-left: 24px;\n}\n.view_lexicon .gap {\n  content: "...";\n}\n.view_lexicon .quote,\n.view_lexicon .q {\n  font-style: italic;\n}\n.view_lexicon .bibl {\n  margin-left: 3px;\n  margin-right: 3px;\n  font-weight: bold;\n}\n.view_lexicon .bibl::before {\n  content: "[";\n}\n.view_lexicon .bibl::after {\n  content: "]";\n}\n.view_lexicon .docauthor {\n  display: block;\n  padding-bottom: 16px;\n}\n.view_lexicon .label:not(.block) .label {\n  margin-left: 8px;\n  margin-right: 4px;\n}\n.view_lexicon .note-tag {\n  margin-left: 4px;\n  margin-right: 2px;\n  cursor: hand;\n  cursor: pointer;\n}\n.view_lexicon .read-more {\n  margin-top: 16px;\n  display: block;\n}\n\n.view_lexicon .lb {\n  display: block;\n}\n\n.view_lexicon .div3 {\n  padding-top: 16px;\n  display: block;\n}\n\n.view_lexicon .quote > .title {\n  font-weight: bold;\n  display: block;\n}\n\n.view_lexicon .p {\n  margin-bottom: 16px;\n  display: block;\n}\n\n.view_lexicon .lemma {\n  text-decoration: underline;\n  font-weight: bold;\n}\n\n.view_lexicon .orth {\n  font-weight: bold;\n  display: block;\n}\n\n.view_lexicon .etym {\n  display: block;\n  margin-top: 12px;\n  font-weight: bold;\n}\n\n/**\n * Style the sense entries so that they are nested accordingly\n */\n.view_lexicon .sense {\n  display: block;\n  margin-left: 15px;\n  margin-top: 8px;\n}\n\n/**\n * Set the margins\n */\n.view_lexicon .sense[data-level="2"] {\n  margin-left: 30px;\n}\n\n.view_lexicon .sense[data-level="3"] {\n  margin-left: 45px;\n}\n\n.view_lexicon .sense[data-level="4"] {\n  margin-left: 60px;\n}\n\n.view_lexicon .sense[data-level="5"] {\n  margin-left: 75px;\n}\n\n.view_lexicon .sense[data-level="6"] {\n  margin-left: 90px;\n}\n\n/**\n * Show the N indicator ("1.", "2.", etc.)\n */\n.view_lexicon .sense[data-level]:before {\n  content: "" attr(data-n) ". ";\n}\n\n.view_lexicon .sense[data-level="0"]:before {\n  content: "";\n}\n\n/* -----------------------------------------\n     Read work\n     ----------------------------------------- */\n.verse.number {\n  font-weight: bold;\n  color: black;\n  /*\n  border: white solid 1px;\n  padding: 1px 4px 1px 4px;\n  background-color: white;\n  */\n}\n\n.verse-container {\n  display: inline;\n  line-height: 25px;\n}\n\n.block {\n  display: block;\n  margin-top: 12px;\n}\n\n.no_definition_entries {\n  font-style: italic;\n}\n\n.verse .word {\n  cursor: pointer;\n  cursor: hand;\n}\n.verse .word:hover {\n  text-decoration: underline;\n}\n\n.view_lexicon .tr {\n  font-style: italic;\n  font-weight: bold;\n}\n\n@media print {\n  .view_lexicon .note-tag {\n    display: none;\n  }\n}',""]),e.exports=t},724:function(e,t,n){var r=n(30),o=n(725);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},725:function(e,t,n){(t=n(31)(!1)).push([e.i,".ui.inverted.segment.popupDialog{background-color:#2b2b2e;border:1px solid #444;-webkit-box-shadow:0 15px 20px rgba(0,0,0,.5);box-shadow:0 15px 20px rgba(0,0,0,.5)}.popupDialog{z-index:100}.ui.inverted.segment.popupDialogFooter{border-top:1px solid #202023;background-color:#202023}.ui.segment.popupDialogFooter{border-top:1px solid #ddd;background-color:#f6f6f6}",""]),e.exports=t},731:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a),l=n(801),c=n(42),u=n(712),s=n(180),d=n(65),f=n(85),p=n(93),h=n(97),m=n(429),g=(n(722),function(e){var t=e.lexiconEntries,n="";return e.inverted&&(n="inverted"),o.a.createElement(o.a.Fragment,null,0===t.length&&o.a.createElement(m.a,{warning:!0,className:n},o.a.createElement(c.a,{name:"warning"}),"No definition available from Liddel and Scott."),t&&t.map((function(e){return o.a.createElement("div",{key:e.lemma_lexical_form,className:"view_lexicon",dangerouslySetInnerHTML:{__html:e.definition}})})))});g.propTypes={lexiconEntries:i.a.arrayOf(i.a.shape),inverted:i.a.bool},g.defaultProps={lexiconEntries:null,inverted:!1};var v=g,b=n(717);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t=e.word,n=e.inverted,a=e.work,i=e.searchState,m=y(Object(r.useState)(!1),2),g=m[0],w=m[1],k=y(Object(r.useState)(null),2),E=k[0],x=k[1],S=y(Object(r.useState)(null),2),j=S[0],_=S[1],O=y(Object(r.useState)(null),2),C=O[0],A=O[1];Object(r.useEffect)((function(){w(!0),fetch(Object(d.p)(t)).then((function(e){return e.json()})).then((function(e){x(e),w(!1),_(null),A(null)})).catch((function(e){_(e.toString()),w(!1)}))}),[t]);var R=b.c;return!g&&E?R=b.a:!g&&j&&(R=b.b),o.a.createElement(o.a.Fragment,null,R===b.a&&o.a.createElement("div",null,"Found"," ",E.length," ",1!==E.length&&o.a.createElement(o.a.Fragment,null,"parses for"),1===E.length&&o.a.createElement(o.a.Fragment,null,"parse for")," ",t,".",E&&E.length>0&&E[0].ignoring_diacritics&&o.a.createElement(o.a.Fragment,null," ","An exact match could not be found, so similar words with different diacritical marks are being returned."),o.a.createElement(l.a,{inverted:n,style:{marginTop:18},fluid:!0},E.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:"".concat(e.form,"::").concat(e.description)},o.a.createElement(l.a.Title,{active:C===t,index:t,onClick:function(e,t){return function(e,t){var n=t.index;A(C===n?-1:n)}(0,t)}},o.a.createElement(c.a,{name:"dropdown"}),e.lemma," ","(",e.description,"):"," ",e.meaning),o.a.createElement(l.a.Content,{active:C===t},o.a.createElement(v,{lexiconEntries:e.lexicon_entries,inverted:n})))}))),o.a.createElement("div",{style:{marginTop:12}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a?o.a.createElement(o.a.Fragment,null,"Search for"," ",t," ","in"," ",o.a.createElement(s.a,{to:{pathname:Object(f.g)(),search:Object(p.d)("work:".concat(a," ").concat(t)),state:e}},"this work")," ","or"," ",o.a.createElement(s.a,{to:Object(f.g)(t)},"all works")):o.a.createElement(o.a.Fragment,null,"Search for"," ",o.a.createElement(s.a,{to:Object(f.g)(t)},t))}(t,a,i))),R===b.b&&o.a.createElement("div",null,o.a.createElement(h.a,{inverted:n,title:"Unable to get word information",description:"Information for the given word could not be obtained.",message:j})),R===b.c&&o.a.createElement(u.a,{inverted:n,style:{marginTop:32}},o.a.createElement(u.a.Header,null,o.a.createElement(u.a.Line,null)),o.a.createElement(u.a.Paragraph,null,o.a.createElement(u.a.Line,null))))};k.propTypes={word:i.a.string.isRequired,work:i.a.string,inverted:i.a.bool,searchState:i.a.object},k.defaultProps={inverted:!1,work:null,searchState:null};var E=k,x=n(716);function S(e){var t=e.word;return o.a.createElement("div",null,"Look up at"," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Object(f.e)(t)},"Perseus"),","," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Object(f.c)(t)},"Logeion"),", or"," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Object(f.b)(t)},"Google"))}S.propTypes={word:i.a.string.isRequired};var j=S,_=function(e){var t=e.word,n=e.onClose,r=e.x,a=e.y,i=e.positionBelow,l=e.positionRight,c=e.inverted,u=e.work,s=e.searchState;return o.a.createElement(x.a,{onClose:n,inverted:c,x:r,y:a,positionBelow:i,positionRight:l,footer:o.a.createElement(j,{word:t})},o.a.createElement(E,{work:u,word:t,inverted:c,searchState:s}))};_.propTypes={word:i.a.string.isRequired,onClose:i.a.func.isRequired,x:i.a.number.isRequired,y:i.a.number.isRequired,positionBelow:i.a.bool,positionRight:i.a.bool,inverted:i.a.bool,work:i.a.string,searchState:i.a.object},_.defaultProps={positionBelow:!0,positionRight:!0,inverted:!0,work:null,searchState:null};t.a=_},765:function(e,t,n){var r=n(30),o=n(766);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},766:function(e,t,n){(t=n(31)(!1)).push([e.i,'.view_read_work .speaker{font-weight:bold;display:block;margin-top:12px}.view_read_work .milestone{color:#999}.view_read_work [data-rend=italics]{font-style:italic}.view_read_work .milestone[data-n].milestone[data-unit]:after{font-size:smaller;margin:3px;content:"[" attr(data-unit) " " attr(data-n) "]"}.view_read_work .milestone[data-unit=para]{display:block;padding-top:12px}.view_read_work .l{display:block;margin-left:24px}.view_read_work .gap{content:"..."}.view_read_work .quote,.view_read_work .q{font-style:italic}.view_read_work .bibl{margin-left:3px;margin-right:3px;font-weight:bold}.view_read_work .bibl::before{content:"["}.view_read_work .bibl::after{content:"]"}.view_read_work .docauthor{display:block;padding-bottom:16px}.view_read_work .label:not(.block) .label{margin-left:8px;margin-right:4px}.view_read_work .note-tag{margin-left:4px;margin-right:2px;cursor:hand;cursor:pointer}.view_read_work .read-more{margin-top:16px;display:block}.view_read_work .lb{display:block}.view_read_work .div3{padding-top:16px;display:block}.view_read_work .quote>.title{font-weight:bold;display:block}.view_read_work .castlist:before{content:"Cast list: "}.view_read_work .castlist>.castitem:after{content:", "}.view_read_work .castlist>.castitem:last-child:after{content:""}.view_read_work .argument{font-style:italic}.view_read_work .p{margin-bottom:16px;display:block}.view_read_work .lemma{text-decoration:underline;font-weight:bold}.view_read_work .orth{font-weight:bold;font-size:14pt;display:block}.view_read_work .etym{display:block;margin-top:12px;font-weight:bold}.view_read_work .sense{display:block;margin-left:32px}.view_read_work .hide{display:none}.view_read_work{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.view_read_work .icon-info-sign{font-family:"Icons";font-style:normal}.view_read_work .icon-info-sign:before{content:""}.verse.number{font-weight:bold}.inverted .verse.number{color:#fff}.verse-container{display:inline;line-height:25px}@keyframes backgroundFade{0%{background-color:transparent}90%{background-color:transparent}98%{background-color:#6f3939;left:0px;top:0px}100%{background-color:#6f3939;left:0px;top:0px}}.verse-container.noted{background:#563838;animation-name:backgroundFade;animation-duration:1.5s}.block{display:block;margin-top:12px}.verse-link{padding:0 4px}.verse-link:visited{color:#eee}.verse-link:active{color:#eee}.verse-link:link{color:#eee}.verse-link:hover{color:#08c}.verse-link.highlighted{background-color:red;border-radius:2px}.verse-link.highlighted .verse.number{color:#fff}.inverted{background-color:#2b2b2e;color:#f9f9fa}.no_definition_entries{font-style:italic}.word.highlighted,.word.searched{border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;color:#fff}.highlight0{background-color:#49afcd}.highlight1{background-color:#cd4949}.highlight2{background-color:#49cd5f}.highlight3{background-color:#cdcb49}.highlight4{background-color:#cd7e49}.highlight5{background-color:#c949cd}.highlight6{background-color:#cd4949}.highlight7{background-color:#49cd5f}.highlight8{background-color:#cdcb49}.highlight9{background-color:#cd7e49}.highlight10{background-color:#c949cd}.highlight11{background-color:#cd4949}.highlight12{background-color:#49cd5f}.highlight13{background-color:#cdcb49}.highlight14{background-color:#cd7e49}.highlight15{background-color:#c949cd}.highlight16{background-color:#cd4949}.highlight17{background-color:#49cd5f}.highlight18{background-color:#cdcb49}.highlight19{background-color:#cd7e49}.highlight20{background-color:#c949cd}.highlight21{background-color:#cd4949}.highlight22{background-color:#49cd5f}.highlight23{background-color:#cdcb49}.highlight24{background-color:#cd7e49}.highlight25{background-color:#c949cd}.highlight26{background-color:#cd4949}.highlight27{background-color:#49cd5f}.highlight28{background-color:#cdcb49}.highlight29{background-color:#cd7e49}.highlight30{background-color:#c949cd}.highlight31{background-color:#cd4949}.highlight32{background-color:#49cd5f}.highlight33{background-color:#cdcb49}.highlight34{background-color:#cd7e49}.highlight35{background-color:#c949cd}.highlight36{background-color:#cd4949}.highlight37{background-color:#49cd5f}.highlight38{background-color:#cdcb49}.highlight39{background-color:#cd7e49}.highlight40{background-color:#c949cd}.highlight41{background-color:#cd4949}.highlight42{background-color:#49cd5f}.highlight43{background-color:#cdcb49}.highlight44{background-color:#cd7e49}.highlight45{background-color:#c949cd}.highlight46{background-color:#cd4949}.highlight47{background-color:#49cd5f}.highlight48{background-color:#cdcb49}.highlight49{background-color:#cd7e49}.highlight50{background-color:#c949cd}.highlight51{background-color:#cd4949}.highlight52{background-color:#49cd5f}.highlight53{background-color:#cdcb49}.highlight54{background-color:#cd7e49}.highlight55{background-color:#c949cd}.word.searched{background-color:#468847}.division-2{padding-left:24px}.division-3{padding-left:48px}.division-4{padding-left:72px}.division-5{padding-left:96px}.verse .word{cursor:pointer;cursor:hand}.verse .word:hover{text-decoration:underline}@media print{.view_read_work .note-tag{display:none}}.fontSize-0{font-size:15px;line-height:1.1}.fontSize-1{font-size:17px;line-height:1.32}.fontSize-2{font-size:19px;line-height:1.54}.fontSize-3{font-size:21px;line-height:1.76}.fontSize-4{font-size:23px;line-height:1.98}.fontSize-5{font-size:25px;line-height:2.2}',""]),e.exports=t},767:function(e){e.exports=JSON.parse('{"version":"5.0.2"}')},768:function(e,t,n){var r=n(30),o=n(769);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},769:function(e,t,n){(t=n(31)(!1)).push([e.i,"@media print{.ui.top.menu{display:none}.underMenu{margin-top:0}span,div,h1,h2,h3{color:#000 !important}div{overflow:visible !important}}@media only screen{.ui.inverted.action.input.referenceJumpInput>input{width:130px}}@media only screen and (min-width: 767px){.ui.inverted.action.input.referenceJumpInput>input{width:180px}}.underMenu{margin-top:1em}.menu.control.inverted{background-color:#202023;border-bottom:1px solid #202023}.pushable.inverted>.pusher,.pushable.inverted>.pusher,.underMenu.inverted{background-color:#2b2b2e}.otherVersions>.menu>.item>.text{margin-right:64px}.bookProgress.ui.progress>.bar,.bookProgress.ui.progress{border-radius:0}",""]),e.exports=t},771:function(e){e.exports=JSON.parse('{"contextMenuEnabled":true,"userNotesEnabled":true}')},799:function(e,t,n){var r=n(30),o=n(800);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},800:function(e,t,n){(t=n(31)(!1)).push([e.i,".create-first-note-button{margin-top:16px}",""]),e.exports=t},809:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(664),i=n(2),l=n.n(i),c=n(813),u=n(659),s=n(705),d=n(747),f=n(136),p=n(42),h=n(720),m=n(65),g=n(169);function v(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}function b(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?e:v()?localStorage:(console.warn("Local storage is not available!!"),null)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=w(t);if(n){var r=n.getItem(e);if(r)try{var o=JSON.parse(r);return o.filter((function(e){return e.workTitleSlug}))}catch(e){return console.warn("The list of works could not be loaded"),null}}return null}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return k(g.d,e)}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return k(g.b,e)}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=w(r);if(o){var a=x(o);a||(a=[]);var i=a.findIndex((function(t){return t.workTitleSlug===e}));i>=0&&(a[i].divisions=t,a[i].divisionReference=n,o.setItem(g.b,JSON.stringify(a)))}}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=w(r);if(o){var a=E(o);null===a&&(a=[]);var i=a.findIndex((function(t){return t.workTitleSlug===e})),l=i>=0?a[i]:{};i>=0&&(a=[].concat(b(a.slice(0,i)),b(a.slice(i+1)))),l.workTitleSlug=e,l.divisions=t,l.divisionReference=n,a.splice(0,0,l),a.length>6&&(a=a.slice(0,6)),o.setItem(g.d,JSON.stringify(a)),S(e,t,n,r)}}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||localStorage;n.setItem(g.c,e)}var O=n(85),C=n(93),A=n(712),R=n(21),T=n(710),I=n(84),P=n(428),N=n(64),W=n(97);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t=e.onClose,n=e.work,a=F(Object(r.useState)(null),2),i=a[0],l=a[1],c=F(Object(r.useState)(null),2),u=c[0],s=c[1],d=function(e,t){return o.a.createElement(T.a.Row,null,o.a.createElement(T.a.Cell,null,o.a.createElement("strong",null,e)),o.a.createElement(T.a.Cell,null,t))};return Object(r.useEffect)((function(){fetch(Object(m.t)(n)).then((function(e){return e.json()})).then((function(e){l(e)})).catch((function(e){s(e.toString())}))}),[]),o.a.createElement(I.a,{size:"small",defaultOpen:!0,onClose:t},!i&&o.a.createElement(f.a,{content:"About this Book"}),i&&o.a.createElement(f.a,{content:"About ".concat(i.title)}),o.a.createElement(I.a.Content,{scrolling:!0},u&&o.a.createElement(W.a,{title:"Unable to load work information",description:"Unable to get information about the work from the server",message:u}),!u&&i&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"inline-block",marginRight:16}},o.a.createElement(P.a,{style:{width:100},src:Object(m.s)(n,400)})),o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement(T.a,{basic:"very",celled:!0,collapsing:!0},o.a.createElement(T.a.Body,null,d("Title",i.title),d("Language",i.language),d("Source",i.source)))),o.a.createElement("div",{style:{marginTop:16}},i.source_description&&i.source_description),i.wiki_info&&o.a.createElement("div",{style:{marginTop:16}},i.wiki_info.summary)),!u&&!i&&o.a.createElement(A.a,null,o.a.createElement(A.a.Header,{image:!0},o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null)),o.a.createElement(A.a.Paragraph,null,o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null)))),o.a.createElement(I.a.Actions,null,i&&i.wiki_info&&o.a.createElement("a",{target:"_blank",style:{marginTop:10,float:"left"},rel:"noopener noreferrer",href:i.wiki_info.url},"View on wikipedia"),o.a.createElement(N.a,{onClick:t},"Close")))};L.propTypes={onClose:l.a.func.isRequired,work:l.a.string.isRequired};var D=L,z=n(663),M=n(708);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.onClose,n=e.work,a=B(Object(r.useState)("epub"),2),i=a[0],l=a[1],c=function(e,t){l(t.value)};return o.a.createElement(I.a,{size:"tiny",defaultOpen:!0,onClose:t},o.a.createElement(f.a,{content:"Download Book"}),o.a.createElement(I.a.Content,null,o.a.createElement("div",{stryle:{marginBottom:12}},"Select which format you would like to download:"),o.a.createElement(z.a,null,o.a.createElement(z.a.Field,null,o.a.createElement(M.a,{label:"ePUB Format (Recommended)",name:"radioGroup",value:"epub",checked:"epub"===i,onChange:function(e,t){return c(0,t)}})),o.a.createElement(z.a.Field,null,o.a.createElement(M.a,{label:"MOBI Format (Amazon Kindle)",name:"radioGroup",value:"mobi",checked:"mobi"===i,onChange:function(e,t){return c(0,t)}})))),o.a.createElement(I.a.Actions,null,o.a.createElement(N.a,{onClick:t},"Close"),o.a.createElement(N.a,{primary:!0,onClick:function(){document.location=Object(m.r)(n,i)}},"Download")))};U.propTypes={onClose:l.a.func.isRequired,work:l.a.string.isRequired};var H=U;function $(e,t,n){return t?Object(R.g)(e.label):n?e.descriptor:"".concat(e.type," ").concat(e.descriptor)}function G(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.text.toLowerCase().includes(n)||e.key.toLowerCase().includes(n)}))}function J(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.a.createElement("div",{style:{paddingTop:16}},o.a.createElement(A.a,{inverted:e},o.a.createElement(A.a.Header,null,o.a.createElement(A.a.Line,null)),o.a.createElement(A.a.Paragraph,null,o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null)),o.a.createElement(A.a.Paragraph,null,o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null)),o.a.createElement(A.a.Paragraph,null,o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null))))}var Y=n(732),X=n.n(Y),K=function(e,t,n,r){return function(a){var i=a.attribs,l=a.children;if(i&&"word"===i.class&&e&&l.length>0&&"text"===l[0].type){var c=l[0].data,u=Object(R.d)(e,c);if(u>=0)return o.a.createElement("span",{className:"word highlighted highlight".concat(u)},Object(Y.domToReact)(l))}if(i&&i["data-verse"]){var s=i&&i["data-verse"]===n?"verse-link highlighted":"verse-link";i.class=s,i["data-original-id"]=i.id,i.id="".concat(t).concat(i.id)}if(i&&i.id&&"verse-container"===i.class&&r&&r.find){var d=i.id,f=/verse-(.*)/g.exec(d);if(f.length>0){var p=f[1];r.find((function(e){return e.verse_indicator===p}))&&(i.class+=" noted")}}}},Z=n(716),Q=function(e){return e.target.className.includes("word")?0:e.target.className.includes("verse")?1:e.target.className.includes("note-tag")?2:3},ee=function(e){if(null===e)return{verseDescriptor:null,verse:null,id:null,href:null};var t,n=Array.from(e.attributes).find((function(e){return"data-verse-descriptor"===e.name})),r=n?n.nodeValue:null,o=e.id;t=e.attributes.href?e.attributes.href.nodeValue:null;var a=Array.from(e.attributes).find((function(e){return"data-verse"===e.name})),i=a?a.nodeValue:null;return r?{verseDescriptor:r,verse:i,id:o,href:t}:{verseDescriptor:null,verse:null,id:null,href:null}},te=function(e){for(var t=e,n=null,r=0;r<5&&null===n;)null!==t&&t.className.includes("verse-container")?n=t:(t=t.parentElement,r+=1);var o=n.getElementsByClassName("verse-link");return 0===o.length?(console.info("Failed to find the verse-link"),null):o[0]},ne=function(e){return ee(te(e.target))},re=function(e){if(e.target.className.includes("word")){var t={};return(t=ee(te(e.target))).word=e.target.innerText,t}return null},oe=function(e){var t=e.target.id,n=document.getElementById("content_for_".concat(t)),r=["Note content could not be found"];return n&&(r=[n.textContent]),{contents:r,id:t}};n(765);function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le=function(e){var t=e.content,n=e.highlightedVerse,a=e.onVerseClick,i=e.onNoteClick,l=e.onWordClick,c=e.onWordHover,u=e.onClickAway,s=e.onContextClick,d=e.highlightedWords,f=e.fontSizeAdjustment,p=e.verseIdentifierPrefix,h=e.notesMetaData,m=e.inverted,g=Object(r.useRef)(null),v=Object(r.useRef)(null),b=Object(r.useRef)(null),y=Object(r.useRef)(!1),w=Object(r.createRef)(),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.current;n&&n.addEventListener(t,(function(t){return e(t)}))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.current;n&&n.removeEventListener(t,(function(t){return e(t)}))},x=function(e){e.preventDefault();var n=ae(Object(Z.b)(e),2),r=n[0],o=n[1],a=ae(function(e){var t=Q(e);return 0===t?[t,re(e)]:2===t?[t,oe(e)]:1===t?[t,ne(e)]:[t,null]}(e),2),i=a[0],l=a[1];s(e.clientX,e.clientY,r,o,t,i,l,e)},S=function(){u()},j=function(e){var t=Q(e);0===t?function(e){var t=e.target.textContent,n=ae(Object(Z.b)(e),2),r=n[0],o=n[1];l(t,e.clientX,e.clientY,r,o)}(e):1===t?(!function(e){e.preventDefault();var t=ne(e),n=t.verseDescriptor,r=t.verse,o=t.id,i=t.href;n&&(y.current=!0,a(n,r,o,i,e.clientX,e.clientY))}(e),S()):2===t?function(e){var t=oe(e),n=t.contents,r=t.id,o=ae(Object(Z.b)(e),2),a=o[0],l=o[1];i(n,r,e.clientX,e.clientY,a,l)}(e):S()};Object(r.useEffect)((function(){return g.current=function(e){return j(e)},k(g.current,"click"),v.current=function(e){return function(e){e.target.className.includes("word")?c(re(e)):c(null)}(e)},k(v.current,"mousemove"),b.current=function(e){return x(e)},k(b.current,"contextmenu"),function(){E(g.current),E(v.current,"mousemove"),E(b.current,"contextmenu")}}),[]);var _="view_read_work";return m&&(_="view_read_work inverted"),o.a.createElement(o.a.Fragment,null,function(e){var r={replace:K(d,p,n,h),condition:function(e){return"word"===e.className.toLowerCase()},modify:function(e){return e.className+=" highlighted",e}},a=X()(t,r);return o.a.createElement("div",{className:"".concat(e," fontSize-").concat(f),ref:w},a)}(_))};le.propTypes={content:l.a.string.isRequired,highlightedVerse:l.a.string,highlightedWords:l.a.arrayOf(l.a.string),onVerseClick:l.a.func,onWordClick:l.a.func,onClickAway:l.a.func,onNoteClick:l.a.func,onWordHover:l.a.func,onContextClick:l.a.func,inverted:l.a.bool,verseIdentifierPrefix:l.a.string,fontSizeAdjustment:l.a.number,notesMetaData:l.a.arrayOf(l.a.shape)},le.defaultProps={highlightedVerse:null,highlightedWords:null,onVerseClick:function(){},onWordClick:function(){},onClickAway:function(){},onNoteClick:function(){},onWordHover:function(){},onContextClick:function(){},inverted:!1,verseIdentifierPrefix:"",fontSizeAdjustment:0,notesMetaData:null};var ce=le,ue=n(767);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fe=function(e){var t=e.onClose,n=se(Object(r.useState)(null),2),a=n[0],i=n[1],l=se(Object(r.useState)(null),2),c=l[0],u=l[1];Object(r.useEffect)((function(){fetch(Object(m.n)()).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){u(e.toString())}))}),[]);var s=function(e,t){return o.a.createElement(T.a.Row,null,o.a.createElement(T.a.Cell,null,o.a.createElement("strong",null,e)),o.a.createElement(T.a.Cell,null,t))},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return o.a.createElement(T.a.Row,null,o.a.createElement(T.a.Cell,null,o.a.createElement("strong",null,e)),o.a.createElement(T.a.Cell,null,r,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t},n)))};return o.a.createElement(I.a,{defaultOpen:!0,onClose:t},o.a.createElement(f.a,{content:"About TextCritical.net"}),o.a.createElement(I.a.Content,null,o.a.createElement("p",null,"TextCritical.net is a website that provides ancient Greek texts and useful analysis tools."),o.a.createElement(T.a,{basic:"very",celled:!0,collapsing:!0},o.a.createElement(T.a.Body,null,s("Version",ue.version),a&&s("Server Version","".concat(a.version,", ").concat(a.build," (").concat(a.build_date,")")),!a&&!c&&s("Server Version",o.a.createElement(A.a,null,o.a.createElement(A.a.Line,null))),c&&s("Server Version","Unable to get server version information"),d("Sources of the works","https://lukemurphey.net/projects/ancient-text-reader/wiki/Content_Sources","LukeMurphey.net","Available at "),d("Source Code","https://github.com/LukeMurphey/textcritical_net","Github.com","Available at "),d("Components used","https://lukemurphey.net/projects/ancient-text-reader/wiki/Dependencies","LukeMurphey.net","Available at ")))),o.a.createElement(I.a.Actions,null,o.a.createElement(N.a,{onClick:t},"Close")))};fe.propTypes={onClose:l.a.func.isRequired};var pe=fe,he=n(429),me=function(e){var t=e.inverted,n=e.onClick;return o.a.createElement(he.a,{info:!0,className:t?"inverted":""},o.a.createElement(he.a.Header,null,"No Book Selected"),o.a.createElement("p",null,"Choose a book above to begin reading."),n&&o.a.createElement("p",null,o.a.createElement(N.a,{onClick:function(){return n()},inverted:t},"Open Library")))};me.propTypes={onClick:l.a.func,inverted:l.a.bool},me.defaultProps={inverted:!1,onClick:null};var ge=me,ve=(n(768),n(811)),be=n(815),ye=n(806),we=n(711),ke=n(717);function Ee(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||Se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _e=function(e){var t=e.inverted,n=e.work,a=e.divisions,i=e.divisionReference,l=e.history,c=e.setFavoriteWork,u=e.removeFavoriteWork,s=xe(Object(r.useState)(null),2),d=s[0],f=s[1],h=xe(Object(r.useState)(null),2),g=h[0],v=h[1];Object(r.useEffect)((function(){var e;d||g||(e=n,fetch(Object(m.h)(e,i)).then((function(e){return e.json()})).then((function(e){f(e)})).catch((function(e){v(e.toString())})))}));var b=function(){var e=O.f.apply(void 0,[n,null].concat(Ee(a)));l.push(e)},y=ke.c;g?y=ke.b:d&&(y=ke.a);var w=t?"inverted":"",k=u||c;return o.a.createElement(ve.a,{className:w},o.a.createElement(ve.a.Content,{style:{cursor:"pointer"},onClick:b},o.a.createElement(be.a,{minWidth:992},o.a.createElement(P.a,{floated:"right",size:"mini",src:Object(m.s)(n)})),o.a.createElement(be.a,{maxWidth:992},o.a.createElement(P.a,{size:"small",src:Object(m.s)(n,200)})),y===ke.a&&o.a.createElement(be.a,{minWidth:992},o.a.createElement(ve.a.Header,{style:{lineHeight:"1.2em",maxHeight:"2.4em",overflow:"hidden",textOverflow:"ellipsis",color:"black",fontWeight:"bold"}},Object(R.h)(d.work_title,20)),o.a.createElement(ve.a.Meta,null,d.division_title)),y===ke.c&&o.a.createElement(ye.a,{active:!0}),y===ke.b&&o.a.createElement(p.a,{color:"red",name:"attention",size:"large",title:g})),o.a.createElement(ve.a.Content,{extra:!0},o.a.createElement("div",{className:"ui two buttons"},k&&o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a.Group,{fluid:!0,color:"green"},o.a.createElement(be.a,{minWidth:992},o.a.createElement(N.a,{color:"green",onClick:b},"Read")),o.a.createElement(we.a,{style:{textAlign:"center"},className:"button icon",floating:!0,trigger:o.a.createElement(o.a.Fragment,null)},o.a.createElement(we.a.Menu,null,c&&o.a.createElement(we.a.Item,{icon:"heart","data-testid":"setFav",text:"Set as favorite",onClick:function(){return c(n)}}),u&&o.a.createElement(we.a.Item,{icon:"remove","data-testid":"removeFav",text:"Remove from favorites",onClick:function(){return u(n)}}))))),!k&&o.a.createElement(N.a,{basic:!0,color:"green",onClick:b},"Read"))))};_e.propTypes={inverted:l.a.bool,work:l.a.string.isRequired,divisionReference:l.a.string,divisions:l.a.arrayOf(l.a.string),history:l.a.object.isRequired,setFavoriteWork:l.a.func,removeFavoriteWork:l.a.func},_e.defaultProps={inverted:!1,divisionReference:null,divisions:[],setFavoriteWork:null,removeFavoriteWork:null};var Oe=Object(a.h)(_e);function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=function(e){var t=e.inverted,n=e.storageProvider,a=E(n),i=x(n),l=Ce(Object(r.useState)(0),2),c=l[0],u=l[1],s=function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=w(t);if(n){var r=x(n);null===r&&(r=[]);var o=r.findIndex((function(t){return t.workTitleSlug===e})),a=o>=0?r[o]:{};o>=0&&(r=[].concat(b(r.slice(0,o)),b(r.slice(o+1)))),a.workTitleSlug=e,r.splice(0,0,a),r.length>6&&(r=r.slice(0,6)),n.setItem(g.b,JSON.stringify(r))}}(e,n),u(c+1)},d=function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=w(t);if(n){var r=x(n),o=r.findIndex((function(t){return t.workTitleSlug===e}));o>=0&&(r=[].concat(b(r.slice(0,o)),b(r.slice(o+1))),n.setItem(g.b,JSON.stringify(r)))}}(e,n),u(c+1)};return o.a.createElement("div",null,(a&&a.length>0||c>0)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{inverted:t,as:"h3"},"Most Recently Read",a&&a.length>0&&o.a.createElement(N.a,{floated:"right",onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=w(e);t.removeItem(g.d)}(n),u(c+1)}},"Clear this list")),a&&a.length>0&&o.a.createElement(ve.a.Group,{style:{clear:"both"},itemsPerRow:6},a.map((function(e){return o.a.createElement(Oe,{key:e.workTitleSlug,work:e.workTitleSlug,divisions:e.divisions,divisionReference:e.divisionReference,setFavoriteWork:s})}))),(!a||0===a.length)&&c>0&&o.a.createElement(o.a.Fragment,null,"No works in the list of recently read works")),(i&&i.length>0||c>0)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{inverted:t,as:"h3"},"Favorites",i&&i.length>0&&o.a.createElement(N.a,{floated:"right",onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=w(e);t.removeItem(g.b)}(n),u(c+1)}},"Clear this list")),i&&i.length>0&&o.a.createElement(ve.a.Group,{style:{clear:"both"},itemsPerRow:6},i.map((function(e){return o.a.createElement(Oe,{key:e.workTitleSlug,work:e.workTitleSlug,divisions:e.divisions,divisionReference:e.divisionReference,removeFavoriteWork:d})}))),(!i||0===i.length)&&c>0&&o.a.createElement(o.a.Fragment,null,"No favorited works")))};Re.propTypes={inverted:l.a.bool,storageProvider:l.a.object},Re.defaultProps={inverted:!1,storageProvider:null};var Te=Re,Ie=n(709),Pe=function(e){var t=e.data,n="";return e.inverted&&(n=" inverted"),o.a.createElement(o.a.Fragment,null,t&&t.total_chapters>1&&t.total_chapters_in_book>1&&o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a.Group,{horizontal:!0,style:{border:0,marginBottom:4},className:"".concat(n)},o.a.createElement(u.a,{basic:!0,inverted:!0,style:{padding:0}},t.completed_chapters_in_book," ","of"," ",t.total_chapters_in_book," ","chapters"," "),o.a.createElement(u.a,{basic:!0,inverted:!0,style:{textAlign:"right",padding:0}},Math.round(t.progress_in_book),"% through the book")),o.a.createElement(Ie.a,{className:"bookProgress",color:"blue",style:{margin:"0 0 8px 0"},percent:t.progress_in_book,size:"tiny"})))};Pe.propTypes={data:l.a.shape({progress_in_book:l.a.number,total_chapters_in_book:l.a.number,completed_chapters_in_book:l.a.number,total_chapters:l.a.number}),inverted:l.a.bool},Pe.defaultProps={inverted:!1,data:null};var Ne=Pe,We=n(665),Fe=function(e){var t=e.sidebarVisible,n=e.work,r=e.openWorkInfoModal,a=e.openDownloadModal,i=e.openSearch,l=e.setSidebarVisible;return o.a.createElement(c.a,{as:We.a,animation:"overlay",icon:"labeled",style:{width:200,paddingTop:50},inverted:!0,visible:t,onHide:function(){return l(!1)},vertical:!0,width:"thin"},o.a.createElement(P.a,{src:Object(m.s)(n,400)}),o.a.createElement(We.a.Item,{as:"a",onClick:function(){return r()}},"Information"),o.a.createElement(We.a.Item,{as:"a",onClick:function(){return a()}},"Download"),o.a.createElement(We.a.Item,{as:"a",onClick:function(){return i()}},"Search"))};Fe.propTypes={sidebarVisible:l.a.bool.isRequired,work:l.a.string.isRequired,openWorkInfoModal:l.a.func.isRequired,openDownloadModal:l.a.func.isRequired,openSearch:l.a.func.isRequired,setSidebarVisible:l.a.func.isRequired};var qe=Fe,Le=n(810),De=n(661),ze=n.p+"images/5a0a1a6aa2a65b08197971f38a43cf6c-Library.svg",Me=n(96),Be=(n(173),n(807));function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=function(e){var t=e.size,n=e.children,a=e.src,i=e.style,l=Ve(Object(r.useState)(!1),2),c=l[0],u=l[1];return c?o.a.createElement(P.a,{style:i,src:a}):o.a.createElement(Be.a,{as:"span",onOnScreen:function(){return u(!0)}},n&&n,!n&&o.a.createElement(ye.a,{"data-testid":"loader",active:!0,inline:"centered",size:t}))};He.propTypes={src:l.a.string.isRequired,size:l.a.string,children:l.a.element,style:l.a.object},He.defaultProps={size:"tiny",children:null,style:{}};var $e=He;function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye={cursor:"pointer"},Xe=function(e){var t=e.relatedWorks,n=e.onSelectWork,a=e.loadedWork,i=e.authors,l=Ge(Object(r.useState)(null),2),c=l[0],u=l[1],s=Ge(Object(r.useState)(null),2),d=s[0],f=s[1],p=Ge(Object(r.useState)(""),2),g=p[0],v=p[1],b=Object(r.useRef)(null),y=function(e){return!!t.find((function(t){return t.title_slug===e.title_slug}))},w=function(){fetch(Object(m.q)()).then((function(e){return e.json()})).then((function(e){var t;u(((t=e).sort((function(e,t){return y(e)&&!y(t)?-1:y(t)&&!y(e)?1:e.title>t.title})),t)),b.current.focus()})).catch((function(e){f(e.toString())}))},k=function(e){return!(!i||!e.author)&&!!i.find((function(t){return t.name===e.author}))},E=g.toLowerCase(),x=Object(h.a)((function(e,t){!function(e){v(e.value)}(t)}),500),S=window.innerWidth>767,j=S?500:250;return Object(r.useEffect)((function(){w()}),[]),o.a.createElement(o.a.Fragment,null,!d&&c&&o.a.createElement("div",null,o.a.createElement(De.a,{ref:b,onChange:x,style:{width:"100%"},placeholder:"Search..."})),o.a.createElement("div",{style:{maxHeight:400,width:j,overflowY:"auto"}},d&&o.a.createElement(W.a,{title:"Unable to load the list of works",description:"Unable to get the list of works from the server",message:d}),!d&&c&&o.a.createElement(T.a,{basic:"very",celled:!0,collapsing:!0},o.a.createElement(T.a.Body,null,c.filter((function(e){return function(e,t){return e.title.toLowerCase().includes(t)||e.title_slug.toLowerCase().includes(t)||e.author.toLowerCase().includes(t)||e.editor.toLowerCase().includes(t)||e.language.toLowerCase().includes(t)}(e,E)})).map((function(e,t){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=function(){n(e.title_slug)},l=y(e),c=k(e),u=a&&a===e.title_slug;return o.a.createElement(T.a.Row,{key:e.title_slug},r&&o.a.createElement(T.a.Cell,{className:"workImage",style:Ye,onClick:i},t&&o.a.createElement($e,{style:{width:32},src:Object(m.s)(e.title_slug,64)},o.a.createElement(P.a,{style:{width:32},src:"/book-cover-small.png"})),!t&&o.a.createElement(P.a,{style:{width:32},src:Object(m.s)(e.title_slug,64)})),o.a.createElement(T.a.Cell,{style:Ye,onClick:i},o.a.createElement("div",null,e.title,o.a.createElement("div",{style:{display:"inline-block",float:"right",paddingRight:4}},l&&r&&o.a.createElement(Me.a,{as:"a",color:"red"},"Related Work"),c&&!u&&r&&o.a.createElement(Me.a,{as:"a",color:"blue"},"Same Author"),u&&r&&o.a.createElement(Me.a,{as:"a",color:"green"},"This work"),l&&!r&&o.a.createElement(Me.a,{as:"a",color:"red",circular:!0,empty:!0}),c&&!u&&!r&&o.a.createElement(Me.a,{as:"a",color:"blue",circular:!0,empty:!0}))),o.a.createElement("div",{style:{color:"#888"}},e.language,e.author&&" by ".concat(e.author),e.editor&&" (".concat(e.editor,")"))))}(e,t>15,S)})))),!d&&!c&&o.a.createElement(A.a,null,o.a.createElement(A.a.Paragraph,null,o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null),o.a.createElement(A.a.Line,null)))))};Xe.propTypes={onSelectWork:l.a.func.isRequired,relatedWorks:l.a.arrayOf(l.a.shape),authors:l.a.arrayOf(l.a.string),loadedWork:l.a.string},Xe.defaultProps={relatedWorks:[],authors:[],loadedWork:null};var Ke=Xe,Ze=n(771);function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Qe(this,e),this.store=t,this.csrfToken=n}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.store=null}},{key:"getItem",value:function(e){return null===this.store?null:this.store[e]||null}},{key:"setItem",value:function(e,t){var n=new URLSearchParams({value:t});fetch(Object(m.m)(e),{method:"POST",body:n.toString(),headers:{"X-CSRFToken":this.csrfToken,"Content-Type":"application/x-www-form-urlencoded"}}),this.store[e]=t.toString()}},{key:"removeItem",value:function(e){fetch(Object(m.l)(e),{method:"POST",headers:{"X-CSRFToken":this.csrfToken,"Content-Type":"application/x-www-form-urlencoded"}}),delete this.store[e]}}])&&et(t.prototype,n),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lt=o.a.createContext({}),ct=function(e){var t=e.children,n=at(Object(r.useState)({}),2),a=n[0],i=n[1],l=at(Object(r.useState)(!1),2),c=l[0],u=l[1],s=at(Object(r.useState)(null),2),d=s[0],f=s[1],p=function(){fetch(Object(m.j)()).then((function(e){return e.json()})).then((function(e){var t;i(e),e&&e.authenticated&&Object.prototype.hasOwnProperty.call(e,"csrf_token")?(t=e.csrf_token,fetch(Object(m.k)()).then((function(e){return e.json()})).then((function(e){console.info("Successfully loaded the user's preferences"),f(new tt(e,t)),u(!0)}))):u(!0)})).catch((function(){u(!0)}))};Object(r.useEffect)((function(){p()}),[]);return o.a.createElement(lt.Provider,{value:{features:Ze,authentication:rt(rt({authLoadingDone:c},a),{},{checkAuthenticationState:function(){u(!1),p()}}),storageProvider:d}},t)};ct.propTypes={children:l.a.element.isRequired};function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dt={bottom:"20px",right:"20px",position:"fixed"},ft={bottom:"20px",left:"20px",position:"fixed"},pt=Object(h.a)((function(e,t){return fetch(Object(m.h)(e,t))}),500),ht=function(e){var t=e.inverted,n=e.toggleSidebarVisible,a=e.loadedWork,i=e.relatedWorks,l=e.authors,c=e.onSelectWork,u=e.setBookSelectionOpen,d=e.bookSelectionOpen,f=e.goToReference,h=e.openAboutModal,g=e.referenceValue,v=e.history,b=e.hasPriorChapter,y=e.hasNextChapter,w=e.goToPriorChapter,k=e.goToNextChapter,E=e.nextChapterDescriptor,x=e.previousChapterDescriptor,S=e.increaseFontSize,j=e.decreaseFontSize,_=e.increaseFontSizeDisabled,C=e.decreaseFontSizeDisabled,A=o.a.useContext(lt).authentication,T="";t&&(T=" inverted");var I=ut(Object(r.useState)(null),2),P=I[0],W=I[1],F=ut(Object(r.useState)(!0),2),q=F[0],L=F[1],D=ut(Object(r.useState)(null),2),z=D[0],M=D[1],B=Object(r.useRef)(null),V=ut(Object(r.useState)(!1),2),U=V[0],H=V[1],$=function(e,t){e&&t&&fetch(Object(m.h)(e,t)).then((function(e){return Promise.all([e.status,e.json()])})).then((function(n){var r=ut(n,2),o=r[0],a=r[1];200===o&&f(e,t,a)}))},G=function(){E&&fetch(Object(m.g)("".concat(a,"/").concat(E))),x&&fetch(Object(m.g)("".concat(a,"/").concat(x)))};Object(r.useEffect)((function(){W(null)}),[g]),Object(r.useEffect)((function(){G()}),[E,x]);var J=function(e){return n=(t=e).key,r=t.ctrlKey,"ArrowRight"===n&&r&&k&&k(),void("ArrowLeft"===n&&r&&w&&w());var t,n,r};Object(r.useEffect)((function(){return Object(R.a)(J,"keyup"),function(){return Object(R.e)(J,"keyup")}}));return o.a.createElement(We.a,{inverted:t,style:{zIndex:103},className:"control ".concat(T),fixed:"top"},o.a.createElement(s.a,null,a&&o.a.createElement(We.a.Item,{name:"works",onClick:function(){return n()}},o.a.createElement(p.a,{name:"bars"})),o.a.createElement(Le.a,{content:o.a.createElement(Ke,{relatedWorks:i,authors:l,onSelectWork:function(e){return c(e)},loadedWork:a}),on:"click",position:"bottom left",pinned:!0,onClose:function(){return u(!1)},onOpen:function(){return u(!0)},open:d,trigger:o.a.createElement(We.a.Item,{name:"Library"},o.a.createElement("img",{style:{width:16},src:ze,alt:"Library"}))}),a&&o.a.createElement(We.a.Item,null,o.a.createElement(De.a,{inverted:t,className:"referenceJumpInput",action:o.a.createElement(N.a,{disabled:!q,inverted:t,onClick:function(){W(null),$(a,P||g)},basic:!0},"Go"),placeholder:"Jump to reference...",value:P||g||"",error:!q,onChange:function(e,t){return n=t,void(a&&n.value&&(W(n.value),L(!0),M(null),B.current=n.value,pt(a,n.value).then((function(e){B.current===n.value&&(200===e.status?(W(n.value),L(!0)):(W(n.value),L(!1)))})).catch((function(e){M(e.toString())}))));var n},onKeyPress:function(e,t){"Enter"===e.key&&(W(null),$(a,P||g))}}),z&&o.a.createElement(Le.a,{inverted:t,content:z,trigger:o.a.createElement(p.a,{style:{paddingLeft:8},color:"red",name:"warning sign"})})),o.a.createElement("div",{style:{float:"right",marginLeft:"auto",marginTop:11}},o.a.createElement(be.a,{minWidth:768},A&&A.authenticated&&o.a.createElement("span",{style:{marginRight:18}},"Hello"," ",A.first_name),o.a.createElement(we.a,{icon:"ellipsis vertical",direction:"left",open:U,onClick:function(){return H(!0)},onBlur:function(){return H(!1)}},o.a.createElement(we.a.Menu,null,(S||j)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{color:"rgba(0, 0, 0, 0.87)",marginLeft:18,marginRight:12}},"Font size:"),o.a.createElement(N.a.Group,null,S&&o.a.createElement(N.a,{icon:"plus",disabled:_,onClick:function(){S&&S()}}),j&&o.a.createElement(N.a,{icon:"minus",disabled:C,onClick:function(){j&&j()}}))),o.a.createElement(we.a.Item,{text:"Go to Start Page",onClick:function(){return v.push(Object(O.h)()),void H(!1)}}),A&&A.authenticated&&o.a.createElement(we.a.Item,{text:"Notes",onClick:function(){return v.push(Object(O.d)()),void H(!1)}}),o.a.createElement(we.a.Item,{text:"Search",onClick:function(){return v.push(Object(O.g)()),void H(!1)}}),A&&A.authenticated&&o.a.createElement(we.a.Item,{text:"Logout",onClick:function(){window.location=A.logout}}),A&&!A.authenticated&&o.a.createElement(we.a.Item,{text:"Login",onClick:function(){!function e(t){if(t){var n=!1;try{t.document.location&&"/auth_success"===t.document.location.pathname&&(A.checkAuthenticationState(),t.close(),H(!1),n=!0)}catch(e){n=!1}n||setTimeout((function(){return e(t)}),500)}}(window.open(A.login_google,"login_google","height=500,width=800")),H(!1)}}),o.a.createElement(we.a.Item,{text:"Look up Greek words (and convert beta-code)",onClick:function(){return v.push(Object(O.a)()),void H(!1)}}),o.a.createElement(we.a.Item,{text:"About TextCritical.net",onClick:function(){H(!1),h()}})))))),a&&w&&k&&o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{icon:!0,inverted:t,style:ft,className:"priorPage ".concat(T),disabled:!b,onClick:function(){return w()},title:"Go to prior chapter (or use shortcut ctrl + left arrow)"},o.a.createElement(p.a,{name:"left chevron"})),o.a.createElement(N.a,{icon:!0,inverted:t,style:dt,className:"nextPage ".concat(T),disabled:!y,onClick:function(){return k()},title:"Go to next chapter (or use shortcut ctrl + right arrow)"},o.a.createElement(p.a,{name:"right chevron"}))))};ht.propTypes={inverted:l.a.bool.isRequired,relatedWorks:l.a.arrayOf(l.a.shape),authors:l.a.arrayOf(l.a.string),loadedWork:l.a.string,toggleSidebarVisible:l.a.func.isRequired,onSelectWork:l.a.func.isRequired,setBookSelectionOpen:l.a.func.isRequired,bookSelectionOpen:l.a.bool,goToReference:l.a.func.isRequired,openAboutModal:l.a.func.isRequired,goToPriorChapter:l.a.func,goToNextChapter:l.a.func,increaseFontSize:l.a.func,decreaseFontSize:l.a.func,authenticationCompleted:l.a.func,referenceValue:l.a.string,hasNextChapter:l.a.bool,hasPriorChapter:l.a.bool,history:l.a.object.isRequired,nextChapterDescriptor:l.a.string,previousChapterDescriptor:l.a.string,increaseFontSizeDisabled:l.a.bool,decreaseFontSizeDisabled:l.a.bool},ht.defaultProps={referenceValue:"",authors:[],relatedWorks:[],loadedWork:null,bookSelectionOpen:!1,hasNextChapter:!1,hasPriorChapter:!1,goToPriorChapter:null,goToNextChapter:null,increaseFontSize:null,decreaseFontSize:null,nextChapterDescriptor:null,previousChapterDescriptor:null,increaseFontSizeDisabled:!0,decreaseFontSizeDisabled:!0,authenticationCompleted:null};var mt=Object(a.h)(ht),gt=function(e){var t,n,r,a=e.inverted,i=e.data,l=e.onChangeChapter;return o.a.createElement(f.a,{inverted:a,floated:"left",as:"h3"},i.chapter.parent_division&&o.a.createElement(o.a.Fragment,null,o.a.createElement(we.a,{inline:!0,floating:!0,deburr:!0,scrolling:!0,search:G,options:(t=i.divisions,n=!function(e){var t=e.reduce((function(e,t){return t.full_title&&t.full_title.length>30?e+1:e}),0);return t>5||t===e.length}(t),r=function(e){return e.reduce((function(e,t){return/^([0-9]+|[IVX]+|[A-Z])$/i.test(t.descriptor)?e+1:e}),0)!==e.length}(t),t.map((function(e){return{key:e.description,text:$(e,n,r),value:e.descriptor}}))),value:i.chapter.parent_division.descriptor,onChange:function(e,t){return l(e,t)}}),o.a.createElement("div",{style:{display:"inline-block",paddingLeft:6}},i.chapter.type," ".concat(i.chapter.descriptor))))};gt.propTypes={data:l.a.shape({chapter:l.a.shape({descriptor:l.a.string,type:l.a.string,parent_division:l.a.shape({descriptor:l.a.string})}),divisions:l.a.arrayOf(l.a.shape({description:l.a.string,type:l.a.string,label:l.a.string}))}),onChangeChapter:l.a.func,inverted:l.a.bool},gt.defaultProps={data:null,onChangeChapter:null,inverted:!1};var vt=gt,bt=function(e){var t="";return e.inverted&&(t=" inverted"),o.a.createElement(he.a,{info:!0,className:t},o.a.createElement("p",null,"The URL you were using was old so you were redirected to the new one. You may want to update your shortcuts."))};bt.propTypes={inverted:l.a.bool},bt.defaultProps={inverted:!1};var yt=bt,wt=function(e){var t=e.inverted,n=e.warnings,r="";return t&&(r=" inverted"),o.a.createElement(o.a.Fragment,null,n.map((function(e){return o.a.createElement(he.a,{className:r,warning:!0,key:e[0],header:e[0],content:e[1]})})))};wt.propTypes={inverted:l.a.bool,warnings:l.a.arrayOf(l.a.string,l.a.string).isRequired},wt.defaultProps={inverted:!1};var kt=wt,Et=n(731),xt=function(e){var t=e.notes,n=e.onClose,r=e.x,a=e.y,i=e.positionBelow,l=e.positionRight,c=e.inverted;return o.a.createElement(Z.a,{onClose:n,inverted:c,x:r,y:a,positionBelow:i,positionRight:l},o.a.createElement("div",null,t.map((function(e,t){return o.a.createElement("div",{key:t},e)}))))};xt.propTypes={notes:l.a.arrayOf(l.a.string).isRequired,onClose:l.a.func.isRequired,x:l.a.number.isRequired,y:l.a.number.isRequired,positionBelow:l.a.bool,positionRight:l.a.bool,inverted:l.a.bool},xt.defaultProps={positionBelow:!0,positionRight:!0,inverted:!1};var St=xt,jt=n(368),_t=n(389),Ot=n(390),Ct=(n(799),function(e){var t=e.notes,n=e.onClose,r=e.onSelectNote,a=e.onCreateNewNote,i=e.topContent,l=e.isLoading;return o.a.createElement(I.a,{defaultOpen:!0,onClose:n},o.a.createElement(f.a,{content:"Notes"}),o.a.createElement(I.a.Content,null,i,o.a.createElement(Ot.a,{notes:t,isLoading:l,onSelectNote:r,onCreateNewNote:a})),o.a.createElement(I.a.Actions,null,o.a.createElement(N.a,{onClick:n},"Close")))});Ct.propTypes={notes:l.a.arrayOf(l.a.object),onClose:l.a.func.isRequired,onSelectNote:l.a.func.isRequired,onCreateNewNote:l.a.func.isRequired,topContent:l.a.element,isLoading:l.a.bool},Ct.defaultProps={topContent:null,isLoading:!1,notes:null};var At=Ct,Rt=n(71);function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pt=function(e){var t=e.onClose,n=e.work,a=e.division,i=Tt(Object(r.useState)(null),2),l=i[0],c=i[1],u=Tt(Object(r.useState)(null),2),s=u[0],d=u[1],f=Tt(Object(r.useState)(!1),2),p=f[0],h=f[1],m=Tt(Object(r.useState)(null),2),g=m[0],v=m[1],b=Tt(Object(r.useState)(null),2),y=b[0],w=b[1],k=Tt(Object(r.useState)(!1),2),E=k[0],x=k[1],S=function(){x(!0),Object(Rt.c)({onSuccess:function(e){w(e),x(!1)},onError:function(e){c(e),x(!1)},work:n,division:a.join("/"),includeRelated:!0})},j=function(){h(!1),v(null),d(null)};Object(r.useEffect)((function(){S()}),[]);var _=0;l||(!0===p?_=2:g&&(_=1));var O=null;return l?O=o.a.createElement(W.a,{title:"Error",description:"Unable to communicate with the server",message:l}):s&&(O=o.a.createElement(he.a,{positive:!0},s)),o.a.createElement(o.a.Fragment,null,0===_&&o.a.createElement(o.a.Fragment,null,o.a.createElement(At,{notes:y,work:n,division:a,onClose:t,onSelectNote:function(e){v(e),d(null)},onCreateNewNote:function(){h(!0),v(null)},topContent:O,isLoading:E})),2===_&&o.a.createElement(jt.a,{note:g,work:n,division:a,onClose:t,onCancel:j,onSave:function(e,t){h(!1),v(null),d(t?"Note successfully created":"Note successfully edited"),S()}}),1===_&&o.a.createElement(_t.a,{note:g,onClose:t,onEdit:function(){h(!0)},onCancel:j,onDelete:function(e){var t;t=e.id,!0===confirm("Are you sure you want to delete this note?")&&Object(Rt.a)({onSuccess:function(){S(),v(null),h(!1),d("Note successfully deleted")},onError:function(e){c(e)},noteId:t})}}))};Pt.propTypes={onClose:l.a.func.isRequired,work:l.a.string.isRequired,division:l.a.arrayOf(l.a.string).isRequired};var Nt=Pt;function Wt(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dt=function(e){var t=e.data,n=e.onClose,a=e.x,i=e.y,l=e.positionBelow,c=e.positionRight,u=e.inverted,s=e.contextType,d=e.contextData,f=e.history,p=o.a.useContext(lt),h=p.features,g=p.authentication,v=Ft(Object(r.useState)(!1),2),b=v[0],y=v[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[t.chapter.descriptor];return Object.prototype.hasOwnProperty.call(t.chapter,"parent_division")&&t.chapter.parent_division&&t.chapter.parent_division.descriptor&&n.splice(0,0,t.chapter.parent_division.descriptor),e&&n.push(e),n},k=function(){fetch(m.u.apply(void 0,[t.work.title_slug].concat(Wt(w(d.verse))))).then((function(e){return e.json()})).then((function(e){navigator.clipboard.writeText(e),n()}))},E=function(){fetch(m.u.apply(void 0,[t.work.title_slug].concat(Wt(w())))).then((function(e){return e.json()})).then((function(e){navigator.clipboard.writeText(e),n()}))},x=function(){void 0!==d.verse?navigator.clipboard.writeText("".concat(window.location.protocol,"//").concat(window.location.host).concat(O.f.apply(void 0,[t.work.title_slug,null].concat(Wt(w(d.verse)))))):navigator.clipboard.writeText("".concat(window.location.protocol,"//").concat(window.location.host).concat(O.f.apply(void 0,[t.work.title_slug,null].concat(Wt(w()))))),n()},S=function(){y(!0)},j=function(){f.push(Object(O.g)(d.word)),n()},_=function(){f.push(Object(O.g)("work:".concat(t.work.title_slug," ").concat(d.word))),n()},C=function(){var e=[];return e.push(o.a.createElement(We.a.Item,{name:"chapter_clipboard",onClick:E,key:"chapter_clipboard"},"Copy chapter")),1!==s&&0!==s||(d.verse&&e.push(o.a.createElement(We.a.Item,{name:"verse_clipboard",onClick:k,key:"verse_clipboard"},"Copy verse")),e.push(o.a.createElement(We.a.Item,{name:"link_clipboard",onClick:x,key:"link_clipboard"},"Copy link")),h.userNotesEnabled&&g.authenticated&&e.push(o.a.createElement(We.a.Item,{name:"create_user_note",onClick:S,key:"create_user_note"},"View or create notes"))),0===s&&(e.push(o.a.createElement(We.a.Item,{name:"search_this_work",onClick:_,key:"search_this_work"},"Search for this word in this work")),e.push(o.a.createElement(We.a.Item,{name:"search_all_works",onClick:j,key:"search_all_works"},"Search for this word in all works"))),e}(),A=16+43*C.length;return b?o.a.createElement(Nt,{onClose:n,work:t.work.title_slug,division:w(d.verse)}):o.a.createElement(Z.a,{onClose:n,inverted:u,x:a,y:i,positionBelow:l,positionRight:c,width:250,maxHeight:A,frameless:!0},o.a.createElement("div",null,o.a.createElement(We.a,{style:{width:"100%"},inverted:u,vertical:!0},C)))};Dt.propTypes={data:l.a.object.isRequired,onClose:l.a.func.isRequired,x:l.a.number.isRequired,y:l.a.number.isRequired,positionBelow:l.a.bool,positionRight:l.a.bool,inverted:l.a.bool,contextType:l.a.number.isRequired,contextData:l.a.object.isRequired,history:l.a.object.isRequired},Dt.defaultProps={positionBelow:!0,positionRight:!0,inverted:!1};var zt=Object(a.h)(Dt),Mt=function(e){var t=e.modal,n=e.data,r=e.loading,a=e.selectedWord,i=e.popupX,l=e.popupY,c=e.popupPositionRight,u=e.popupPositionBelow,s=e.selectedNote,d=e.loadedWork,f=e.closeModal,p=e.searchState,h=e.inverted,m=e.popupContextData,g=o.a.useContext(lt).features;return o.a.createElement(o.a.Fragment,null,a&&!r&&"word"===t&&o.a.createElement(Et.a,{inverted:h,positionBelow:u,positionRight:c,x:i,y:l,word:a,work:d,onClose:function(){return f()},searchState:p}),s&&!r&&"footnote"===t&&o.a.createElement(St,{inverted:h,positionBelow:u,positionRight:c,x:i,y:l,notes:s,onClose:function(){return f()}}),n&&!r&&"context"===t&&g.contextMenuEnabled&&o.a.createElement(zt,{inverted:h,positionBelow:u,positionRight:c,x:i,y:l,data:n,onClose:function(){return f()},contextType:m.contextType,contextData:m.contextData}))};Mt.propTypes={modal:l.a.string.isRequired,data:l.a.object.isRequired,loading:l.a.bool,selectedWord:l.a.string,popupX:l.a.number.isRequired,popupY:l.a.number.isRequired,popupPositionRight:l.a.bool.isRequired,popupPositionBelow:l.a.bool.isRequired,selectedNote:l.a.string,loadedWork:l.a.string,closeModal:l.a.func.isRequired,searchState:l.a.object,inverted:l.a.bool.isRequired,popupContextData:l.a.object.isRequired},Mt.defaultProps={loading:!1,searchState:{},selectedNote:"",selectedWord:"",loadedWork:null};var Bt=Mt;function Vt(e){return function(e){if(Array.isArray(e))return $t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||Ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){if(e){if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(e,t):void 0}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gt={paddingTop:0},Jt={height:"calc(100vh - 60px)",marginTop:0},Yt=Object(h.a)((function(e){return fetch(Object(m.o)(e))}),500),Xt=function(e){e&&Object(R.f)("verse-link_".concat(e))},Kt=function(e){return new URLSearchParams(e.search).get("parallel")},Zt=function(e){var t=e.inverted,n=e.location,a=e.history,i=e.match,l=e.highlightRelatedForms,h=Ut(Object(r.useState)(null),2),v=h[0],b=h[1],y=Ut(Object(r.useState)(null),2),w=y[0],k=y[1],E=Ut(Object(r.useState)(null),2),x=E[0],S=E[1],A=Ut(Object(r.useState)(null),2),T=A[0],I=A[1],P=Ut(Object(r.useState)(null),2),N=P[0],F=P[1],q=Ut(Object(r.useState)(null),2),L=q[0],z=q[1],M=Ut(Object(r.useState)(null),2),B=M[0],V=M[1],U=Ut(Object(r.useState)(!1),2),$=U[0],G=U[1],Y=Ut(Object(r.useState)(null),2),X=Y[0],K=Y[1],Z=Ut(Object(r.useState)(null),2),Q=Z[0],ee=Z[1],te=Ut(Object(r.useState)(null),2),ne=te[0],re=te[1],oe=Ut(Object(r.useState)(null),2),ae=oe[0],ie=oe[1],le=Ut(Object(r.useState)(null),2),ue=le[0],se=le[1],de=Ut(Object(r.useState)(null),2),fe=de[0],he=de[1],me=Ut(Object(r.useState)([]),2),ve=me[0],be=me[1],ye=Ut(Object(r.useState)(null),2),we=ye[0],Ee=ye[1],xe=Ut(Object(r.useState)(null),2),Se=xe[0],je=xe[1],_e=Ut(Object(r.useState)(null),2),Oe=_e[0],Ce=_e[1],Ae=Ut(Object(r.useState)(null),2),Re=Ae[0],Ie=Ae[1],Pe=Ut(Object(r.useState)(null),2),We=Pe[0],Fe=Pe[1],Le=Ut(Object(r.useState)(null),2),De=Le[0],ze=Le[1],Me=Ut(Object(r.useState)(null),2),Be=Me[0],Ve=Me[1],Ue=Ut(Object(r.useState)(null),2),He=Ue[0],$e=Ue[1],Ge=Ut(Object(r.useState)(null),2),Je=Ge[0],Ye=Ge[1],Xe=Ut(Object(r.useState)(!1),2),Ke=Xe[0],Ze=Xe[1],Qe=Ut(Object(r.useState)(null),2),et=Qe[0],tt=Qe[1],nt=Ut(Object(r.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||localStorage,n=t.getItem(g.c)||0;if(n>4||n<0)return 4;try{var r=parseInt(n,10);return Number.isNaN(r)?4:r}catch(e){return 4}}()),2),rt=nt[0],ot=nt[1],at=Ut(Object(r.useState)(null),2),it=at[0],ct=at[1],ut=Object(r.useRef)([]),st=Object(r.useRef)(null),dt=o.a.useContext(lt),ft=dt.authentication,pt=dt.storageProvider,ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;re(n),K(t),ee(e)},gt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&($e(e),Ye(null),tt(null),fetch(m.g.apply(void 0,[e].concat(n))).then((function(e){return Promise.all([e.status,e.json()])})).then((function(t){var r=Ut(t,2),o=r[0],a=r[1];o>=200&&o<300?($e(e),Ye(a),tt(a.work.title),Ze(210===o),fe&&Xt(fe),j(e,n,a.reference_descriptor,pt)):ht("Work could not be found","Yikes. The given work is not recognized as a valid work.")})).catch((function(e){ht("Unable to load the content","The given chapter could not be loaded from the server",e.toString())})))},bt=function(e,t){for(var r=Kt(n),o=arguments.length,i=new Array(o>2?o-2:0),l=2;l<o;l++)i[l-2]=arguments[l];var c=O.f.apply(void 0,[e,null].concat(i));return(c!==n.pathname||r!==t)&&(t?a.push({pathname:c,search:Object(C.c)(t)}):a.push(c),!0)},wt=function(){$e(null),Ye(null),T?bt.apply(void 0,[L,null].concat(Vt(T))):bt(L)},Et=function(e,t,n,r){ut.current[e]={chapter:t,verse:n,newReferenceValue:r}},xt=function(e,t,n,r){Et(r,w.chapter.full_descriptor,t,e),Object(R.f)(n),F(e),He?a.push("".concat(r).concat(Object(C.c)(He))):a.push(r)},St=function(e,t,n){var r=n.substr("secondWork-".length),o=document.getElementById(r);o&&xt(e,t,n,o.attributes.href.value)},jt=function(e,t,n,r,o,a){Ee(e),je(t),Ce(n),Ie(r),Fe(o),ze(a),b("word"),l&&Yt(e).then((function(e){return e.json()})).then((function(t){if(t.forms.length>1){var n=t.forms.slice();n.splice(0,0,e),be(n)}}))},_t=function(e,t,n,r,o,a,i,l,c){Ee(null),je(e),Ce(t),Ie(n),Fe(r),ze(o),st.current={content:a,contextType:i,contextData:l,event:c},b("context")},Ot=function(e,t,n,r,o,a){Ve(e),je(n),Ce(r),Ie(o),Fe(a),b("footnote")},Ct=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!e)return V(!1),b(null),ee(null),re(null),K(null),ie(null),se(null),he(null),k(null),S(null),z(null),I(null),void F(null);S(!0),V(!1),b(null),ee(null),re(null),K(null),ie(null),se(null),he(null),He&&gt.apply(void 0,[He].concat(n)),fetch(m.g.apply(void 0,[e].concat(n))).then((function(e){return Promise.all([e.status,e.json()])})).then((function(t){var r=Ut(t,2),o=r[0],a=r[1];if(o>=200&&o<300){var i=null,l=null;a.work.title_slug!==e&&(i=O.f.apply(void 0,[e,null].concat(n)),l=O.f.apply(void 0,[a.work.title_slug,null].concat(n))),z(a.work.title_slug),I(n),F(a.reference_descriptor),ie(i),se(l),he(a.verse_to_highlight),k(a),S(!1),j(e,n,a.reference_descriptor,pt),Et(O.f.apply(void 0,[e,null].concat(n)),a.chapter.full_descriptor,a.verse_to_highlight,a.chapter.description),Xt(a.verse_to_highlight),ae&&bt.apply(void 0,[a.work.title_slug,He].concat(n))}else ht("Work could not be found","Yikes. The given work is not recognized as a valid work.")})).catch((function(e){ht("Unable to load the content","The given chapter could not be loaded from the server",e.toString())}))},At=Object(r.useRef)();Object(r.useEffect)((function(){var e=[i.params.division0,i.params.division1,i.params.division2,i.params.division3,i.params.division4,i.params.leftovers].filter((function(e){return e})),t=He===Kt(n),r=ut.current[n.pathname],o=!1;if(w&&r&&L&&r.chapter===w.chapter.full_descriptor&&L===i.params.work&&(o=!0),o&&t){var a=r.verse;fe!==a&&(a&&he(a),N||F(r.referenceValue))}else{if(n.pathname!==At.current&&ue!==n.pathname)return Ct.apply(void 0,[i.params.work].concat(Vt(e))),void(At.current=n.pathname);At.current=n.pathname,t||(Kt(n)?gt.apply(void 0,[Kt(n)].concat(Vt(e))):($e(null),Ye(null)))}})),Object(r.useEffect)((function(){w&&Object(Rt.d)({onSuccess:function(e){return ct(e)},work:L,division:w.chapter.full_descriptor,includeRelated:!0})}),[w]);var Tt="",It=N;w&&(Tt=w.chapter.description,""===N&&(It=Tt));var Pt="";t&&(Pt=" inverted");var Nt=ke.c;Nt=w&&!x?ke.a:Q?ke.b:i.params&&i.params.work&&!w||x&&!Q?ke.c:ke.d;var Wt=w&&w.related_works?w.related_works:[],Ft=w&&w.authors?w.authors.map((function(e){return e.name})):null;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"buffer",style:{height:54,width:"100%"}}),o.a.createElement(mt,{inverted:t,relatedWorks:Wt,authors:Ft,loadedWork:L,toggleSidebarVisible:function(){return G(!$)},onSelectWork:function(e){return function(e){var t=!1;w&&w.related_works&&(t=w.related_works.find((function(t){return t.title_slug===e}))),t&&e!==L?(V(!1),gt.apply(void 0,[e].concat(Vt(T))),a.push({pathname:n.pathname,search:Object(C.c)(e)})):(wt(),bt(e))}(e)},setBookSelectionOpen:function(e){return V(e)},bookSelectionOpen:B,goToReference:function(e,t,n){return function(e,t,n){e&&N&&(I(n.divisions),Xt(n.verse_to_highlight),he(n.verse_to_highlight),F(t),bt.apply(void 0,[e,He].concat(Vt(n.divisions))))}(e,t,n)},openAboutModal:function(){return b("about")},openLoginModal:function(){return b("login")},goToPriorChapter:x?null:function(){w&&w.previous_chapter&&bt(L,He,w.previous_chapter.full_descriptor)},goToNextChapter:x?null:function(){w&&w.next_chapter&&bt(L,He,w.next_chapter.full_descriptor)},referenceValue:It,hasNextChapter:!x&&w&&null!==w.next_chapter,hasPriorChapter:!x&&w&&null!==w.previous_chapter,nextChapterDescriptor:w&&w.previous_chapter&&w.previous_chapter.full_descriptor,previousChapterDescriptor:w&&w.next_chapter&&w.next_chapter.full_descriptor,decreaseFontSize:!x&&w?function(){rt>0&&(_(rt-1),ot(rt-1))}:null,increaseFontSize:!x&&w?function(){rt<4&&(_(rt+1),ot(rt+1))}:null,increaseFontSizeDisabled:rt>=4,decreaseFontSizeDisabled:rt<=0,storageProvider:pt}),Nt===ke.a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(qe,{sidebarVisible:$,work:L,openWorkInfoModal:function(){return b("aboutWork")},openDownloadModal:function(){return b("downloadWork")},openSearch:function(){return function(e,t,n,r){var o="work:".concat(e);t&&(o+=" OR work:".concat(t)),n&&n.length>0&&(o+=' section:"'.concat(n[0],'"')),r.push(Object(O.g)(o),{work:e,secondWork:t,divisions:n})}(L,He,T,a)},setSidebarVisible:function(){return G()}}),o.a.createElement(c.a.Pushable,{as:u.a,basic:!0,style:Jt,className:"".concat(Pt)},o.a.createElement(c.a.Pusher,null,o.a.createElement(s.a,{className:"underMenu ".concat(Pt)},function(e,t,n,r,a){return o.a.createElement(o.a.Fragment,null,t&&!n&&"aboutWork"===e&&o.a.createElement(D,{work:r,onClose:function(){return a()}}),t&&!n&&"downloadWork"===e&&o.a.createElement(H,{work:r,onClose:function(){return a()}}))}(v,w,x,L,(function(){return b(null)})),v&&o.a.createElement(Bt,{modal:v,data:(null==De?void 0:De.title_slug)===L?w:Je,loading:x,selectedWord:we,popupX:Se,popupY:Oe,popupPositionRight:Re,popupPositionBelow:We,selectedNote:Be,popupWork:De,closeModal:function(){return b(null)},searchState:{work:L,secondWork:He,divisions:T},inverted:t,popupContextData:st.current}),o.a.createElement(d.a,{inverted:t},o.a.createElement(d.a.Row,null,o.a.createElement(d.a.Column,{width:8},o.a.createElement(vt,{inverted:t,data:w,onChangeChapter:function(e,t){return function(e,t){bt(L,He,t.value)}(0,t)}})),o.a.createElement(d.a.Column,{width:8},o.a.createElement(s.a,{textAlign:"right"},o.a.createElement(f.a,{inverted:t,floated:"right",as:"h3"},w.work.title,He&&et&&o.a.createElement(o.a.Fragment,null," / ",et,o.a.createElement(p.a,{title:"Close ".concat(et),size:"mini",style:{cursor:"pointer",fontSize:13,paddingLeft:8},inverted:t,name:"close",onClick:function(){return wt()}}))))))),o.a.createElement("div",{style:{marginTop:6}}),w&&o.a.createElement(kt,{warnings:w.warnings}),ae&&o.a.createElement(yt,{inverted:t}),o.a.createElement(Ne,{data:w}),!He&&o.a.createElement(ce,{chapter:w.chapter,content:w.content,work:w.work,onVerseClick:xt,onWordClick:function(e,t,n,r,o){jt(e,t,n,r,o,L)},onNoteClick:Ot,onContextClick:function(e,t,n,r,o,a,i,l){_t(e,t,n,r,w.work,o,a,i,l)},onClickAway:function(){return b(null)},highlightedVerse:fe,inverted:t,fontSizeAdjustment:rt,highlightedWords:ve,notesMetaData:it}),He&&o.a.createElement(d.a,{divided:"vertically"},o.a.createElement(d.a.Row,{columns:2},o.a.createElement(d.a.Column,null,o.a.createElement(ce,{chapter:w.chapter,content:w.content,work:w.work,onVerseClick:xt,onWordClick:function(e,t,n,r,o){jt(e,t,n,r,o,L)},onNoteClick:Ot,onContextClick:function(e,t,n,r,o,a,i,l){_t(e,t,n,r,w.work,o,a,i,l)},onClickAway:function(){return b(null)},highlightedVerse:fe,inverted:t,fontSizeAdjustment:rt,highlightedWords:ve,notesMetaData:it})),o.a.createElement(d.a.Column,null,Je&&!Ke&&o.a.createElement(ce,{chapter:Je.chapter,content:Je.content,work:Je.work,onVerseClick:function(e,t,n,r){return St(e,t,n)},onWordClick:function(e,t,n,r,o){jt(e,t,n,r,o,He)},onNoteClick:Ot,onContextClick:function(e,t,n,r,o,a,i,l){_t(e,t,n,r,Je.work,o,a,i,l)},onClickAway:function(){return b(null)},highlightedVerse:fe,inverted:t,verseIdentifierPrefix:"secondWork-",fontSizeAdjustment:rt,highlightedWords:ve,notesMetaData:it}),Je&&Ke&&o.a.createElement(kt,{inverted:t,warnings:[["Chapter not found","The given chapter does not exist in ".concat(et)]]}),!Je&&!Ke&&J(t)))))))),Nt===ke.b&&o.a.createElement(s.a,{style:Gt,className:"".concat(Pt)},o.a.createElement(W.a,{inverted:t,title:Q,description:X,message:ne})),Nt===ke.c&&o.a.createElement(s.a,{style:Gt,className:"".concat(Pt)},J(t)),Nt===ke.d&&o.a.createElement(s.a,{style:Gt,className:"".concat(Pt)},o.a.createElement("div",{style:{paddingTop:24}},o.a.createElement(ge,{onClick:function(){return V(!0)},inverted:t}),ft.authLoadingDone&&o.a.createElement(Te,{inverted:t,storageProvider:pt}))),"about"===v&&o.a.createElement(pe,{onClose:function(){return b(null)}}))};Zt.propTypes={inverted:l.a.bool,location:l.a.object.isRequired,history:l.a.object.isRequired,match:l.a.object.isRequired,highlightRelatedForms:l.a.bool},Zt.defaultProps={inverted:!1,highlightRelatedForms:!1};var Qt=Object(a.h)(Zt),en=function(e){var t=e.inverted;return o.a.createElement(ct,null,o.a.createElement(Qt,{inverted:t}))};en.propTypes={inverted:l.a.bool},en.defaultProps={inverted:!1};t.default=Object(a.h)(en)}}]);
//# sourceMappingURL=3.js.map