{"version":3,"sources":["webpack:///./src/components/Utils/index.jsx","webpack:///./src/components/URLs/BasePaths.jsx","webpack:///./src/components/URLs/index.jsx","webpack:///./src/components/Endpoints/index.js","webpack:///./src/components/URLs/Parameters.jsx","webpack:///./src/components/ErrorMessage/index.jsx","webpack:///./src/components/FullscreenDialog/index.jsx","webpack:///./src/components/Search/index.scss?3245","webpack:///./src/components/Search/index.scss","webpack:///./src/components/Charts/BarChart.jsx","webpack:///./src/components/Search/SearchResults.jsx","webpack:///./src/components/Search/SearchHelp.jsx","webpack:///./src/components/Search/index.jsx"],"names":["toTitleCase","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","truncate","maxLength","length","substring","addHandler","handler","type","window","addEventListener","removeHandler","removeEventListener","getAbsolutePosition","element","r","x","offsetLeft","y","offsetTop","offsetParent","tmp","scrollToTarget","id","elmnt","document","getElementById","scrollIntoView","behavior","block","inline","indexOfNoDiacritic","array","word","findIndex","str1","localeCompare","undefined","sensitivity","appendLeadingQuestionMark","url","appendAmpersand","params","START_PAGE","BETA_CODE_CONVERT","READ_WORK","work","secondWork","divisionReference","divisions","divisionsFiltered","filter","entry","join","PARAMS_READ_WORK","SEARCH","q","ignoreDiacritics","searchRelatedForms","page","PARAMS_SEARCH","GOOGLE_SEARCH","PARAMS_GOOGLE_SEARCH","PERSEUS_WORD_LOOKUP","PARAMS_PERSEUS_WORD_LOOKUP","LOGEION_WORD_LOOKUP","config","getHostConfig","origin","location","hostname","ENDPOINT_READ_WORK","ENDPOINT_WORK_INFO","ENDPOINT_WORK_IMAGE","width","ENDPOINT_WORK_DOWNLOAD","format","ENDPOINT_RESOLVE_REFERENCE","reference","ENDPOINT_WORD_PARSE","ENDPOINT_WORD_FORMS","ENDPOINT_WORKS_LISTS","ENDPOINT_VERSION_INFO","ENDPOINT_SOCIAL_LOGIN","ENDPOINT_SEARCH","query","relatedForms","download","pagelen","relatedFormsConverted","ignoreDiacriticsConverted","encodeURIComponent","ENDPOINT_CONVERT_BETA_CODE_QUERY","parallelWork","ErrorMessage","title","description","message","inverted","color","as","style","marginBottom","propTypes","PropTypes","string","isRequired","bool","defaultProps","BackButtonStyle","display","fontSize","textAlign","BackLinkStyle","cursor","TitleStyle","verticalAlign","paddingLeft","ContentStyle","marginTop","FullscreenDialog","children","onClickBack","backTitle","compact","onClick","name","corner","fitted","object","func","api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_API_IMPORT___","push","InvertedColors","fill","background","lineColor","tickColor","text","NormalColors","BarChart","results","noDataMessage","categories","data","Object","entries","map","key","value","colors","chart","backgroundColor","legend","enabled","xAxis","labels","yAxis","min","align","overflow","plotOptions","bar","dataLabels","credits","series","highcharts","Highcharts","shape","number","SearchResults","lastPage","goBack","goNext","matchCount","resultCount","renderHighlights","highlights","className","dangerouslySetInnerHTML","__html","Table","celled","collapsing","result","Row","Cell","href","Button","Group","attached","active","Segment","padding","arrayOf","SearchHelp","preformattedStyle","marginLeft","fontFamily","exampleStyle","useState","activeIndex","setActiveIndex","handleClick","e","titleProps","index","Accordion","Title","Icon","Content","Message","info","Header","HeaderCell","Body","CheckboxStyle","marginRight","DownloadLinkStyle","downloadOptions","getParamOrDefault","searchParams","paramName","defaultValue","convertFormat","paramValue","get","parseInt","Search","history","queryParams","URLSearchParams","useLocation","search","setQuery","resultSet","setResultSet","error","setError","setIgnoreDiacritics","setSearchRelatedForms","searching","setSearching","setPage","searchedKey","setSearchedKey","linkBackURL","setLinkBackURL","searchCount","useRef","Math","ceil","result_count","doSearch","requestedPage","selectedPage","diacritics","state","useEffect","current","searchCountLocal","fetch","then","res","json","toString","executeSearch","mode","classNameSuffix","panes","menuItem","render","downloadUrl","downloadResults","filetype","open","Tab","Pane","icon","loading","match_count","Dropdown","button","Menu","downloadOption","Item","searchResultsByMode","keys","matched_terms","matched_works","matched_sections","Container","Input","action","basic","placeholder","onChange","d","onKeyPress","Checkbox","label","checked","withRouter"],"mappings":"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","file":"7.bundle.js","sourcesContent":["export function toTitleCase(str) {\n  return str.replace(/\\w\\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\n}\n\nexport function truncate(str, maxLength) {\n    return str.length > maxLength ? `${str.substring(0, (maxLength-3))}...` : str;\n}\n\nexport function addHandler(handler, type = 'click') {\n  window.addEventListener(type, handler);\n}\n\nexport function removeHandler(handler, type = 'click') {\n  window.removeEventListener(type, handler);\n}\n\nexport function getAbsolutePosition(element) {\n  const r = { x: element.offsetLeft, y: element.offsetTop };\n  if (element.offsetParent) {\n    const tmp = getAbsolutePosition(element.offsetParent);\n    r.x += tmp.x;\n    r.y += tmp.y;\n  }\n  return r;\n};\n\nexport function scrollToTargetAdjusted(id, offset=45){\n  const element = document.getElementById(id);\n  const elementPosition = element.getBoundingClientRect().top;\n  const offsetPosition = elementPosition - offset;\n\n  window.scrollTo({\n       top: offsetPosition,\n       behavior: \"smooth\"\n  });\n}\n\nexport function scrollToTarget(id){\n  const elmnt = document.getElementById(id);\n  if(elmnt) {\n    elmnt.scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"nearest\"});\n  }\n}\n\nexport function indexOfNoDiacritic(array, word){\n  const comparer = str1 => {\n    if(str1) {\n      // Note: zero means they are equivalent\n      return str1.localeCompare(word, undefined, { sensitivity: 'base' }) === 0;\n    }\n    return false;\n  };\n\n  // const comparer = str1 => str1 === word;\n  return array.findIndex(comparer);\n}\n\n/**\n * Append a leading question mark if necessary.\n * @param {string} url \n * @returns \n */\n export function appendLeadingQuestionMark(url) {\n  return url.length === 0 ? url : `?${url}`;\n}\n\n/**\n * Append an ampersand if necessary if the URL already has at least one argument.\n * @param {*} url The URL that is going to be appended to.\n * @param {*} params The parameters that you want to append.\n * @returns The parameter with an ampersand if necessary.\n */\nexport function appendAmpersand(url, params) {\n  return url.length > 0 ? `&${params}` : params;\n}\n","/**\n * This includes the base paths for various URLs. These are broken out so that people can create references tp the paths using history where the parameters are transmitted to history.pushState via the search argument.\n */\nexport const BASE_PATH_START_PAGE = \"/\";\nexport const BASE_PATH_BETA_CODE_CONVERT = \"/beta_code_converter\";\nexport const BASE_PATH_READ_WORK = \"/work\";\nexport const BASE_PATH_SEARCH = \"/search\";\n\nexport const BASE_PATH_GOOGLE_SEARCH = \"https://www.google.com/search\";\nexport const BASE_PATH_PERSEUS_WORD_LOOKUP =\n  \"http://www.perseus.tufts.edu/hopper/morph\";\nexport const BASE_PATH_LOGEION_WORD_LOOKUP = \"https://logeion.uchicago.edu\";\n","/**\n * This page provides helper functions for creating URLs for the website.\n */\n\nimport { BASE_PATH_START_PAGE, BASE_PATH_BETA_CODE_CONVERT, BASE_PATH_READ_WORK, BASE_PATH_SEARCH, BASE_PATH_GOOGLE_SEARCH, BASE_PATH_PERSEUS_WORD_LOOKUP, BASE_PATH_LOGEION_WORD_LOOKUP } from \"./BasePaths\";\nimport { PARAMS_SEARCH, PARAMS_GOOGLE_SEARCH, PARAMS_PERSEUS_WORD_LOOKUP, PARAMS_READ_WORK } from \"./Parameters\";\n\nexport function START_PAGE() {\n  return BASE_PATH_START_PAGE;\n}\n\nexport function BETA_CODE_CONVERT() {\n  return BASE_PATH_BETA_CODE_CONVERT;\n}\n\nexport function READ_WORK(work = '', secondWork = null, ...divisions) {\n  let divisionReference = '';\n\n  const divisionsFiltered = divisions.filter((entry) => entry);\n\n  if (divisions.length > 0 && work) {\n    divisionReference = divisionsFiltered.join('/');\n    return `${BASE_PATH_READ_WORK}/${work}/${divisionReference}${PARAMS_READ_WORK(secondWork)}`;\n  }\n\n  return `${BASE_PATH_READ_WORK}/${work}`;\n}\n\nexport function SEARCH(\n  q = '',\n  ignoreDiacritics = false,\n  searchRelatedForms = false,\n  page = '',\n) {\n  return `${BASE_PATH_SEARCH}${PARAMS_SEARCH(q, ignoreDiacritics, searchRelatedForms, page)}`;\n}\n\nexport function GOOGLE_SEARCH(q = '') {\n  return `${BASE_PATH_GOOGLE_SEARCH}${PARAMS_GOOGLE_SEARCH(q)}`;\n}\n\nexport function PERSEUS_WORD_LOOKUP(word = '') {\n  return `${BASE_PATH_PERSEUS_WORD_LOOKUP}${PARAMS_PERSEUS_WORD_LOOKUP(word)}`;\n}\n\nexport function LOGEION_WORD_LOOKUP(word = '') {\n  return `${BASE_PATH_LOGEION_WORD_LOOKUP}/${word}`;\n}\n","\n/**\n * The following provides a way to map REST calls to another service (for development).\n */\n import { appendAmpersand } from '../Utils';\n \nconst config = {\n  // localhost: 'http://localhost:8080',\n};\n\n/**\n * This function determines what host to use for REST calls based on the hostname.\n * @param {*} origin The host to find the REST call domain for\n */\nexport function getHostConfig(origin = window.location.hostname) {\n  if (origin in config) {\n    return config[origin];\n  }\n\n  return '';\n}\n\nexport function ENDPOINT_READ_WORK(work = '', ...divisions) {\n\n  let divisionReference = '';\n\n  if (divisions.length > 0 && work) {\n    divisionReference = divisions.join('/');\n    return `${getHostConfig()}/api/work/${work}/${divisionReference}`;\n  }\n\n  return `${getHostConfig()}/api/work/${work}`;\n}\n\nexport function ENDPOINT_WORK_INFO(work) {\n  return `${getHostConfig()}/api/work_info/${work}`;\n}\n\nexport function ENDPOINT_WORK_IMAGE(work, width = 100) {\n  return `${getHostConfig()}/api/work_image/${work}?width=${width}`;\n}\n\nexport function ENDPOINT_WORK_DOWNLOAD(work, format = 'epub') {\n  return `${getHostConfig()}/api/download/work/${work}?format=${format}`;\n}\n\nexport function ENDPOINT_RESOLVE_REFERENCE(work, reference) {\n  return `${getHostConfig()}/api/resolve_reference/?work=${work}&ref=${reference}`;\n}\n\nexport function ENDPOINT_WIKI_INFO(search, search2 = null, search3 = null) {\n  const searchParams = [search, search2, search3].filter((e) => e != null);\n  return `${getHostConfig()}/api/wikipedia_info/${searchParams.join('/')}`;\n}\n\nexport function ENDPOINT_WORD_PARSE(word) {\n  return `${getHostConfig()}/api/word_parse/${word}`;\n}\n\nexport function ENDPOINT_WORD_FORMS(word) {\n  return `${getHostConfig()}/api/word_forms/${word}`;\n}\n\nexport function ENDPOINT_WORKS_LISTS() {\n  return `${getHostConfig()}/api/works`;\n}\n\nexport function ENDPOINT_VERSION_INFO() {\n  return `${getHostConfig()}/api/version_info`;\n}\n\nexport function ENDPOINT_SOCIAL_LOGIN() {\n  return `${getHostConfig()}/api/social_auth`;\n}\n\nexport function ENDPOINT_SEARCH(query, page = 1, relatedForms = false, ignoreDiacritics = false, download = null, pagelen = null) {\n  let relatedFormsConverted = 0;\n  if (relatedForms) {\n    relatedFormsConverted = 1;\n  }\n\n  let ignoreDiacriticsConverted = 0;\n  if (ignoreDiacritics) {\n    ignoreDiacriticsConverted = 1;\n  }\n\n  let url = '';\n\n  if (page) {\n    url += appendAmpersand(url, `page=${page}`);\n  }\n\n  if (pagelen) {\n    url += appendAmpersand(url, `pagelen=${pagelen}`);\n  }\n\n  url += appendAmpersand(url, `ignore_diacritics=${ignoreDiacriticsConverted}`);\n  url += appendAmpersand(url, `related_forms=${relatedFormsConverted}`);\n\n  if (download) {\n    url += appendAmpersand(url, `download=`);\n  }\n\n  return `${getHostConfig()}/api/search/${encodeURIComponent(query)}?${url}`;\n}\n\nexport function ENDPOINT_CONVERT_BETA_CODE_QUERY(query) {\n  return `${getHostConfig()}/api/convert_query_beta_code/?q=${query}`;\n}\n","/**\n * This contains the functions for making the URL parameters (that part past the ? in the URL).\n */\n\n import { appendAmpersand, appendLeadingQuestionMark } from '../Utils';\n\nexport function PARAMS_SEARCH(\n  q = \"\",\n  ignoreDiacritics = false,\n  searchRelatedForms = false,\n  page = \"\"\n) {\n  let url = \"\";\n\n  if (q) {\n    url += appendAmpersand(url, `q=${q}`);\n  }\n\n  if (page) {\n    url += appendAmpersand(url, `page=${page}`);\n  }\n\n  if (ignoreDiacritics) {\n    url += appendAmpersand(url, \"ignore_diacritics=1\");\n  }\n\n  if (searchRelatedForms) {\n    url += appendAmpersand(url, \"include_related=1\");\n  }\n\n\n  return appendLeadingQuestionMark(url)\n}\n\nexport function PARAMS_READ_WORK(\n  parallelWork = null,\n) {\n  let url = \"\";\n\n  if (parallelWork) {\n    url += appendAmpersand(url, `parallel=${parallelWork}`);\n  }\n\n  return appendLeadingQuestionMark(url)\n}\n\nexport function PARAMS_PERSEUS_WORD_LOOKUP(word = '') {\n  let url = \"\";\n\n  if (word) {\n    url += `l=${word}&la=greek`;\n  }\n\n  return appendLeadingQuestionMark(url)\n}\n\nexport function PARAMS_GOOGLE_SEARCH(q = '') {\n  let url = \"\";\n\n  if (q) {\n    url = `q=${q}`;\n  }\n\n  return appendLeadingQuestionMark(url)\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Header, Segment } from 'semantic-ui-react';\n\n/**\n * This class renders the content of chapter of a work.\n */\nfunction ErrorMessage({\n  title, description, message, inverted,\n}) {\n  return (\n    <Segment color=\"red\" inverted={inverted}>\n      <Header as=\"h3\">{title}</Header>\n      {description && (\n        description\n      )}\n      {message && description && (\n        <div style={{ marginBottom: 12 }} />\n      )}\n      { message }\n    </Segment>\n  );\n}\n\nErrorMessage.propTypes = {\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  message: PropTypes.string.isRequired,\n  inverted: PropTypes.bool,\n};\n\nErrorMessage.defaultProps = {\n  description: null,\n  inverted: false,\n};\n\nexport default ErrorMessage;\n","import React from 'react';\nimport {\n  Segment, Icon, Header, Divider, Container,\n} from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n\nconst BackButtonStyle = {\n  display: 'inline-block',\n  fontSize: 16,\n  textAlign: 'middle',\n};\n\nconst BackLinkStyle = {\n  cursor: 'pointer',\n  marginBottom: 0,\n};\n\nconst TitleStyle = {\n  display: 'inline-block',\n  fontSize: 12,\n  verticalAlign: 'top',\n  paddingLeft: 12,\n  color: 'white',\n};\n\nconst ContentStyle = {\n  marginTop: 0,\n};\n\nconst FullscreenDialog = ({\n  children, onClickBack, inverted, backTitle,\n}) => (\n  <Container>\n    <Segment compact style={BackLinkStyle} onClick={onClickBack} inverted={inverted}>\n      <div style={BackButtonStyle}>\n        <Icon name=\"arrow left\" corner=\"top left\" fitted />\n      </div>\n      <div style={TitleStyle}>\n        <Header inverted={inverted} as=\"h4\">{backTitle}</Header>\n      </div>\n    </Segment>\n    <Divider style={{ marginTop: 0 }} />\n    <Segment compact style={ContentStyle} inverted={inverted}>\n      {children}\n    </Segment>\n  </Container>\n);\n\nFullscreenDialog.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  children: PropTypes.object.isRequired,\n  inverted: PropTypes.bool,\n  onClickBack: PropTypes.func,\n  backTitle: PropTypes.string,\n};\n\nFullscreenDialog.defaultProps = {\n  inverted: false,\n  onClickBack: () => {},\n  backTitle: 'Back',\n};\n\nexport default FullscreenDialog;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"b.match{font-weight:bold}.term0{background-color:#e7e5f0}.term1{background-color:#d0e3fa}.term2{background-color:#d2ecfa}.term3{background-color:#d3cafa}.term4{background-color:#e9dbf8}.term5{background-color:#f7e5e0}.term6{background-color:#fad5ed}.term7{background-color:#d5f3f4}.term8{background-color:#f7cafa}.term9{background-color:#d2f6f4}.term10{background-color:#cfd9fa}.term11{background-color:#ebe5ec}.term12{background-color:#cef8f6}.term13{background-color:#f7e2e3}.term14{background-color:#eef7d7}.term15{background-color:#d8ddfa}.term16{background-color:#d1defa}.term17{background-color:#dbddfa}.term18{background-color:#cbf9f8}.term19{background-color:#edece3}.term20{background-color:#f3ddec}.term21{background-color:#f4f4d4}.term22{background-color:#d3cafa}.term23{background-color:#f0e3e9}.term24{background-color:#e6cafa}.term25{background-color:#f5d0f7}.term26{background-color:#f8ecd8}.term27{background-color:#eed1fa}.term28{background-color:#dfd8fa}.term29{background-color:#d5eafa}.term30{background-color:#cde2fa}.term31{background-color:#edd3fa}.term32{background-color:#f5cef9}.term33{background-color:#d1d8fa}.term34{background-color:#d3ecfa}.term35{background-color:#dcf6ea}.term36{background-color:#dff6e7}.term37{background-color:#ebf9d8}.term38{background-color:#e1cffa}.term39{background-color:#e8d6fa}.term40{background-color:#d5f3f4}.term41{background-color:#ede1ee}.term42{background-color:#f1deed}.term43{background-color:#dcf5eb}.term44{background-color:#f9d2f1}.term45{background-color:#f2ebdf}.term46{background-color:#e4d9fa}.term47{background-color:#dcf5eb}.term48{background-color:#e9efe4}.term49{background-color:#d9dbfa}.term50{background-color:#e3ccfa}.inverted>.term0{background-color:#8c3692}.inverted>.term1{background-color:#6b3d96}.inverted>.term2{background-color:#954c73}.inverted>.term3{background-color:#5e8670}.inverted>.term4{background-color:#386296}.inverted>.term5{background-color:#6a8a60}.inverted>.term6{background-color:#427296}.inverted>.term7{background-color:#847a56}.inverted>.term8{background-color:#405896}.inverted>.term9{background-color:#5c7682}.inverted>.term10{background-color:#7e4096}.inverted>.term11{background-color:#324e96}.inverted>.term12{background-color:#378296}.inverted>.term13{background-color:#2e4e96}.inverted>.term14{background-color:#465096}.inverted>.term15{background-color:#454c96}.inverted>.term16{background-color:#3c4996}.inverted>.term17{background-color:#6b9158}.inverted>.term18{background-color:#5f4a96}.inverted>.term19{background-color:#679459}.inverted>.term20{background-color:#2a4296}.inverted>.term21{background-color:#586f8d}.inverted>.term22{background-color:#632c96}.inverted>.term23{background-color:#7c3196}.inverted>.term24{background-color:#71855e}.inverted>.term25{background-color:#4c6696}.inverted>.term26{background-color:#414d96}.inverted>.term27{background-color:#61777c}.inverted>.term28{background-color:#8c5d6b}.inverted>.term29{background-color:#7c9048}.inverted>.term30{background-color:#70598b}.inverted>.term31{background-color:#783596}.inverted>.term32{background-color:#4b5596}.inverted>.term33{background-color:#777b62}.inverted>.term34{background-color:#2c9494}.inverted>.term35{background-color:#603e96}.inverted>.term36{background-color:#3b5b96}.inverted>.term37{background-color:#4d3e96}.inverted>.term38{background-color:#904e76}.inverted>.term39{background-color:#666b83}.inverted>.term40{background-color:#4d6096}.inverted>.term41{background-color:#585d96}.inverted>.term42{background-color:#70677d}.inverted>.term43{background-color:#794e8d}.inverted>.term44{background-color:#6e7373}.inverted>.term45{background-color:#296696}.inverted>.term46{background-color:#946957}.inverted>.term47{background-color:#587c80}.inverted>.term48{background-color:#8d6760}.inverted>.term49{background-color:#925e64}.inverted>.term50{background-color:#737c65}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\n\nconst InvertedColors = {\n  fill: '#006dcc',\n  background: '#2B2B2E',\n  lineColor: '#DDD',\n  tickColor: '#DDD',\n  text: '#DDD',\n};\n\nconst NormalColors = {\n  fill: '#006dcc',\n  background: '#FFF',\n  lineColor: '#000',\n  tickColor: '#000',\n  text: '#000',\n};\n\nfunction BarChart(\n  {\n    results, title, noDataMessage, width, inverted,\n  },\n) {\n  // Process the data into what the charting library expects\n  const categories = [];\n  let data = [];\n\n  if (results) {\n    data = Object.entries(results).map(([key, value]) => {\n      categories.push(key);\n      return value;\n    });\n  }\n\n  // Determine the color scheme\n  let colors = NormalColors;\n\n  if (inverted) {\n    colors = InvertedColors;\n  }\n\n  // Construct the options\n  const options = {\n    colors: [colors.fill],\n    chart: {\n      type: 'bar',\n      backgroundColor: colors.background,\n      width,\n    },\n    title: {\n      text: title,\n      style: { color: colors.text },\n    },\n    legend: {\n      enabled: false,\n    },\n    xAxis: {\n      categories,\n      title: {\n        text: null,\n      },\n      labels: {\n        style: { color: colors.text },\n      },\n      lineColor: colors.lineColor,\n      tickColor: colors.tickColor,\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: 'Count',\n        align: 'high',\n      },\n      labels: {\n        overflow: 'justify',\n        style: {\n          color: colors.text,\n        },\n      },\n    },\n    plotOptions: {\n      bar: {\n        dataLabels: {\n          enabled: false,\n        },\n      },\n    },\n    credits: {\n      enabled: false,\n    },\n    series: [\n      {\n        name: 'Count',\n        data,\n      },\n    ],\n  };\n\n  return (\n    <>\n      {data.length >= 0 && (\n        <HighchartsReact\n          highcharts={Highcharts}\n          options={options}\n        />\n      )}\n      {data.length === 0 && (\n        noDataMessage\n      )}\n    </>\n  );\n}\n\nBarChart.propTypes = {\n  results: PropTypes.shape({\n    title: PropTypes.string,\n    value: PropTypes.string,\n  }).isRequired,\n  title: PropTypes.string.isRequired,\n  noDataMessage: PropTypes.string,\n  width: PropTypes.number,\n  inverted: PropTypes.bool,\n};\n\nBarChart.defaultProps = {\n  noDataMessage: 'No data matched',\n  width: null,\n  inverted: false,\n};\n\nexport default BarChart;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Segment, Button, Table } from 'semantic-ui-react';\n\nfunction SearchResults({\n  results,\n  page,\n  lastPage,\n  goBack,\n  goNext,\n  matchCount,\n  resultCount,\n  inverted,\n  as,\n}) {\n  const renderHighlights = (highlights) => {\n    let className = '';\n    if (inverted) {\n      className = 'inverted';\n    }\n\n    // eslint-disable-next-line react/no-danger\n    return (<div className={className} dangerouslySetInnerHTML={{ __html: highlights }} />);\n  };\n\n  return (\n    <>\n      {as === 'table' && (\n        <>\n          <Table celled collapsing inverted={inverted}>\n            {results.map((result) => (\n              <Table.Row key={result.url}>\n                <Table.Cell>\n                  <strong>\n                    <a href={result.url}>\n                      {result.work}\n                      {' '}\n                      {result.description}\n                    </a>\n                  </strong>\n                </Table.Cell>\n                <Table.Cell>\n                  {renderHighlights(result.highlights)}\n                </Table.Cell>\n              </Table.Row>\n            ))}\n          </Table>\n          <Button.Group attached=\"bottom\">\n            <Button inverted={inverted} active={page <= 1} onClick={() => goBack()}>\n              Back\n            </Button>\n            <Button inverted={inverted} active={page >= lastPage} onClick={() => goNext()}>\n              Next\n            </Button>\n          </Button.Group>\n        </>\n      )}\n      {as === 'segment' && (\n        <Segment.Group>\n          {results.map((result) => (\n            <Segment style={{ padding: 8 }} inverted={inverted} key={result.url}>\n              <div>\n                <strong>\n                  <a href={result.url}>\n                    {result.work}\n                    {' '}\n                    {result.description}\n                  </a>\n                </strong>\n              </div>\n              {renderHighlights(result.highlights)}\n            </Segment>\n          ))}\n          <Button.Group attached=\"bottom\">\n            <Button inverted={inverted} active={page <= 1} onClick={() => goBack()}>\n              Back\n            </Button>\n            <Button inverted={inverted} active={page >= lastPage} onClick={() => goNext()}>\n              Next\n            </Button>\n          </Button.Group>\n        </Segment.Group>\n      )}\n      <div>\n        {'Page '}\n        {page}\n        {' of '}\n        {lastPage}\n        {' ('}\n        {matchCount}\n        {' word matches in '}\n        {resultCount}\n        {' verses)'}\n      </div>\n    </>\n  );\n}\n\nSearchResults.propTypes = {\n  results: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  matchCount: PropTypes.number.isRequired,\n  resultCount: PropTypes.number.isRequired,\n  page: PropTypes.number.isRequired,\n  lastPage: PropTypes.number.isRequired,\n  goBack: PropTypes.func.isRequired,\n  goNext: PropTypes.func.isRequired,\n  inverted: PropTypes.bool,\n  as: PropTypes.string,\n};\n\nSearchResults.defaultProps = {\n  inverted: false,\n  as: 'table',\n};\n\nexport default SearchResults;\n","import React, { useState } from 'react';\nimport {\n  Message, Accordion, Icon, Table,\n} from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\n\nfunction SearchHelp({ inverted }) {\n  const preformattedStyle = {\n    marginLeft: 32,\n    fontFamily: 'monospace',\n  };\n\n  const exampleStyle = {\n    marginTop: 10,\n  };\n\n  const [activeIndex, setActiveIndex] = useState(null);\n\n  const handleClick = (e, titleProps) => {\n    const { index } = titleProps;\n    const newIndex = activeIndex === index ? -1 : index;\n\n    setActiveIndex(newIndex);\n  };\n\n  let className = '';\n\n  if (inverted) {\n    className = 'inverted';\n  }\n\n  return (\n    <Accordion inverted={inverted}>\n      <Accordion.Title\n        active={activeIndex === 0}\n        index={0}\n        onClick={handleClick}\n      >\n        <Icon name=\"dropdown\" />\n        How do I search?\n      </Accordion.Title>\n      <Accordion.Content active={activeIndex === 0}>\n        The search language used by TextCritical.net allows several operations.\n        Here are some common ones:\n\n        <div style={exampleStyle}>\n          Search for verses with both ἱστορίας and νόμον:\n          <div style={preformattedStyle}>ἱστορίας νόμον</div>\n        </div>\n\n        <div style={exampleStyle}>\n          Search for verses with the phrase &quot;ἱστορίας νόμον&quot;:\n          <div style={preformattedStyle}>&quot;ἱστορίας νόμον&quot;</div>\n        </div>\n\n        <div style={exampleStyle}>\n          Search for verses with the word ἱστορίας or νόμον:\n          <div style={preformattedStyle}>ἱστορίας OR νόμον</div>\n        </div>\n\n        <div style={exampleStyle}>\n          Search for verses with the word συγγνώμην provided they do not include either ἱστορίας\n          or νόμον:\n          <div style={preformattedStyle}>συγγνώμην NOT (ἱστορίας OR νόμον)</div>\n        </div>\n\n        <div style={exampleStyle}>\n          The search engine accepts beta-code representations of Greek words. Thus, a search for\n          no/mon is equivalent to a search for νόμον:\n          <div style={preformattedStyle}>no/mon</div>\n        </div>\n        <Message\n          info\n          className={className}\n          content=\"If you are searching using beta-code, make sure to put your search query in single quotes (e.g. 'no/mon')\"\n        />\n      </Accordion.Content>\n\n      <Accordion.Title\n        active={activeIndex === 1}\n        index={1}\n        onClick={handleClick}\n      >\n        <Icon name=\"dropdown\" />\n        How do I search for related forms?\n      </Accordion.Title>\n      <Accordion.Content active={activeIndex === 1}>\n        Searching for related forms causes the search engine to look for all other variations of a\n        word. For example, a search for ἀδελφός would also search for ἀδελφοί, ἀδελφοῦ, ἀδελφοί,\n        etc.\n        <Message\n          info\n          className={className}\n          content=\"Searching for related forms is considerably slower than searching for a particular form. \"\n        />\n      </Accordion.Content>\n\n      <Accordion.Title\n        active={activeIndex === 2}\n        index={2}\n        onClick={handleClick}\n      >\n        <Icon name=\"dropdown\" />\n        What fields can be searched?\n      </Accordion.Title>\n      <Accordion.Content active={activeIndex === 2}>\n        Several fields exist that can be be searched. Just append the field name to the search\n        with a colon to search it (e.g. work:new-testament). Below are the available fields:\n        <Table inverted={inverted}>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Field</Table.HeaderCell>\n              <Table.HeaderCell>Description</Table.HeaderCell>\n              <Table.HeaderCell>Example</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n            <Table.Row>\n              <Table.Cell>work</Table.Cell>\n              <Table.Cell>\n                Search for items within a particular work (New Testament, Agammenon, etc.)\n              </Table.Cell>\n              <Table.Cell>work:&quot;New Testament&quot;</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>no_diacritics</Table.Cell>\n              <Table.Cell>\n                Search for words disregarding the diacritical marks. Searching for\n                no_diacritics:και will match on καὶ and καῖ\n              </Table.Cell>\n              <Table.Cell>no_diacritics:ευαγγελιον</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>section</Table.Cell>\n              <Table.Cell>\n                Search for items within a section (chapter, division, book, etc.)\n              </Table.Cell>\n              <Table.Cell>section:&quot;Matthew 5&quot;</Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell>author</Table.Cell>\n              <Table.Cell>\n                Search for verses within works created by a particular author.\n              </Table.Cell>\n              <Table.Cell>author:&quot;Flavius Josephus&quot;</Table.Cell>\n            </Table.Row>\n          </Table.Body>\n        </Table>\n      </Accordion.Content>\n    </Accordion>\n  );\n}\n\nSearchHelp.propTypes = {\n  inverted: PropTypes.bool,\n};\n\nSearchHelp.defaultProps = {\n  inverted: false,\n};\n\nexport default SearchHelp;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport {\n  Input, Container, Button, Checkbox, Icon, Message, Tab,Dropdown,\n} from 'semantic-ui-react';\nimport BarChart from '../Charts/BarChart';\nimport SearchResults from './SearchResults';\nimport SearchHelp from './SearchHelp';\nimport ErrorMessage from '../ErrorMessage';\nimport FullscreenDialog from '../FullscreenDialog';\nimport { ENDPOINT_SEARCH } from '../Endpoints';\nimport { SEARCH, READ_WORK } from '../URLs';\nimport './index.scss';\n\nconst MODE_NOT_STARTED = 0;\nconst MODE_SEARCHING = 1;\nconst MODE_ERROR = 2;\nconst MODE_NO_RESULTS = 3;\nconst MODE_RESULTS = 4;\n\nconst CONVERT_INT = 0;\nconst CONVERT_BOOL = 1;\n\nconst CheckboxStyle = {\n  marginTop: 12,\n  marginRight: 12,\n  marginBottom: 12,\n};\n\nconst DownloadLinkStyle = {\n  marginTop: 12,\n};\n\nconst downloadOptions = [\n  { text: 'as CSV', value: 'csv'},\n  { text: 'as XLSX (Excel)', value: 'xlsx'},\n]\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nfunction searchResultsByMode(mode, resultSet, page, lastPage, goBack, goNext, error, inverted, downloadUrl = null) {\n  let className = '';\n\n  if (inverted) {\n    className = 'inverted';\n  }\n\n  function downloadResults(filetype='csv') {\n    window.open(`${downloadUrl}${filetype}`, '_blank');\n  }\n\n  return (\n    <Tab.Pane inverted={inverted}>\n      {mode === MODE_SEARCHING && (\n        <Message icon className={className}>\n          <Icon name=\"circle notched\" loading />\n          <Message.Content>\n            <Message.Header>Just one second</Message.Header>\n            Performing the search...\n          </Message.Content>\n        </Message>\n      )}\n      {mode === MODE_ERROR && (\n        <ErrorMessage\n          title=\"Unable to perform the search\"\n          description=\"The search could not be executed.\"\n          message={error}\n          inverted={inverted}\n        />\n      )}\n      {mode === MODE_NO_RESULTS && (\n        <Message className={className}>\n          <Message.Header>No Results Found</Message.Header>\n          <p>\n            No Results were found for the given search.\n          </p>\n        </Message>\n      )}\n      {mode === MODE_RESULTS && (\n        <>\n          <SearchResults\n            results={resultSet.results}\n            matchCount={resultSet.match_count}\n            resultCount={resultSet.result_count}\n            page={page}\n            lastPage={lastPage}\n            goBack={() => goBack()}\n            goNext={() => goNext()}\n            inverted={inverted}\n          />\n          {downloadUrl && (\n            <div style={DownloadLinkStyle}>\n              <Dropdown button text='Download Results'>\n                <Dropdown.Menu>\n                  {downloadOptions.map((downloadOption) => (\n                    <Dropdown.Item key={downloadOption.value} onClick={() => downloadResults(downloadOption.value)}>{downloadOption.text}</Dropdown.Item>\n                  ))}\n                </Dropdown.Menu>\n              </Dropdown>\n            </div>\n          )}\n        </>\n      )}\n      {mode === MODE_NOT_STARTED && (\n        <Message className={className}>\n          <Message.Header>Enter a search</Message.Header>\n          <p>\n            Enter a search term to get started.\n          </p>\n        </Message>\n      )}\n    </Tab.Pane>\n  );\n}\n\n/**\n * Gets the parameter of the default value. This optionally converts the parameter format too.\n * @param {string} searchParams The string containing the URL parameters\n * @param {*} paramName The name of the paramter to get\n * @param {*} defaultValue The default value if the paramter doesn't exist yet\n * @param {*} convertFormat Whether to convert the value type (null or CONVERT_INT or CONVERT_BOOL)\n */\nfunction getParamOrDefault(searchParams, paramName, defaultValue, convertFormat = null) {\n  const paramValue = searchParams.get(paramName);\n  if (paramValue) {\n    if (convertFormat === CONVERT_INT) {\n      return parseInt(paramValue, 10);\n    }\n\n    if (convertFormat === CONVERT_BOOL && paramValue === '0') {\n      return false;\n    }\n\n    if (convertFormat === CONVERT_BOOL) {\n      return true;\n    }\n\n    return paramValue;\n  }\n\n  return defaultValue;\n}\n\n/**\n * This class renders a search page and results.\n */\nfunction Search({ inverted, history, location }) {\n  // Get the query params\n  const queryParams = useQuery();\n\n  // Setup state\n  const [query, setQuery] = useState(getParamOrDefault(queryParams, 'q', ''));\n  const [resultSet, setResultSet] = useState(null);\n  const [error, setError] = useState(null);\n  const [ignoreDiacritics, setIgnoreDiacritics] = useState(getParamOrDefault(queryParams, 'ignore_diacritics', false, CONVERT_BOOL));\n  const [searchRelatedForms, setSearchRelatedForms] = useState(getParamOrDefault(queryParams, 'include_related', false, CONVERT_BOOL));\n  const [searching, setSearching] = useState(false);\n  const [page, setPage] = useState(getParamOrDefault(queryParams, 'page', 1, CONVERT_INT));\n  const [searchedKey, setSearchedKey] = useState(null);\n  const [linkBackURL, setLinkBackURL] = useState(null);\n\n  // Keep an indicator of which search has run so that we don't post results from a previous search if the user\n  // clicks search twice and the results from the first search comes back after the second one.\n  const searchCount = useRef(0);\n\n  let className = '';\n\n  if (inverted) {\n    className = 'inverted';\n  }\n\n  // Calculate the last page\n  let lastPage = 1;\n\n  if (resultSet) {\n    lastPage = Math.ceil(resultSet.result_count / 10);\n  }\n\n  /**\n   * Change the history entry.\n   *\n   * @param {string} q The search query\n   * @param {integer} selectedPage The page offset\n   * @param {bool} diacritics Whether diacritics ought to be ignored\n   * @param {bool} relatedForms Whether related forms ought to be ignored\n   */\n  const updateHistory = (q, selectedPage, diacritics, relatedForms) => {\n    history.push(SEARCH(q, diacritics, relatedForms, selectedPage), location.state);\n  };\n\n  /**\n   * Update the history so that the search is kicked off.\n   *\n   * @param {int} requestedPage The page number\n   */\n  const doSearch = (requestedPage) => {\n    updateHistory(query, requestedPage, ignoreDiacritics, searchRelatedForms);\n  };\n\n  /**\n   * Perform the REST call to perform the search\n   *\n   * @param {int} requestedPage The page number\n   */\n  const executeSearch = (requestedPage) => {\n    setSearching(true);\n    setError(null);\n    setPage(requestedPage);\n    searchCount.current += 1;\n    const searchCountLocal = searchCount.current;\n\n    fetch(ENDPOINT_SEARCH(query, requestedPage, ignoreDiacritics, searchRelatedForms))\n      .then((res) => res.json())\n      .then((data) => {\n        if(searchCountLocal === searchCount.current) {\n          setResultSet(data);\n          setSearching(false);\n          setError(null);\n        }\n      })\n      .catch((e) => {\n        setError(e.toString());\n        setSearching(false);\n        setResultSet(null);\n      });\n  };\n\n  useEffect(() => {\n    // Use the searched key to determine if we have already searched for this page\n    if (location.key !== searchedKey) {\n      setSearchedKey(location.key);\n      executeSearch(getParamOrDefault(queryParams, 'page', page, CONVERT_INT));\n    }\n\n    // Remember what the history state was so that we can link back to the reading page\n    if (!linkBackURL && location.state && location.state.work) {\n      setLinkBackURL(READ_WORK(location.state.work, null, ...location.state.divisions));\n    }\n  });\n\n  const goBack = () => {\n    if (page > 1) {\n      doSearch(page - 1);\n    }\n  };\n\n  const goNext = () => {\n    if (page < lastPage) {\n      doSearch(page + 1);\n    }\n  };\n\n  const onKeyPressed = (event) => {\n    if (event.key === 'Enter') {\n      doSearch(1);\n    }\n  };\n\n  const onClickBack = () => {\n    if (linkBackURL) {\n      history.push(linkBackURL);\n    } else {\n      history.push(READ_WORK());\n    }\n  };\n\n  // Figure out what mode the page is in\n  let mode = MODE_NOT_STARTED;\n\n  if (searching) {\n    mode = MODE_SEARCHING;\n  } else if (error) {\n    mode = MODE_ERROR;\n  } else if (resultSet && resultSet.result_count === 0) {\n    mode = MODE_NO_RESULTS;\n  } else if (resultSet && resultSet.result_count > 0) {\n    mode = MODE_RESULTS;\n  }\n\n  // Create a custom className for signaling the desire to switch to inverted\n  let classNameSuffix = '';\n\n  if (inverted) {\n    classNameSuffix = ' inverted';\n  }\n\n  // Create the list of tab panes to show\n  const panes = [\n    {\n      menuItem: 'Results',\n      render: () => searchResultsByMode(\n        mode, resultSet, page, lastPage, goBack, goNext, error, inverted, ENDPOINT_SEARCH(query, 1, searchRelatedForms, ignoreDiacritics, true, 1000)\n      ),\n    },\n    {\n      menuItem: 'Matched words',\n      render: () => (\n        <Tab.Pane inverted={inverted}>\n          {resultSet && Object.keys(resultSet.matched_terms).length > 0 && (\n            <BarChart\n              results={resultSet.matched_terms}\n              title=\"Frequency of matched words\"\n              noDataMessage=\"No data available on matched terms\"\n              inverted={inverted}\n            />\n          )}\n          {(!resultSet || Object.keys(resultSet.matched_terms).length === 0) && (\n            <Message info className={classNameSuffix}>\n              No data available on matched terms\n            </Message>\n          )}\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: 'Matched works',\n      render: () => (\n        <Tab.Pane inverted={inverted}>\n          {resultSet && Object.keys(resultSet.matched_works).length > 0 && (\n            <BarChart\n              results={resultSet.matched_works}\n              title=\"Frequency of matched works\"\n              noDataMessage=\"No data available on matched works\"\n              inverted={inverted}\n            />\n          )}\n          {(!resultSet || Object.keys(resultSet.matched_works).length === 0) && (\n            <Message info className={classNameSuffix}>\n              No data available on matched works\n            </Message>\n          )}\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: 'Matched sections',\n      render: () => (\n        <Tab.Pane inverted={inverted}>\n          {resultSet && Object.keys(resultSet.matched_sections).length > 0 && (\n            <BarChart\n              results={resultSet.matched_sections}\n              title=\"Frequency of matched sections\"\n              noDataMessage=\"No data available on matched sections\"\n              inverted={inverted}\n            />\n          )}\n          {(!resultSet || Object.keys(resultSet.matched_sections).length === 0) && (\n            <Message info className={classNameSuffix}>\n              No data available on matched sections\n            </Message>\n          )}\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: 'Help',\n      render: () => <Tab.Pane inverted={inverted}><SearchHelp inverted={inverted} /></Tab.Pane>,\n    },\n  ];\n\n  return (\n    <FullscreenDialog inverted={inverted} onClickBack={onClickBack} backTitle=\"Back to the Library\">\n      <Container>\n        <Input\n          action={\n            (\n              <Button\n                onClick={() => doSearch(1)}\n                basic\n                inverted={inverted}\n              >\n                Go\n              </Button>\n            )\n          }\n          inverted={inverted}\n          placeholder=\"Enter the text to search for (e.g. νόμου or no/mou)\"\n          value={query}\n          onChange={(e, d) => setQuery(d.value)}\n          onKeyPress={(e) => onKeyPressed(e)}\n          style={{ width: '100%' }}\n        />\n        <Checkbox className={className} style={CheckboxStyle} label=\"Search ignoring diacritics\" checked={ignoreDiacritics} onChange={(e, d) => setIgnoreDiacritics(d.checked)} />\n        <Checkbox className={className} style={CheckboxStyle} label=\"Search related Greek forms (slower but more thorough)\" checked={searchRelatedForms} onChange={(e, d) => setSearchRelatedForms(d.checked)} />\n        <Tab className={className} panes={panes} />\n      </Container>\n    </FullscreenDialog>\n  );\n}\n\nSearch.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  history: PropTypes.object.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  location: PropTypes.object.isRequired,\n  inverted: PropTypes.bool,\n};\n\nSearch.defaultProps = {\n  inverted: false,\n};\n\nexport default withRouter(Search);\n"],"sourceRoot":""}