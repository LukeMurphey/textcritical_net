var TextCritical={};TextCritical.setFormatBreakLine=function(){$(".verse_container").addClass("block");$("#align_break").addClass("active")};TextCritical.unSetFormatBreakLine=function(){$(".verse_container").removeClass("block");$("#align_break").removeClass("active")};TextCritical.toggleTOC=function(){$(".table_of_contents").toggle("fast","swing")};TextCritical.toggleVerseBreak=function(){break_verses=!break_verses;if(break_verses){TextCritical.setFormatBreakLine()}else{TextCritical.unSetFormatBreakLine()}settings.set("break_verses",break_verses)};TextCritical.scrolltoAnchor=function(a){$("html,body").animate({scrollTop:$("#"+a).offset().top},"slow")};TextCritical.scrollToVerse=function(b,a){if(a==null||a==undefined){console.warn("No base chapter URL was provided; will not be able to update the URL for the given verse");return true}var c="verse_"+b;title=document.title;history.pushState({verse:b},title,a+"/"+b);$(".verse_container").removeClass("highlighted");$(".verse.number").removeClass("label-info");$("#"+c).addClass("highlighted");$("#"+c+" .label").addClass("label-info");TextCritical.scrolltoAnchor(c);return false};TextCritical.loadStoreSettings=function(){var a={break_verses:false};settings=new Store("settings");break_verses=settings.get("break_verses",a);if(break_verses){TextCritical.setFormatBreakLine()}};TextCritical.resolve_path=function(a){var b=window.location.pathname.split("/");var c=[];for(i=0;i<b.length;i++){if(b[i].length>0){c.push(b[i])}if(c.length>=2){break}}refs=a.split(/[- :._]+/);return"/"+c.concat(refs).join("/")};TextCritical.go_to_chapter=function(a){document.location=TextCritical.resolve_path(a)};